"use strict";(self.webpackChunktest_ng7=self.webpackChunktest_ng7||[]).push([[788],{788:(on,ne,d)=>{d.r(ne),d.d(ne,{DashboardModule:()=>nn});var p=d(6895),v=d(6393),b=d(7750),L=d(4221),N=d(4903),M=d(7579),R=d(8372),P=d(1884),e=d(4650),V=d(7441),u=d(4006),oe=d(8161);function Ee(o,n){1&o&&(e.ynx(0),e.TgZ(1,"div",11)(2,"div",12)(3,"span",13),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function Fe(o,n){1&o&&(e.TgZ(0,"div")(1,"p",11),e._uU(2,"No logs found"),e.qZA()())}function Oe(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"button",21),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.view(a))}),e._uU(8,"View"),e.qZA()()()}if(2&o){const t=n.$implicit;e.xp6(2),e.Oqu(e.xi3(3,2,null==t?null:t.createdAt,"short")),e.xp6(3),e.Oqu(null==t?null:t.text)}}function Se(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"table",14)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Time"),e.qZA(),e.TgZ(6,"th",15)(7,"span"),e._uU(8,"Activity"),e.qZA()(),e.TgZ(9,"th"),e._uU(10,"Action"),e.qZA()()(),e.TgZ(11,"tbody"),e.YNc(12,Oe,9,5,"tr",16),e.qZA()(),e.TgZ(13,"div",17)(14,"ngb-pagination",18),e.NdJ("pageChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a._state.page=r)})("pageChange",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.refreshPromotions())}),e.qZA(),e.TgZ(15,"select",19),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a._state.limit=r)})("ngModelChange",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.refreshPromotions())}),e.TgZ(16,"option",20),e._uU(17,"5 items per page"),e.qZA(),e.TgZ(18,"option",20),e._uU(19,"10 items per page"),e.qZA(),e.TgZ(20,"option",20),e._uU(21,"20 items per page"),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.xp6(12),e.Q6J("ngForOf",t.promotions),e.xp6(2),e.Q6J("collectionSize",t._state.totalResults)("page",t._state.page)("pageSize",t._state.limit)("rotate",!0)("maxSize",5)("boundaryLinks",!0),e.xp6(1),e.Q6J("ngModel",t._state.limit),e.xp6(1),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",20)}}function Le(o,n){if(1&o&&e.YNc(0,Se,22,11,"div",8),2&o){const t=e.oxw();e.Q6J("ngIf",!t.isLoading)}}let Ne=(()=>{class o{constructor(t,i,r){this.router=t,this.staffService=i,this.cdr=r,this.isActivity=!0,this.searchTerm="",this.searchTermUpdate=new M.x,this._state={page:1,limit:20,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"desc"},this.promotions=[],this.isLoading=!1,this.searchTermUpdate.pipe((0,R.b)(200),(0,P.x)()).subscribe(a=>{this._state.searchTerm=a,this.getAllPromotions(this._state)})}ngOnInit(){this.isLoading=!0,this.getAllPromotions(this._state)}getAllPromotions(t){this.staffService.getActivity(t).subscribe(i=>{this.promotions=i.results,this.isLoading=!1,this.isActivity=0!=this.promotions.length,this.cdr.detectChanges(),this.setState(i)})}refreshPromotions(){this.getAllPromotions(this._state)}setState(t){this._state.page=t.page,this._state.limit=t.limit,this._state.totalPages=t.totalPages,this._state.totalResults=t.totalResults,this.cdr.detectChanges()}view(t){console.log(t.url),"agreements"===t.url?this.router.navigate(["dashboard/search/view-agreement/",t.refId]):"roles"==t.url?this.router.navigate(["roles/view-role/",t.refId]):"templates"==t.url?this.router.navigate(["notifications/view-notification",t.refId]):"staffs"==t.url?this.router.navigate(["employees/view-employee/",t.refId]):"timekeepers"==t.url||"timekeepers"==t.url?this.router.navigate(["time-keepers/",t.refId]):"billingcurrencys"==t.url?this.router.navigate(["data-mangement/billingcurrencies/"]):"attachmentTypes"==t.url?this.router.navigate(["data-mangement/attachmentTypes/"]):"areaOfLaws"==t.url?this.router.navigate(["data-mangement/area-of-laws/"]):"practiceGroups"==t.url?this.router.navigate(["data-mangement/practice-groups"]):"hourlyBillings"==t.url?this.router.navigate(["data-mangement/hourly-billings"]):"billingFrequencys"==t.url?this.router.navigate(["data-mangement/billing-frequencies"]):"baseRates"==t.url?this.router.navigate(["data-mangement/base-rates"]):"billingMethods"==t.url||"billingMethods"==t.url?this.router.navigate(["data-mangement/billing-methods"]):"payorTypes"==t.url?this.router.navigate(["data-mangement/payor-types"]):"sicCodes"==t.url&&this.router.navigate(["data-mangement/sic-codes"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b.F0),e.Y36(V.x),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-activity"]],viewQuery:function(t,i){if(1&t&&e.Gf(L.j,5),2&t){let r;e.iGM(r=e.CRH())&&(i.headers=r)}},decls:13,vars:7,consts:[[3,"heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-body"],[1,"row","mb-2","search-header"],[1,"col-md-12","text-left"],[1,"form-group","mb-1"],["type","text","type","text","name","searchTerm","id","logs","placeholder","Search here...",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["table",""],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"table","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","rotate","maxSize","boundaryLinks","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"btn","btn-info","view-activity","btn-block",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"input",7),e.NdJ("ngModelChange",function(a){return i._state.searchTerm=a})("ngModelChange",function(a){return i.searchTermUpdate.next(a)}),e.qZA()()()(),e.YNc(9,Ee,5,0,"ng-container",8),e.YNc(10,Fe,3,0,"div",9),e.YNc(11,Le,1,1,"ng-template",null,10,e.W1O),e.qZA()()()()),2&t){const r=e.MAs(12);e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("heading","Activity Logs"),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(6),e.Q6J("ngModel",i._state.searchTerm),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(1),e.Q6J("ngIf",!i.isActivity)("ngIfElse",r)}},dependencies:[p.sg,p.O5,u.YN,u.Kr,u.Fj,u.EJ,u.JJ,oe.q,u.On,v.N9,p.uU],styles:[".view-activity[_ngcontent-%COMP%]{margin:0!important;padding:1px 10px!important}"],data:{animation:[(0,N.Z9)()]}}),o})();var w=d(9301),H=d(6995),$=d(4304);function Ze(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clientLink())}),e.TgZ(2,"div",27)(3,"div",28),e._UZ(4,"img",29),e.qZA(),e.TgZ(5,"div",30)(6,"p"),e._uU(7," Number of Groups"),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.qZA()()()(),e.TgZ(10,"div",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clientLink())}),e.TgZ(11,"div",27)(12,"div",28),e._UZ(13,"img",29),e.qZA(),e.TgZ(14,"div",30)(15,"p"),e._uU(16," Number of Clients"),e.qZA(),e.TgZ(17,"div"),e._uU(18),e.ALo(19,"number"),e.qZA()()()(),e.TgZ(20,"div",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.matterLink())}),e.TgZ(21,"div",27)(22,"div",28),e._UZ(23,"img",29),e.qZA(),e.TgZ(24,"div",30)(25,"p"),e._uU(26,"Number of Matters"),e.qZA(),e.TgZ(27,"div"),e._uU(28),e.ALo(29,"number"),e.qZA()()()(),e.TgZ(30,"div",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.aggregationLink("expire-weekly"))}),e.TgZ(31,"div",31)(32,"div",28),e._UZ(33,"img",32),e.qZA(),e.TgZ(34,"div",30)(35,"p"),e._uU(36,"Clients expiring this week"),e.qZA(),e.TgZ(37,"div"),e._uU(38),e.ALo(39,"number"),e.qZA()()()(),e.TgZ(40,"div",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.aggregationLink("expire-monthly"))}),e.TgZ(41,"div",31)(42,"div",28),e._UZ(43,"img",32),e.qZA(),e.TgZ(44,"div",30)(45,"p"),e._uU(46,"Clients expiring this month"),e.qZA(),e.TgZ(47,"div"),e._uU(48),e.ALo(49,"number"),e.qZA()()()()()}if(2&o){const t=e.oxw();e.xp6(9),e.Oqu(t.clientGroupCount),e.xp6(9),e.Oqu(e.lcZ(19,5,t.clientCount)),e.xp6(10),e.Oqu(e.lcZ(29,7,t.matterCount)),e.xp6(10),e.Oqu(e.lcZ(39,9,t.expireWeeklyCount)),e.xp6(10),e.Oqu(e.lcZ(49,11,t.expireMonthlyCount))}}function Re(o,n){1&o&&(e.ynx(0),e.TgZ(1,"div",33)(2,"div",34)(3,"span",35),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function Pe(o,n){1&o&&(e.ynx(0),e.TgZ(1,"div",36)(2,"div",34)(3,"span",35),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function Ue(o,n){1&o&&(e.ynx(0),e.TgZ(1,"div",36)(2,"div",34)(3,"span",35),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function Be(o,n){1&o&&(e.ynx(0),e.TgZ(1,"div",36)(2,"div",34)(3,"span",35),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function qe(o,n){1&o&&(e.TgZ(0,"div",36)(1,"span"),e._uU(2,"No Agreement Found"),e.qZA()())}function Ge(o,n){1&o&&(e.ynx(0),e.TgZ(1,"div",36)(2,"div",34)(3,"span",35),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function je(o,n){1&o&&(e.TgZ(0,"div",36)(1,"span"),e._uU(2,"No Payor Type Found"),e.qZA()())}function Je(o,n){1&o&&(e.ynx(0),e.TgZ(1,"div",36)(2,"div",34)(3,"span",35),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function Ye(o,n){1&o&&(e.TgZ(0,"div",36)(1,"span"),e._uU(2,"No Agreement Found"),e.qZA()())}let Ve=(()=>{class o{constructor(t,i,r,a){this.router=t,this.searchService=i,this.cdr=r,this.confirmationDialogService=a,this.alerts=[],this.sliders=[],this.aggregationBilling=[],this.payorTypeAggrements=[],this.isLoading=!1,this.isChartLoading=!1,this.isAggregationBillingLoading=!1,this.clientCount=0,this.clientGroupCount=0,this.expireWeeklyCount=0,this.expireMonthlyCount=0,this.matterCount=0,this.aggregationCount=0,this.expireAggrement=[0,0,0,0],this.adjustmentAggrement=[0,0,0,0],this.dataSets=["Matter","Client","Aggreement"],this.dateRangeLabel=["30 Days","31 to 60 Days","61 to 90 Days","90+ Days"],this.dateRangeValue=["Expiring Agreement","Adjustment Date"],this.actionType=["Added Agreement","Modify Agreement"],this.addedAggrement=[],this.updateAggrement=[],this.staff=[],this.teamMemberFilter="15",this.teamMemberFilterLoading=!1,this.teamMembersAggregationOperation=[],this.sliders.push({imagePath:"assets/images/slider1.jpg",label:"First slide label",text:"Nulla vitae elit libero, a pharetra augue mollis interdum."},{imagePath:"assets/images/slider2.jpg",label:"Second slide label",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{imagePath:"assets/images/slider3.jpg",label:"Third slide label",text:"Praesent commodo cursus magna, vel scelerisque nisl consectetur."}),this.alerts.push({id:1,type:"success",message:"Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n                Voluptates est animi quibusdam praesentium quam, et perspiciatis,\n                consectetur velit culpa molestias dignissimos\n                voluptatum veritatis quod aliquam! Rerum placeat necessitatibus, vitae dolorum"},{id:2,type:"warning",message:"Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n                Voluptates est animi quibusdam praesentium quam, et perspiciatis,\n                consectetur velit culpa molestias dignissimos\n                voluptatum veritatis quod aliquam! Rerum placeat necessitatibus, vitae dolorum"})}ngOnInit(){this.isLoading=!0,this.isChartLoading=!0,this.isAggregationBillingLoading=!0,this.getAllSearch(),this.getDayExpireChart(),this.getAggregationBilling(),this.getAggregationFilter()}getDayExpireChart(){return this.searchService.getDayExpireChart().subscribe(t=>{this.expireAggrement=[t.expire.expire30DaysCount||0,t.expire.expire31To60DaysCount||0,t.expire.expire61To90DaysCount||0,t.expire.expire90PlusDaysCount||0],this.adjustmentAggrement=[t.adjustment.adjustment30DaysCount||0,t.adjustment.adjustment31To60DaysCount||0,t.adjustment.adjustment61To90DaysCount||0,t.adjustment.adjustment90PlusDaysCount||0],this.isChartLoading=!1,this.createExpireChart()},t=>{this.isChartLoading=!1})}getAggregationFilter(){return this.teamMemberFilterLoading=!0,this.searchService.getAggregationFilter(this.teamMemberFilter).subscribe(t=>{this.teamMemberFilterLoading=!1,this.teamMembersAggregationOperation=t,this.chartTeamMembersAggregationOperationDraw(t)},t=>{this.teamMemberFilterLoading=!1})}onlyUnique(t,i,r){return r.indexOf(t)===i}chartTeamMembersAggregationOperationDraw(t){let i=[],r=[],a={};t.map(s=>{a[s.staffName.name]||(a[s.staffName.name]={}),"add"===s._id.action?a[s.staffName.name].addField=s:a[s.staffName.name].updateField=s}).filter(this.onlyUnique),Object.values(a).forEach(s=>{s.addField?(this.addedAggrement.push(s.addField),r.push(s.addField.count)):(this.addedAggrement.push(null),r.push(0)),s.updateField?(this.updateAggrement.push(s.updateField),i.push(s.updateField.count)):(this.updateAggrement.push(null),i.push(0))}),this.staff=t,this.chartAggregationTeamActivity=new w.kL("chartTeamMemberFilter",{type:"bar",data:{labels:Object.keys(a),datasets:[{label:this.actionType[0],data:r,backgroundColor:"limegreen"},{label:this.actionType[1],data:i,backgroundColor:"blue"}]},options:{aspectRatio:2.5,onClick:(s,l)=>this.onChartTeamActionClicked(s,l)}})}onChartTeamActionClicked(t,i){switch(i?.[0]?.datasetIndex>=0&&this.actionType[i[0].datasetIndex]){case"Added Agreement":const a=i?.[0]?.index>=0&&this.addedAggrement[i[0].index];a?._id?.staff&&this.router.navigate([`/dashboard/staff/added/${a._id.staff}/${this.teamMemberFilter}`]);break;case"Modify Agreement":const s=i?.[0]?.index>=0&&this.updateAggrement[i[0].index];s?._id?.staff&&this.router.navigate([`/dashboard/staff/updated/${s._id.staff}/${this.teamMemberFilter}`])}}getAggregationBilling(){return this.searchService.getAggregationBilling().subscribe(t=>{this.isAggregationBillingLoading=!1,this.aggregationBilling=t.billingModel||[],this.payorTypeAggrements=t.payorType||[],this.chartAggregationBillingDraw(t.billingModel||[]),this.chartPayorTypeAggrementsDraw(t.payorType||[])},t=>{this.isAggregationBillingLoading=!1})}chartPayorTypeAggrementsDraw(t){0!==t.length&&(this.chartpayorTypeAggrementschart=new w.kL("chartpayorTypeAggrements",{type:"pie",data:{labels:t.map(i=>i._id),datasets:[{data:t.map(i=>i.count)}]},options:{aspectRatio:2.5,onClick:(i,r)=>this.onChartPayorClicked(i,r)}}))}chartAggregationBillingDraw(t){0!==t.length&&(this.aggregationBillingchart=new w.kL("chartAggregationBilling",{type:"pie",data:{labels:t.map(i=>i._id),datasets:[{data:t.map(i=>i.count)}]},options:{aspectRatio:2.5,onClick:(i,r)=>this.onChartClicked(i,r)}}))}onChartPayorClicked(t,i){const r=i?.[0]?.index>=0&&this.payorTypeAggrements[i[0].index];r&&this.router.navigate(["/dashboard/payor/"+encodeURI(r._id)])}onCharLinkClicked(t,i){switch(i?.[0]?.index>=0&&this.dataSets[i[0].index]){case"Matter":this.router.navigate(["/matters"]);break;case"Client":this.router.navigate(["/clients"]);break;case"Aggreement":this.router.navigate(["/dashboard/search"])}}onChartClicked(t,i){const r=i?.[0]?.index>=0&&this.aggregationBilling[i[0].index];r&&this.router.navigate(["/dashboard/billing/"+encodeURI(r._id)])}onCharExpireClicked(t,i){const r=i?.[0]?.index>=0&&this.dateRangeLabel[i[0].index].toLowerCase().replace(/ /g,"-").replace(/\+/g,"plus");switch(i?.[0]?.datasetIndex>=0&&this.dateRangeValue[i[0].datasetIndex]){case"Expiring Agreement":this.router.navigate([`/dashboard/search/expire/${r}`]);break;case"Adjustment Date":this.router.navigate([`/dashboard/search/adjustment/${r}`])}}teamMemberFilterChange(){this.chartAggregationTeamActivity&&this.chartAggregationTeamActivity.destroy(),this.getAggregationFilter()}drawPieChar(){this.pieChart=new w.kL("cl-ma-ag--chart",{type:"pie",data:{labels:this.dataSets,datasets:[{data:[this.matterCount,this.clientCount,this.aggregationCount],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)"]}]},options:{aspectRatio:2.5,onClick:(t,i)=>this.onCharLinkClicked(t,i)}})}getAllSearch(){return this.searchService.getDashboardRecords().subscribe(t=>{this.clientCount=t.clientCount,this.aggregationCount=t.aggregationCount,this.expireWeeklyCount=t.expireWeeklyCount,this.expireMonthlyCount=t.expireMonthlyCount,this.matterCount=t.matterCount,this.clientGroupCount=t.clientCount,this.isLoading=!1,this.drawPieChar()},t=>{this.isLoading=!1})}closeAlert(t){const i=this.alerts.indexOf(t);this.alerts.splice(i,1)}chartClicked(t){}chartHovered(t){}clientLink(){this.router.navigate(["/clients"])}matterLink(){this.router.navigate(["/matters"])}aggregationLink(t){this.router.navigate([`/dashboard/search/expire/${t}`])}createExpireChart(){this.chart=new w.kL("expire-chart",{type:"bar",data:{labels:this.dateRangeLabel,datasets:[{label:this.dateRangeValue[0],data:this.expireAggrement,backgroundColor:"blue"},{label:this.dateRangeValue[1],data:this.adjustmentAggrement,backgroundColor:"limegreen"}]},options:{aspectRatio:2.5,onClick:(t,i)=>this.onCharExpireClicked(t,i)}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b.F0),e.Y36(H.o),e.Y36(e.sBO),e.Y36($.O))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],decls:69,vars:17,consts:[[1,"green-bg","pb-3"],[1,"container-fluid","mt-2"],["class","row dashboard-cols",4,"ngIf"],[4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col","col-sm-6"],[1,"card","mb-2"],[1,"card-header"],[1,"card-body"],["id","expire-chart"],["id","cl-ma-ag--chart"],["class","text-center",4,"ngIf"],["id","chartAggregationBilling"],[1,"col-6","col-sm-6"],["id","chartpayorTypeAggrements"],["id","floatingSelect",1,"form-select","form-control","form-control-lg",3,"ngModel","change","ngModelChange"],["selected","","disabled","","value",""],["value","15"],["value","1M"],["value","3M"],["value","6M"],["value","9M"],["value","12M"],["id","chartTeamMemberFilter"],[1,"row","dashboard-cols"],["role","button",1,"col-6","dashboard-stripe","mb-2",3,"click"],[1,"i-container"],[1,"icon-i"],["src","assets/images/up.svg",1,"icon-image"],[1,"text"],[1,"i-container","negative"],["src","assets/images/down.svg",1,"icon-image"],[1,"text-center","div-loader-height"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"text-center"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Ze,50,13,"div",2),e.YNc(3,Re,5,0,"ng-container",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),e._uU(9," Expire/Adjustment Agreement "),e.qZA(),e.TgZ(10,"div",9),e.YNc(11,Pe,5,0,"ng-container",3),e.TgZ(12,"canvas",10),e._uU(13),e.qZA()()()(),e.TgZ(14,"div",6)(15,"div",7)(16,"div",8),e._uU(17," Client/Matter/Agreement "),e.qZA(),e.TgZ(18,"div",9),e.YNc(19,Ue,5,0,"ng-container",3),e.TgZ(20,"canvas",11),e._uU(21),e.qZA()()()()()(),e.TgZ(22,"div",4)(23,"div",5)(24,"div",6)(25,"div",7)(26,"div",8),e._uU(27," Agreement Pricing Model "),e.qZA(),e.TgZ(28,"div",9),e.YNc(29,Be,5,0,"ng-container",3),e.YNc(30,qe,3,0,"div",12),e.TgZ(31,"canvas",13),e._uU(32),e.qZA()()()(),e.TgZ(33,"div",14)(34,"div",7)(35,"div",8),e._uU(36," Payor Type "),e.qZA(),e.TgZ(37,"div",9),e.YNc(38,Ge,5,0,"ng-container",3),e.YNc(39,je,3,0,"div",12),e.TgZ(40,"canvas",15),e._uU(41),e.qZA()()()(),e.TgZ(42,"div",6)(43,"div",7)(44,"div",8),e._uU(45," Number of Records Created and Modified by Team Member "),e.qZA(),e.TgZ(46,"div",9)(47,"select",16),e.NdJ("change",function(){return i.teamMemberFilterChange()})("ngModelChange",function(a){return i.teamMemberFilter=a}),e.TgZ(48,"option",17),e._uU(49,"Select Filter Timing"),e.qZA(),e.TgZ(50,"option",18),e._uU(51,"15 Days"),e.qZA(),e.TgZ(52,"option",19),e._uU(53,"Monthly"),e.qZA(),e.TgZ(54,"option",20),e._uU(55,"3 Months"),e.qZA(),e.TgZ(56,"option",21),e._uU(57,"6 Months"),e.qZA(),e.TgZ(58,"option",22),e._uU(59,"9 Months"),e.qZA(),e.TgZ(60,"option",23),e._uU(61,"12 Months"),e.qZA()(),e.YNc(62,Je,5,0,"ng-container",3),e.YNc(63,Ye,3,0,"div",12),e.TgZ(64,"canvas",24),e._uU(65),e.qZA()()()()()(),e.TgZ(66,"div",4)(67,"div",5),e._UZ(68,"div",6),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(8),e.Q6J("ngIf",i.isChartLoading),e.xp6(2),e.Oqu(i.chart),e.xp6(6),e.Q6J("ngIf",i.isLoading),e.xp6(2),e.Oqu(i.pieChart),e.xp6(8),e.Q6J("ngIf",i.isAggregationBillingLoading),e.xp6(1),e.Q6J("ngIf",!i.isAggregationBillingLoading&&0===i.aggregationBilling.length),e.xp6(2),e.Oqu(i.chartAggregationBilling),e.xp6(6),e.Q6J("ngIf",i.isAggregationBillingLoading),e.xp6(1),e.Q6J("ngIf",!i.isAggregationBillingLoading&&0===i.payorTypeAggrements.length),e.xp6(2),e.Oqu(i.chartpayorTypeAggrementschart),e.xp6(6),e.Q6J("ngModel",i.teamMemberFilter),e.xp6(15),e.Q6J("ngIf",i.teamMemberFilterLoading),e.xp6(1),e.Q6J("ngIf",!i.isAggregationBillingLoading&&0===i.aggregationBilling.length),e.xp6(2),e.Oqu(i.chartAggregationTeamActivity))},dependencies:[p.O5,u.YN,u.Kr,u.EJ,u.JJ,u.On,p.JJ],styles:[".border-left-primary[_ngcontent-%COMP%]{border-left:.25rem solid #4e73df!important}.border-bottom-primary[_ngcontent-%COMP%]{border-bottom:.25rem solid #4e73df!important}.border-left-secondary[_ngcontent-%COMP%]{border-left:.25rem solid #858796!important}.border-bottom-secondary[_ngcontent-%COMP%]{border-bottom:.25rem solid #858796!important}.border-left-success[_ngcontent-%COMP%]{border-left:.25rem solid #1cc88a!important}.border-bottom-success[_ngcontent-%COMP%]{border-bottom:.25rem solid #1cc88a!important}.border-left-info[_ngcontent-%COMP%]{border-left:.25rem solid #36b9cc!important}.border-bottom-info[_ngcontent-%COMP%]{border-bottom:.25rem solid #36b9cc!important}.border-left-warning[_ngcontent-%COMP%]{border-left:.25rem solid #f6c23e!important}.border-bottom-warning[_ngcontent-%COMP%]{border-bottom:.25rem solid #f6c23e!important}.border-left-danger[_ngcontent-%COMP%]{border-left:.25rem solid #e74a3b!important}.border-bottom-danger[_ngcontent-%COMP%]{border-bottom:.25rem solid #e74a3b!important}.border-left-light[_ngcontent-%COMP%]{border-left:.25rem solid #f8f9fc!important}.border-bottom-light[_ngcontent-%COMP%]{border-bottom:.25rem solid #f8f9fc!important}.border-left-dark[_ngcontent-%COMP%]{border-left:.25rem solid #5a5c69!important}.border-bottom-dark[_ngcontent-%COMP%]{border-bottom:.25rem solid #5a5c69!important}.div-loader-height[_ngcontent-%COMP%]{min-height:200px;line-height:200px}@media (max-width: 768px){.dashboard-cols[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column;align-items:center!important;text-align:center}.dashboard-cols[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%]{padding:0;margin:0 0 10px}.dashboard-cols[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col.mr-2[_ngcontent-%COMP%]{margin-right:0!important}}canvas[_ngcontent-%COMP%]{cursor:pointer}.dashboard-cols[_ngcontent-%COMP%]   .dashboard-stripe[_ngcontent-%COMP%]{width:20%}@media (max-width: 768px){.dashboard-cols[_ngcontent-%COMP%]   .dashboard-stripe[_ngcontent-%COMP%]{width:50%}}"],data:{animation:[(0,N.Z9)()]}}),o})();var He=d(2558),re=d(9646),ae=d(8733),$e=d(9300),Qe=d(3900),Q=d(4004),Ke=d(262),ze=d(8505);const We=["instance"];function Xe(o,n){if(1&o&&e._UZ(0,"ngb-highlight",29),2&o){const t=n.result,i=n.term,r=e.oxw();e.Q6J("result",r.formatEmployee(t))("term",i)}}function et(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",30),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onCheckboxChange(r,"practiceGroup"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&o){const t=n.$implicit,i=e.oxw();e.xp6(2),e.Q6J("value",t._id.practiceGroupId)("checked",i.filterForm.controls.practiceGroup.value.includes(t._id.practiceGroupId)),e.xp6(1),e.hij(" ",t._id.practiceGroupName," ")}}function tt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",30),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onCheckboxChange(r,"practiceGroup"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&o){const t=n.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("value",t._id.practiceGroupId)("checked",i.filterForm.controls.practiceGroup.value.includes(t._id.practiceGroupId)),e.xp6(1),e.hij(" ",t._id.practiceGroupName," ")}}function it(o,n){if(1&o&&(e.TgZ(0,"ul"),e.YNc(1,tt,4,3,"li",17),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.collectionOptions||null==t.collectionOptions.practiceGroup?null:t.collectionOptions.practiceGroup.slice(t.countRecords,t.countRecords.length))}}function nt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"a",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.expandPracticeGroupClick(!0))}),e._uU(1,"Show More >>"),e.qZA()}}function ot(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"a",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.expandPracticeGroupClick(!1))}),e._uU(1,"Show Less << "),e.qZA()}}function rt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",30),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onCheckboxChange(r,"areaOfLaw"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&o){const t=n.$implicit,i=e.oxw();e.xp6(2),e.Q6J("value",t._id.areaOfLawId)("checked",i.filterForm.controls.areaOfLaw.value.includes(t._id.areaOfLawId)),e.xp6(1),e.hij(" ",t._id.areaOfLawName," ")}}function at(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",30),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onCheckboxChange(r,"areaOfLaw"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&o){const t=n.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("value",t._id.areaOfLawId)("checked",i.filterForm.controls.areaOfLaw.value.includes(t._id.areaOfLawId)),e.xp6(1),e.hij(" ",t._id.areaOfLawName," ")}}function st(o,n){if(1&o&&(e.TgZ(0,"ul"),e.YNc(1,at,4,3,"li",17),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.collectionOptions||null==t.collectionOptions.areaOfLaw?null:t.collectionOptions.areaOfLaw.slice(t.countRecords,t.countRecords.length))}}function lt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"a",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.expandAreaOfLowClick(!0))}),e._uU(1,"Show More >>"),e.qZA()}}function ct(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"a",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.expandAreaOfLowClick(!1))}),e._uU(1,"Show Less << "),e.qZA()}}function dt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",30),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onCheckboxChange(r,"baseRate"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&o){const t=n.$implicit,i=e.oxw();e.xp6(2),e.Q6J("value",t._id||-1)("checked",i.filterForm.controls.baseRate.value.includes(t._id||-1)),e.xp6(1),e.hij(" ",t._id||"Other"," ")}}function ut(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",30),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onCheckboxChange(r,"feeArrangementType"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&o){const t=n.$implicit,i=e.oxw();e.xp6(2),e.Q6J("value",t._id)("checked",i.filterForm.controls.feeArrangementType.value.includes(t._id)),e.xp6(1),e.hij(" ",t._id," ")}}function ht(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",30),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onCheckboxChange(r,"payorType"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&o){const t=n.$implicit,i=e.oxw();e.xp6(2),e.Q6J("value",t._id)("checked",i.filterForm.controls.payorType.value.includes(t._id)),e.xp6(1),e.hij(" ",t._id," ")}}function mt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",30),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onCheckboxChange(r,"billingMethod"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&o){const t=n.$implicit,i=e.oxw();e.xp6(2),e.Q6J("value",t._id)("checked",i.filterForm.controls.billingMethod.value.includes(t._id)),e.xp6(1),e.hij(" ",t._id," ")}}function pt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",30),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onCheckboxChange(r,"sicCode"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&o){const t=n.$implicit,i=e.oxw();e.xp6(2),e.Q6J("value",t._id.clientSicId)("checked",i.filterForm.controls.sicCode.value.includes(t._id.clientSicId)),e.xp6(1),e.hij(" ",t._id.clientSicName," ")}}function gt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",30),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onCheckboxChange(r,"sicCode"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&o){const t=n.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("value",t._id.clientSicId)("checked",i.filterForm.controls.sicCode.value.includes(t._id.clientSicId)),e.xp6(1),e.hij(" ",t._id.clientSicName," ")}}function _t(o,n){if(1&o&&(e.TgZ(0,"ul"),e.YNc(1,gt,4,3,"li",17),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.collectionOptions||null==t.collectionOptions.sicCode?null:t.collectionOptions.sicCode.slice(t.countRecords,t.countRecords.length))}}function ft(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"a",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.expandClick(!0))}),e._uU(1,"Show More >>"),e.qZA()}}function vt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"a",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.expandClick(!1))}),e._uU(1,"Show Less << "),e.qZA()}}function bt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",30),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onCheckboxChange(r,"billingFrequency"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&o){const t=n.$implicit,i=e.oxw();e.xp6(2),e.Q6J("value",t._id)("checked",i.filterForm.controls.billingFrequency.value.includes(t._id)),e.xp6(1),e.hij(" ",t._id," ")}}function Mt(o,n){1&o&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",4)(3,"div",34)(4,"span",35),e._uU(5,"Loading..."),e.qZA()()()()())}function yt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"button",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openMenu())}),e._uU(3,"Filter"),e.qZA()()()}}let Ct=(()=>{class o{constructor(t,i,r,a,s,l){this.router=t,this.searchService=i,this.cdr=r,this.fb=a,this.staffsService=s,this.confirmationDialogService=l,this.found=new e.vpe,this.actionparam={billingMode:"",payorType:"",expire:"",adjustment:"",staffId:"",staffIdOperation:"",staffIdDuration:""},this.open=!1,this.openClass="",this.baseRateAll=!1,this.loader=!1,this.initalLoad=!1,this.focus3$=new M.x,this.click3$=new M.x,this.clientLoading=!1,this.collectionOptions={billingFrequency:[],baseRate:[],billingCurrency:[],billingMethod:[],payorType:[],feeArrangementType:[]},this._employee={page:1,limit:20,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"asc"},this.countRecords=2,this.expanded=!1,this.expandedPracticeGroup=!1,this.expandedAreaOfLow=!1,this.formatterEmployee=h=>this.formatEmployee(h),this.toggleAllSelectionResponsibleAttorney=()=>{this.filter()},this.toggleDurationMin=h=>{this.filterForm.value.durationTo&&this.filterForm.value.durationTo<h.target.value&&this.filterForm.patchValue({durationFrom:this.filterForm.value.durationTo}),this.filter()},this.toggleDurationMax=h=>{this.filterForm.value.durationFrom&&this.filterForm.value.durationFrom>h.target.value&&this.filterForm.patchValue({durationTo:this.filterForm.value.durationFrom}),this.filter()},this.searchEmployee=h=>h.pipe((0,R.b)(300),(0,P.x)(),(0,ae.T)(this.focus3$),(0,ae.T)(this.click3$.pipe((0,$e.h)(()=>!this.instance3?.isPopupOpen()))),(0,Qe.w)(m=>{this._employee.searchTerm=m;const c=this.collectionOptions.responsibleBillingManagerId.filter(g=>null!==g._id).map(g=>g._id);return this.staffsService.getSearchStaffs(this._employee,c).pipe((0,Q.U)(g=>g.results),(0,Ke.K)(()=>(0,re.of)([])))}),(0,ze.b)(()=>this.clientLoading=!1))}getFilterValue(){return!!localStorage.getItem("filter_values")&&JSON.parse(localStorage.getItem("filter_values"))}iniitalLoadData(t=!1){this.loader=!0,this.initalLoad=!0,this.searchService.filtersSearchData(this.actionparam).subscribe(i=>{const r=this.getFilterValue();this.collectionOptions=i,r?this.filterForm.patchValue(r):(this.toggleAllSelection(!0,"baseRate",!0),this.toggleAllSelection(!0,"billingMethod",!0),this.toggleAllSelection(!0,"payorType",!0),this.toggleAllSelection(!0,"billingFrequency",!0),this.toggleAllSelectionName(!0,"matterId",!0,"matterName"),this.toggleAllSelectionName(!0,"sicCode",!0,"clientSicId"),this.toggleAllSelection(!0,"feeArrangementType",!0),this.toggleAllSelectionName(!0,"areaOfLaw",!0,"areaOfLawId"),this.toggleAllSelectionName(!0,"practiceGroup",!0,"practiceGroupId")),this.loader=!1,this.initalLoad=!1,this.cdr.detectChanges(),t&&this.callbackLoad()})}ngOnChanges(t){this.actionparam=t.actionparam.currentValue,this.iniitalLoadData()}ngOnInit(){this.filterForm=this.fb.group({durationFrom:[""],durationTo:[""],responsibleAttorney:[""],billingFrequency:[[]],baseRate:[[]],matterId:[[]],billingMethod:[[]],payorType:[[]],sicCode:[[]],feeArrangementType:[[]],areaOfLaw:[[]],practiceGroup:[[]],adjustmentStartDate:[""],adjustmentEndDate:[""],expirationStartDate:[""],expirationEndDate:[""]})}expandClick(t){this.expanded=t}expandPracticeGroupClick(t){this.expandedPracticeGroup=t}expandAreaOfLowClick(t){this.expandedAreaOfLow=t}clearDuration(){this.filterForm.patchValue({durationFrom:"",durationTo:""})}loadFilterDataFrequency(){this.initalLoad||(this.loader=!0,this.searchService.filtersSearchDataOption(this.filterForm.value,this.actionparam).subscribe(i=>{this.collectionOptions=i,this.cdr.detectChanges(),this.toggleAllSelection(!0,"baseRate",!1),this.toggleAllSelection(!0,"billingMethod",!1),this.toggleAllSelection(!0,"payorType",!1),this.toggleAllSelection(!0,"billingFrequency",!1),this.toggleAllSelectionName(!0,"sicCode",!1,"clientSicId"),this.toggleAllSelectionName(!0,"matterId",!1,"matterName"),this.toggleAllSelection(!0,"feeArrangementType",!1),this.toggleAllSelectionName(!0,"areaOfLaw",!1,"areaOfLawId"),this.toggleAllSelectionName(!0,"practiceGroup",!1,"practiceGroupId"),this.loader=!1}))}searchData(t){this.searchService.filtersSearchDataOption(t,this.actionparam).subscribe(i=>{this.collectionOptions=i,this.cdr.detectChanges(),this.toggleAllSelection(!0,"baseRate",!1),this.toggleAllSelection(!0,"billingMethod",!1),this.toggleAllSelection(!0,"payorType",!1),this.toggleAllSelection(!0,"billingFrequency",!1),this.toggleAllSelectionName(!0,"sicCode",!1,"clientSicId"),this.toggleAllSelectionName(!0,"matterId",!1,"matterName"),this.toggleAllSelection(!0,"feeArrangementType",!1),this.toggleAllSelectionName(!0,"areaOfLaw",!1,"areaOfLawId"),this.toggleAllSelectionName(!0,"practiceGroup",!1,"practiceGroupId"),this.loader=!1})}loadFilterData(t){if(!this.initalLoad&&this.filterForm.controls[t]?.value.length>0){const r=this.filterForm.value.billingMethod,a=this.filterForm.value.payorType,s=this.filterForm.value.billingFrequency,l=this.filterForm.value.sicCode,h=this.filterForm.value.matterId,m=this.filterForm.value.feeArrangementType,c=this.filterForm.value.areaOfLaw,g=this.filterForm.value.practiceGroup;0===this.filterForm.value.baseRate.length&&this.toggleAllSelection(!0,"baseRate",!1),0===a.length&&this.toggleAllSelection(!0,"payorType",!1),0===r.length&&this.toggleAllSelection(!0,"billingMethod",!1),0===s.length&&this.toggleAllSelection(!0,"billingFrequency",!1),0===l.length&&this.toggleAllSelectionName(!0,"sicCode",!1,"clientSicId"),0===m.length&&this.toggleAllSelection(!0,"feeArrangementType",!1),0===c.length&&this.toggleAllSelectionName(!0,"areaOfLaw",!1,"areaOfLawId"),0===g.length&&this.toggleAllSelectionName(!0,"practiceGroup",!1,"practiceGroupId"),0===h.length&&this.toggleAllSelectionName(!0,"matterId",!1,"matterName"),this.found.emit(this.filterForm.value)}}formatEmployee(t){return t?`${t.name} - ${t.email}`:""}onCheckboxChange(t,i){let r=this.filterForm.controls[i].value;if(t.target.checked)r.push(t.target.value);else{let a=0;r.forEach(s=>{s!=t.target.value?a++:r=[...r.slice(0,a),...r.slice(a+1,r.length)]})}this.filterForm.patchValue({[i]:r}),this.loadFilterData(i)}resetResponsibleAttorney(){this.filterForm.patchValue({responsibleAttorney:""}),this.found.emit(this.filterForm.value)}calllbackFn(t){return this.filterForm.controls[t]?.value.length==this.collectionOptions[t]?.length}toggleAllSelectionName(t,i,r=!0,a="matterName"){this.filterForm.patchValue(t?{[i]:this.collectionOptions[i].map(s=>s._id[a])}:{[i]:[]}),r&&this.loadFilterData(i)}selectedItem(t){console.log(t);const i={...this.filterForm.value,responsibleAttorney:t?.item};this.found.emit(i)}toggleAllSelection(t,i,r=!0){this.filterForm.patchValue(t?{[i]:this.collectionOptions[i].map(a=>a._id||-1)}:{[i]:[]}),r&&this.loadFilterData(i)}openMenu(){this.open=!0,this.openClass="slide-in"}closeMenu(){this.openClass="slide-out",this.open=!1}filter(){this.found.emit(this.filterForm.value)}callbackLoad(){console.log(this.filterForm.value),this.filter()}resetEvent(){this.filterForm.patchValue({adjustmentStartDate:"",adjustmentEndDate:"",expirationStartDate:"",expirationEndDate:""}),this.iniitalLoadData(!0)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b.F0),e.Y36(H.o),e.Y36(e.sBO),e.Y36(u.qu),e.Y36(V.x),e.Y36($.O))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-agreements-filter-search"]],viewQuery:function(t,i){if(1&t&&(e.Gf(We,5),e.Gf(L.j,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.instance3=r.first),e.iGM(r=e.CRH())&&(i.headers=r)}},inputs:{actionparam:"actionparam"},outputs:{found:"found"},features:[e.TTD],decls:152,vars:66,consts:[["responsibleAttorney",""],[1,"parent-slide",3,"ngClass"],["autocomplete","off",1,"form-inline",3,"formGroup"],["id","slider",1,"slide-out"],[1,"position-relative"],[1,"menu-close"],[1,"flex","position-relative"],[1,"filter-buttons"],[1,"btn","btn-outline-secondary",3,"click"],[1,"slide_main_menu"],[1,"slide_header"],[1,"slide_body"],["type","text","formControlName","responsibleAttorney",1,"form-control","form-control-lg",3,"ngbTypeahead","resultTemplate","inputFormatter","selectItem","focus","click"],["instance3","ngbTypeahead"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["src","assets/images/close-icon.svg","alt",""],["type","checkbox","value","all",3,"checked","change"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"expand-main"],["type","link","class","expand",3,"click",4,"ngIf"],["type","date","formControlName","expirationStartDate","id","floatingInput",1,"form-control",3,"min","max","change"],["type","date","formControlName","expirationEndDate","id","floatingInput",1,"form-control",3,"min","max","change"],["type","date","formControlName","adjustmentStartDate","id","floatingInput",1,"form-control",3,"min","max","change"],["type","date","formControlName","adjustmentEndDate","id","floatingInput",1,"form-control",3,"min","max","change"],["type","number","formControlName","durationFrom","id","floatingInput",1,"form-control",3,"max","change"],["type","number","formControlName","durationTo","id","floatingInput",1,"form-control",3,"min","change"],["class","position-absolute loader-overlay",4,"ngIf"],["class","action-button1",4,"ngIf"],[3,"result","term"],["type","checkbox",3,"value","checked","change"],["type","link",1,"expand",3,"click"],[1,"position-absolute","loader-overlay"],[1,"loader"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"action-button1"],[1,"menu-open"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){if(1&t&&(e.YNc(0,Xe,1,2,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"button",8),e.NdJ("click",function(){return i.resetEvent()}),e._uU(10,"Reset"),e.qZA(),e.TgZ(11,"button",8),e.NdJ("click",function(){return i.closeMenu()}),e._uU(12,"Close Filter"),e.qZA()()(),e.TgZ(13,"div",9)(14,"div",10),e._uU(15,"Responsible Attorney"),e.qZA(),e.TgZ(16,"div",11)(17,"input",12,13),e.NdJ("selectItem",function(a){return i.selectedItem(a)})("focus",function(a){return i.focus3$.next(a.target.value)})("click",function(a){return i.click3$.next(a.target.value)}),e.qZA(),e.TgZ(19,"button",14),e.NdJ("click",function(){return i.resetResponsibleAttorney()}),e._UZ(20,"img",15),e.qZA()()(),e.TgZ(21,"div",9)(22,"div",10),e._uU(23,"Practice Group"),e.qZA(),e.TgZ(24,"div",11)(25,"ul")(26,"li")(27,"input",16),e.NdJ("change",function(a){return i.toggleAllSelectionName(a.target.checked,"practiceGroup",!0,"practiceGroupId")}),e.qZA(),e._uU(28," All"),e.qZA(),e.YNc(29,et,4,3,"li",17),e.qZA(),e.YNc(30,it,2,1,"ul",18),e.TgZ(31,"div",19),e.YNc(32,nt,2,0,"a",20),e.YNc(33,ot,2,0,"a",20),e.qZA()()(),e.TgZ(34,"div",9)(35,"div",10),e._uU(36,"Area of Law"),e.qZA(),e.TgZ(37,"div",11)(38,"ul")(39,"li")(40,"input",16),e.NdJ("change",function(a){return i.toggleAllSelectionName(a.target.checked,"areaOfLaw",!0,"areaOfLawId")}),e.qZA(),e._uU(41," All"),e.qZA(),e.YNc(42,rt,4,3,"li",17),e.qZA(),e.YNc(43,st,2,1,"ul",18),e.TgZ(44,"div",19),e.YNc(45,lt,2,0,"a",20),e.YNc(46,ct,2,0,"a",20),e.qZA()()(),e.TgZ(47,"div",9)(48,"div",10),e._uU(49,"Expiration Date"),e.qZA(),e.TgZ(50,"div",11)(51,"div",11)(52,"div")(53,"label"),e._uU(54,"From"),e.qZA(),e.TgZ(55,"input",21),e.NdJ("change",function(){return i.toggleAllSelectionResponsibleAttorney()}),e.ALo(56,"date"),e.ALo(57,"date"),e.qZA()(),e.TgZ(58,"div")(59,"label"),e._uU(60,"To"),e.qZA(),e.TgZ(61,"input",22),e.NdJ("change",function(){return i.toggleAllSelectionResponsibleAttorney()}),e.ALo(62,"date"),e.ALo(63,"date"),e.qZA()()()()(),e.TgZ(64,"div",9)(65,"div",10),e._uU(66,"Base Rate"),e.qZA(),e.TgZ(67,"div",11)(68,"ul")(69,"li")(70,"input",16),e.NdJ("change",function(a){return i.toggleAllSelection(a.target.checked,"baseRate")}),e.qZA(),e._uU(71," All"),e.qZA(),e.YNc(72,dt,4,3,"li",17),e.qZA()()(),e.TgZ(73,"div",9)(74,"div",10),e._uU(75,"Fee Arrangement Type"),e.qZA(),e.TgZ(76,"div",11)(77,"ul")(78,"li")(79,"input",16),e.NdJ("change",function(a){return i.toggleAllSelection(a.target.checked,"feeArrangementType")}),e.qZA(),e._uU(80," All"),e.qZA(),e.YNc(81,ut,4,3,"li",17),e.qZA()()(),e.TgZ(82,"div",9)(83,"div",10),e._uU(84,"Payor Type"),e.qZA(),e.TgZ(85,"div",11)(86,"ul")(87,"li")(88,"input",16),e.NdJ("change",function(a){return i.toggleAllSelection(a.target.checked,"payorType")}),e.qZA(),e._uU(89," All"),e.qZA(),e.YNc(90,ht,4,3,"li",17),e.qZA()()(),e.TgZ(91,"div",9)(92,"div",10),e._uU(93,"Billing Method"),e.qZA(),e.TgZ(94,"div",11)(95,"ul")(96,"li")(97,"input",16),e.NdJ("change",function(a){return i.toggleAllSelection(a.target.checked,"billingMethod")}),e.qZA(),e._uU(98," All"),e.qZA(),e.YNc(99,mt,4,3,"li",17),e.qZA()()(),e.TgZ(100,"div",9)(101,"div",10),e._uU(102,"Industry SIC Code"),e.qZA(),e.TgZ(103,"div",11)(104,"ul")(105,"li")(106,"input",16),e.NdJ("change",function(a){return i.toggleAllSelectionName(a.target.checked,"sicCode",!0,"clientSicId")}),e.qZA(),e._uU(107," All"),e.qZA(),e.YNc(108,pt,4,3,"li",17),e.qZA(),e.YNc(109,_t,2,1,"ul",18),e.TgZ(110,"div",19),e.YNc(111,ft,2,0,"a",20),e.YNc(112,vt,2,0,"a",20),e.qZA()()(),e.TgZ(113,"div",9)(114,"div",10),e._uU(115,"Adjustment Date"),e.qZA(),e.TgZ(116,"div",11)(117,"div")(118,"label"),e._uU(119,"From"),e.qZA(),e.TgZ(120,"input",23),e.NdJ("change",function(){return i.toggleAllSelectionResponsibleAttorney()}),e.ALo(121,"date"),e.ALo(122,"date"),e.qZA()(),e.TgZ(123,"div")(124,"label"),e._uU(125,"To"),e.qZA(),e.TgZ(126,"input",24),e.NdJ("change",function(){return i.toggleAllSelectionResponsibleAttorney()}),e.ALo(127,"date"),e.ALo(128,"date"),e.qZA()()()(),e.TgZ(129,"div",9)(130,"div",10),e._uU(131,"Agreement Duration (In Days)"),e.qZA(),e.TgZ(132,"div",11)(133,"div")(134,"label"),e._uU(135,"From"),e.qZA(),e.TgZ(136,"input",25),e.NdJ("change",function(a){return i.toggleDurationMin(a)}),e.qZA()(),e.TgZ(137,"div")(138,"label"),e._uU(139,"To"),e.qZA(),e.TgZ(140,"input",26),e.NdJ("change",function(a){return i.toggleDurationMax(a)}),e.qZA()()()(),e.TgZ(141,"div",9)(142,"div",10),e._uU(143,"BILLING FREQUENCY"),e.qZA(),e.TgZ(144,"div",11)(145,"ul")(146,"li")(147,"input",16),e.NdJ("change",function(a){return i.toggleAllSelection(a.target.checked,"billingFrequency")}),e.qZA(),e._uU(148," All"),e.qZA(),e.YNc(149,bt,4,3,"li",17),e.qZA()()()(),e.YNc(150,Mt,6,0,"div",27),e.qZA()()()(),e.YNc(151,yt,4,0,"div",28)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngClass",i.openClass),e.xp6(1),e.Q6J("formGroup",i.filterForm),e.xp6(14),e.Q6J("ngbTypeahead",i.searchEmployee)("resultTemplate",r)("inputFormatter",i.formatterEmployee),e.xp6(10),e.Q6J("checked",i.calllbackFn("practiceGroup")),e.xp6(2),e.Q6J("ngForOf",null==i.collectionOptions||null==i.collectionOptions.practiceGroup?null:i.collectionOptions.practiceGroup.slice(0,i.countRecords)),e.xp6(1),e.Q6J("ngIf",i.expandedPracticeGroup),e.xp6(2),e.Q6J("ngIf",!i.expandedPracticeGroup&&(null==i.collectionOptions||null==i.collectionOptions.practiceGroup?null:i.collectionOptions.practiceGroup.length)>i.countRecords),e.xp6(1),e.Q6J("ngIf",i.expandedPracticeGroup),e.xp6(7),e.Q6J("checked",i.calllbackFn("areaOfLaw")),e.xp6(2),e.Q6J("ngForOf",null==i.collectionOptions||null==i.collectionOptions.areaOfLaw?null:i.collectionOptions.areaOfLaw.slice(0,i.countRecords)),e.xp6(1),e.Q6J("ngIf",i.expandedAreaOfLow),e.xp6(2),e.Q6J("ngIf",!i.expandedAreaOfLow&&(null==i.collectionOptions||null==i.collectionOptions.areaOfLaw?null:i.collectionOptions.areaOfLaw.length)>i.countRecords),e.xp6(1),e.Q6J("ngIf",i.expandedAreaOfLow),e.xp6(9),e.s9C("min",e.xi3(56,42,null==i.collectionOptions.expirationDate||null==i.collectionOptions.expirationDate[0]?null:i.collectionOptions.expirationDate[0].minExpirationDate,"yyyy-MM-dd")),e.s9C("max",e.xi3(57,45,i.filterForm.value.expirationEndDate,"yyyy-MM-dd")),e.xp6(6),e.s9C("min",e.xi3(62,48,i.filterForm.value.expirationStartDate,"yyyy-MM-dd")),e.s9C("max",e.xi3(63,51,null==i.collectionOptions.expirationDate||null==i.collectionOptions.expirationDate[0]?null:i.collectionOptions.expirationDate[0].maxExpirationDate,"yyyy-MM-dd")),e.xp6(9),e.Q6J("checked",i.calllbackFn("baseRate")),e.xp6(2),e.Q6J("ngForOf",i.collectionOptions.baseRate),e.xp6(7),e.Q6J("checked",i.calllbackFn("feeArrangementType")),e.xp6(2),e.Q6J("ngForOf",i.collectionOptions.feeArrangementType),e.xp6(7),e.Q6J("checked",i.calllbackFn("payorType")),e.xp6(2),e.Q6J("ngForOf",i.collectionOptions.payorType),e.xp6(7),e.Q6J("checked",i.calllbackFn("billingMethod")),e.xp6(2),e.Q6J("ngForOf",i.collectionOptions.billingMethod),e.xp6(7),e.Q6J("checked",i.calllbackFn("sicCode")),e.xp6(2),e.Q6J("ngForOf",null==i.collectionOptions||null==i.collectionOptions.sicCode?null:i.collectionOptions.sicCode.slice(0,i.countRecords)),e.xp6(1),e.Q6J("ngIf",i.expanded),e.xp6(2),e.Q6J("ngIf",!i.expanded&&(null==i.collectionOptions||null==i.collectionOptions.sicCode?null:i.collectionOptions.sicCode.length)>i.countRecords),e.xp6(1),e.Q6J("ngIf",i.expanded),e.xp6(8),e.s9C("min",e.xi3(121,54,null==i.collectionOptions.adjustmentDate||null==i.collectionOptions.adjustmentDate[0]?null:i.collectionOptions.adjustmentDate[0].minAdjustmentDate,"yyyy-MM-dd")),e.s9C("max",e.xi3(122,57,i.filterForm.value.adjustmentEndDate,"yyyy-MM-dd")),e.xp6(6),e.s9C("min",e.xi3(127,60,i.filterForm.value.adjustmentStartDate,"yyyy-MM-dd")),e.s9C("max",e.xi3(128,63,null==i.collectionOptions.adjustmentDate||null==i.collectionOptions.adjustmentDate[0]?null:i.collectionOptions.adjustmentDate[0].maxAdjustmentDate,"yyyy-MM-dd")),e.xp6(10),e.s9C("max",i.filterForm.value.durationTo||1e3),e.xp6(4),e.s9C("min",i.filterForm.value.durationFrom||0),e.xp6(7),e.Q6J("checked",i.calllbackFn("billingFrequency")),e.xp6(2),e.Q6J("ngForOf",i.collectionOptions.billingFrequency),e.xp6(1),e.Q6J("ngIf",i.loader),e.xp6(1),e.Q6J("ngIf",!i.open&&!i.loader&&0!==(null==i.collectionOptions||null==i.collectionOptions.sicCode?null:i.collectionOptions.sicCode.length))}},dependencies:[p.mk,p.sg,p.O5,u._Y,u.Fj,u.wV,u.JJ,u.JL,u.qQ,u.Fd,u.sg,u.u,v.dR,v._h,p.uU],styles:["#slider[_ngcontent-%COMP%]{position:absolute;width:310px;height:100%;background:#fff;overflow-x:scroll;padding-bottom:10px;transform:translate(100%);-webkit-transform:translateX(100%);box-shadow:#32325d40 0 50px 100px -20px,#0000004d 0 30px 60px -30px;right:0}#slider[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.slide_main_menu[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #ccc}.slide_main_menu[_ngcontent-%COMP%]   .slide_header[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px;color:#212529}.parent-slide[_ngcontent-%COMP%]{position:fixed;right:0;top:215px;height:92%}.parent-slide.slide-in[_ngcontent-%COMP%]{top:65px}.parent-slide[_ngcontent-%COMP%]   .loader-overlay[_ngcontent-%COMP%]{top:0;width:100%;height:100%;background:#ccc;opacity:.3}.parent-slide[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{position:fixed;top:50%;right:50%;transform:translate(50%,-50%)}.slide_body[_ngcontent-%COMP%]{gap:10px}.slide-in[_ngcontent-%COMP%]   #slider[_ngcontent-%COMP%]{animation:slide-in .5s forwards;-webkit-animation:slide-in .5s forwards}.menu-open[_ngcontent-%COMP%]{position:absolute;right:39px;top:-77px}.slide-in[_ngcontent-%COMP%]   .menu-open[_ngcontent-%COMP%]{display:none}.menu-open[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:4px 50px}.slide-out[_ngcontent-%COMP%]   #slider[_ngcontent-%COMP%]{animation:slide-out .5s forwards;-webkit-animation:slide-out .5s forwards}.action-button[_ngcontent-%COMP%]{position:relative;height:-webkit-max-content;height:-moz-max-content;height:max-content}@keyframes slide-in{to{transform:translate(0)}}@-webkit-keyframes slide-in{to{-webkit-transform:translateX(0%)}}@keyframes slide-out{0%{transform:translate(0)}to{transform:translate(100%)}}@-webkit-keyframes slide-out{0%{-webkit-transform:translateX(0%)}to{-webkit-transform:translateX(100%)}}.slide_main_menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:4px 0}.close-button[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;width:30px;height:30px;border-radius:1px;background:#d8d8d8;border:0}.close-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}.slide_main_menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:9px;width:16px;height:16px;min-width:16px}.slide_main_menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex}.filter-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;padding:10px}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:48%;margin:0!important}.action-button1[_ngcontent-%COMP%]{position:absolute;top:90px;right:-14px}.expand-main[_ngcontent-%COMP%]{text-align:right}.expand-main[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]{text-decoration:none;color:var(--bs-body-color);cursor:pointer}.align-right[_ngcontent-%COMP%]{text-align:right}"],data:{animation:[(0,N.Z9)()]}}),o})();function At(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.downloadFileExcel())}),e._uU(2,"Download"),e.qZA()()}}function Tt(o,n){1&o&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",16)(3,"span",17),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function xt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",15),e._uU(2,"No search found"),e.qZA()())}function It(o,n){1&o&&(e.TgZ(0,"tr")(1,"td",39),e._uU(2,"Loading..."),e.qZA()())}function Dt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div",40)(3,"button",41),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.viewAgrement(a.id))}),e._UZ(4,"img",42),e.qZA()()(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"a",43),e._uU(11),e.qZA()(),e.TgZ(12,"td")(13,"a",43),e._uU(14),e.qZA()(),e.TgZ(15,"td")(16,"a",43),e._uU(17),e.qZA()(),e.TgZ(18,"td")(19,"a",43),e._uU(20),e.qZA()(),e.TgZ(21,"td")(22,"a",43),e._uU(23),e.qZA()(),e.TgZ(24,"td"),e._uU(25),e.qZA(),e.TgZ(26,"td"),e._uU(27),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.ALo(30,"date"),e.qZA(),e.TgZ(31,"td"),e._uU(32),e.ALo(33,"date"),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.qZA(),e.TgZ(36,"td"),e._uU(37),e.ALo(38,"date"),e.qZA(),e.TgZ(39,"td")(40,"a",44),e._uU(41),e.qZA()()()}if(2&o){const t=n.$implicit,i=e.oxw(3);e.xp6(6),e.Oqu(null==t?null:t.client.clientGroup),e.xp6(2),e.Oqu(null==t?null:t.clientGroupName),e.xp6(2),e.MGl("routerLink","/matters/client-id/",t.client.clientId,""),e.xp6(1),e.Oqu(null==t?null:t.client.clientId),e.xp6(2),e.MGl("routerLink","/matters/client-id/",t.client.clientId,""),e.xp6(1),e.Oqu(null==t?null:t.clientName),e.xp6(2),e.MGl("routerLink","/matters/matter-id/",null==t?null:t.matterId,""),e.xp6(1),e.Oqu(null==t?null:t.matterId),e.xp6(2),e.MGl("routerLink","/matters/matter-id/",null==t?null:t.matterId,""),e.xp6(1),e.Oqu(null==t?null:t.matterName),e.xp6(2),e.MGl("routerLink","/employees/view-employee/",null==t?null:t.principalAttorneyId,""),e.xp6(1),e.Oqu(null==t?null:t.principalAttorneyName),e.xp6(2),e.Oqu(null==t?null:t.payorType),e.xp6(2),e.Oqu(null==t?null:t.feeArrangementType),e.xp6(2),e.Oqu(e.xi3(30,20,null==t?null:t.startDate,"MM/dd/YYYY")),e.xp6(3),e.Oqu(e.xi3(33,23,null==t?null:t.expirationDate,"MM/dd/YYYY")),e.xp6(3),e.Oqu(i.calcDate(null==t?null:t.startDate,null==t?null:t.expirationDate)),e.xp6(2),e.Oqu(e.xi3(38,26,null==t?null:t.updatedAt,"MM/dd/YYYY")),e.xp6(3),e.MGl("routerLink","/employees/view-employee/",null==t?null:t.principalAttorneyId,""),e.xp6(1),e.Oqu(null==t?null:t.responsibleBillingManagerName)}}const kt=function(){return{standalone:!0}};function wt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",18)(2,"table",19)(3,"thead")(4,"tr")(5,"th"),e._uU(6,"View"),e.qZA(),e.TgZ(7,"th",20),e.NdJ("sort",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSort(r))}),e._uU(8,"Client Group# "),e.qZA(),e.TgZ(9,"th",21),e.NdJ("sort",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSort(r))}),e._uU(10,"Client Group Name "),e.qZA(),e.TgZ(11,"th",22),e.NdJ("sort",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSort(r))}),e._uU(12,"Client# "),e.qZA(),e.TgZ(13,"th",23),e.NdJ("sort",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSort(r))}),e._uU(14,"Client Name "),e.qZA(),e.TgZ(15,"th",24),e.NdJ("sort",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSort(r))}),e._uU(16,"Matter# "),e.qZA(),e.TgZ(17,"th",25),e.NdJ("sort",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSort(r))}),e._uU(18,"Matter Name "),e.qZA(),e.TgZ(19,"th",26),e.NdJ("sort",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSort(r))}),e._uU(20," Responsible Attorney "),e.qZA(),e.TgZ(21,"th",27),e.NdJ("sort",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSort(r))}),e._uU(22,"Pricing Model "),e.qZA(),e.TgZ(23,"th",28),e.NdJ("sort",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSort(r))}),e._uU(24," Fee Arrangement Type "),e.qZA(),e.TgZ(25,"th",29),e.NdJ("sort",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSort(r))}),e._uU(26,"Agreement Start Date "),e.qZA(),e.TgZ(27,"th",30),e.NdJ("sort",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSort(r))}),e._uU(28,"Agreement Expiration Date "),e.qZA(),e.TgZ(29,"th",31),e._uU(30,"Agreement Duration "),e.qZA(),e.TgZ(31,"th",32),e.NdJ("sort",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSort(r))}),e._uU(32,"Last Modified Date "),e.qZA(),e.TgZ(33,"th",33),e.NdJ("sort",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSort(r))}),e._uU(34,"Modified By "),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,It,3,0,"tr",9),e.YNc(37,Dt,42,29,"tr",34),e.qZA()()(),e.TgZ(38,"div",35)(39,"ngb-pagination",36),e.NdJ("pageChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a._state.page=r)})("pageChange",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.refreshSearch())}),e.qZA(),e.TgZ(40,"select",37),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a._state.limit=r)})("ngModelChange",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.refreshSearch())}),e.TgZ(41,"option",38),e._uU(42,"10 items per page"),e.qZA(),e.TgZ(43,"option",38),e._uU(44,"20 items per page"),e.qZA(),e.TgZ(45,"option",38),e._uU(46,"30 items per page"),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.xp6(7),e.Q6J("oldColumn",t._state.sortColumn),e.xp6(2),e.Q6J("oldColumn",t._state.sortColumn),e.xp6(2),e.Q6J("oldColumn",t._state.sortColumn),e.xp6(2),e.Q6J("oldColumn",t._state.sortColumn),e.xp6(2),e.Q6J("oldColumn",t._state.sortColumn),e.xp6(2),e.Q6J("oldColumn",t._state.sortColumn),e.xp6(2),e.Q6J("oldColumn",t._state.sortColumn),e.xp6(2),e.Q6J("oldColumn",t._state.sortColumn),e.xp6(2),e.Q6J("oldColumn",t._state.sortColumn),e.xp6(2),e.Q6J("oldColumn",t._state.sortColumn),e.xp6(2),e.Q6J("oldColumn",t._state.sortColumn),e.xp6(4),e.Q6J("oldColumn",t._state.sortColumn),e.xp6(2),e.Q6J("oldColumn",t._state.sortColumn),e.xp6(3),e.Q6J("ngIf",t.pageLoading),e.xp6(1),e.Q6J("ngForOf",t.search),e.xp6(2),e.Q6J("collectionSize",t._state.totalResults)("page",t._state.page)("pageSize",t._state.limit)("rotate",!0)("maxSize",5)("boundaryLinks",!0),e.xp6(1),e.Q6J("ngModel",t._state.limit)("ngModelOptions",e.DdM(26,kt)),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",20),e.xp6(2),e.Q6J("ngValue",30)}}function Et(o,n){if(1&o&&e.YNc(0,wt,47,27,"div",9),2&o){const t=e.oxw();e.Q6J("ngIf",!t.isLoading)}}let T=(()=>{class o{constructor(t,i,r,a,s){this.route=t,this.router=i,this.searchService=r,this.cdr=a,this.confirmationDialogService=s,this.search=[],this.searchTerm="",this.searchTermUpdate=new M.x,this.isLoading=!1,this.pageLoading=!1,this.isSearch=!0,this.billingMode="",this.payorType="",this.filterData=this.getFilterValue(),this.expire="",this.adjustment="",this.staffId="",this.staffIdOperation="",this.staffIdDuration="",this.actionparam={},this._state={page:1,limit:20,totalPages:1,totalResults:0,searchTerm:localStorage.getItem("search_value")||"",sortColumn:"createdAt",sortDirection:"desc"},this.route.params.subscribe(l=>{""!==l.billingMode&&null!=l.billingMode&&(this.actionparam.billingMode=l.billingMode),""!==l.payorType&&null!=l.payorType&&(this.actionparam.payorType=l.payorType),""!==l.expireType&&null!=l.expireType&&(this.actionparam.expire=l.expireType),""!==l.adjustmentType&&null!=l.adjustmentType&&(this.actionparam.adjustment=l.adjustmentType),""!==l.actionType&&null!=l.actionType&&(this.actionparam.staffId=l.staffId,this.actionparam.staffIdOperation=l.actionType,this.actionparam.staffIdDuration=l.date)}),this.searchTermUpdate.pipe((0,R.b)(200),(0,P.x)()).subscribe(l=>{this._state.searchTerm=l,this.saveSearch(l),this.getAllSearch(this._state)})}getFilterValue(){return localStorage.getItem("filter_values")?JSON.parse(localStorage.getItem("filter_values")):{}}handleResults(t){this.saveFilter(t),this.filterData=t,this.isLoading=!0,this.getAllSearch(this._state)}ngOnInit(){this.isLoading=!0,this.getAllSearch(this._state)}downloadFileExcel(){return this.searchService.getSearchForExcelDownload(this._state,this.actionparam,this.filterData).subscribe(t=>{(0,He.S)(t,"search")},t=>{})}viewAgrement(t){this.router.navigate(["/dashboard/search/view-agreement/"+t])}onSort({column:t,direction:i}){console.log(t,i),this.sortedColumn=t,this.sortedDirection=i,this._state.sortColumn=t,this._state.sortDirection=i,this.pageLoading=!0,this.search=[],this.getAllSearch(this._state)}getHeader(){const{billingMode:t,payorType:i,expire:r,adjustment:a,staffId:s,staffIdOperation:l}=this.actionparam;return t?"Billing":i?"Payor Type":r||a?"Search - Expire-"+("expire-weekly"===r?"Weekly":"Monthly"):s?`Staff - ${l.charAt(0).toUpperCase()+l.slice(1)}`:"Search"}getAllSearch(t){this.searchService.getRecords(t,this.actionparam,this.filterData).subscribe(i=>{this.search=i.results,this.isSearch=0!=this.search.length,this.setState(i),this.isLoading=!1,this.pageLoading=!1},i=>{this.isLoading=!1,this.pageLoading=!1})}saveFilter(t){t?localStorage.setItem("filter_values",JSON.stringify(t)):localStorage.removeItem("filter_values")}saveSearch(t){localStorage.setItem("search_Value",t||"")}calcDate(t,i){let r=new Date(new Date(t).toISOString().substr(0,10));i||(i=(new Date).toISOString().substr(0,10));let a=new Date(i);if(r>a){const Y=r;r=a,a=Y}const s=r.getFullYear(),h=[31,s%4==0&&s%100!=0||s%400==0?29:28,31,30,31,30,31,31,30,31,30,31];let m=a.getFullYear()-s,c=a.getMonth()-r.getMonth();c<0&&(m--,c+=12);let g=a.getDate()-r.getDate();g<0&&(c>0?c--:(m--,c=11),g+=h[r.getMonth()]);var f=[];return m&&f.push(m+" Y "),c&&f.push(c+" M "),g&&f.push(g+" D  "),f.join(" ")}refreshSearch(){this.getAllSearch(this._state)}setState(t){this._state.page=t.page,this._state.limit=t.limit,this._state.totalPages=t.totalPages,this._state.totalResults=t.totalResults}getDurationBetweenDates(t,i){const r=new Date(i).getTime()-new Date(t).getTime();return`${Math.floor(r/864e5)} days`}decode(t){return decodeURIComponent(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b.gz),e.Y36(b.F0),e.Y36(H.o),e.Y36(e.sBO),e.Y36($.O))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-search"]],viewQuery:function(t,i){if(1&t&&e.Gf(L.j,5),2&t){let r;e.iGM(r=e.CRH())&&(i.headers=r)}},decls:16,vars:9,consts:[[3,"heading"],[1,"container-fluid","mt-2","position-relative"],[1,"card"],[1,"card-body"],[1,"row","mb-2","search-header"],[1,"col-md-9","text-left","mb-1","mb-md-0"],[1,"form-group","mb-1"],["type","text","type","text","name","searchTerm","id","matterstaffs","placeholder","Search here...",1,"form-control",3,"ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["table",""],[3,"actionparam","found"],[1,"col-md-3"],["type","button",1,"btn","btn-primary","btn-block","btn-download-button",3,"click"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"table-responsive","scroll-position"],[1,"table","table-striped","scroll-position-div"],["scope","col","sortable","clientGroupId",3,"oldColumn","sort"],["scope","col","sortable","clientGroupName",3,"oldColumn","sort"],["scope","col","sortable","clientId",3,"oldColumn","sort"],["scope","col","sortable","clientName",3,"oldColumn","sort"],["scope","col","sortable","matterId",3,"oldColumn","sort"],["scope","col","sortable","matterName",3,"oldColumn","sort"],["scope","col","sortable","principalAttorneyName",3,"oldColumn","sort"],["scope","col","sortable","payorType",3,"oldColumn","sort"],["scope","col","sortable","feeArrangementType",3,"oldColumn","sort"],["scope","col","sortable","startDate",3,"oldColumn","sort"],["scope","col","sortable","expirationDate",3,"oldColumn","sort"],["scope","col"],["scope","col","sortable","updatedAt",3,"oldColumn","sort"],["scope","col","sortable","responsibleBillingManagerName",3,"oldColumn","sort"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","rotate","maxSize","boundaryLinks","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngValue"],["colspan","15",1,"text-center"],[1,"action-buttons"],[3,"click"],["src","assets/images/search.svg","alt",""],["role","link",3,"routerLink"],["role","link",1,"black-text-link",3,"routerLink"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"form")(9,"input",7),e.NdJ("ngModelChange",function(a){return i._state.searchTerm=a})("ngModelChange",function(a){return i.searchTermUpdate.next(a)}),e.qZA()()()(),e.YNc(10,At,3,0,"div",8),e.qZA(),e.YNc(11,Tt,5,0,"ng-container",9),e.YNc(12,xt,3,0,"div",10),e.YNc(13,Et,1,1,"ng-template",null,11,e.W1O),e.qZA()(),e.TgZ(15,"app-agreements-filter-search",12),e.NdJ("found",function(a){return i.handleResults(a)}),e.qZA()()()),2&t){const r=e.MAs(14);e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("heading",i.getHeader()),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(7),e.Q6J("ngModel",i._state.searchTerm),e.xp6(1),e.Q6J("ngIf",!i.isLoading&&i._state.totalResults>0),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(1),e.Q6J("ngIf",!i.isSearch)("ngIfElse",r),e.xp6(3),e.Q6J("actionparam",i.actionparam)}},dependencies:[p.sg,p.O5,b.yS,u._Y,u.YN,u.Kr,u.Fj,u.EJ,u.JJ,u.JL,oe.q,u.On,u.F,v.N9,L.j,Ct,p.uU],styles:[".black-text-link[_ngcontent-%COMP%]{color:#000;text-decoration:none}.btn-download-button[_ngcontent-%COMP%]{max-width:153px;padding:4px 10px}"],data:{animation:[(0,N.Z9)()]}}),o})();const Ot=[{path:"",component:Ve},{path:"search",component:T},{path:"billing/:billingMode",component:T},{path:"payor/:payorType",component:T},{path:"search/expire/:expireType",component:T},{path:"search/adjustment/:adjustmentType",component:T},{path:"staff/:actionType/:staffId/:date",component:T},{path:"activity",component:Ne},{path:"search/view-agreement/:agreementId",component:d(3531).y,data:{search:!0}}];let K,St=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[b.Bz.forChild(Ot),b.Bz]}),o})();try{K=typeof Intl<"u"&&Intl.v8BreakIterator}catch{K=!1}let U=(()=>{class o{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,p.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!K)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.Lbi))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();d(1135);var le=d(5684),ce=d(2722);function de(o){return Array.isArray(o)?o:[o]}var ei=d(9841),ti=d(7272),ii=d(9751),ni=d(5698),oi=d(8675);const ue=new Set;let D,ri=(()=>{class o{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):si}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function ai(o){if(!ue.has(o))try{D||(D=document.createElement("style"),D.setAttribute("type","text/css"),document.head.appendChild(D)),D.sheet&&(D.sheet.insertRule(`@media ${o} {body{ }}`,0),ue.add(o))}catch(n){console.error(n)}}(t),this._matchMedia(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(U))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function si(o){return{matches:"all"===o||""===o,media:o,addListener:()=>{},removeListener:()=>{}}}let li=(()=>{class o{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new M.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return he(de(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){const r=he(de(t)).map(s=>this._registerQuery(s).observable);let a=(0,ei.a)(r);return a=(0,ti.z)(a.pipe((0,ni.q)(1)),a.pipe((0,le.T)(1),(0,R.b)(0))),a.pipe((0,Q.U)(s=>{const l={matches:!1,breakpoints:{}};return s.forEach(({matches:h,query:m})=>{l.matches=l.matches||h,l.breakpoints[m]=h}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new ii.y(s=>{const l=h=>this._zone.run(()=>s.next(h));return i.addListener(l),()=>{i.removeListener(l)}}).pipe((0,oi.O)(i),(0,Q.U)(({matches:s})=>({query:t,matches:s})),(0,ce.R)(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(ri),e.LFG(e.R0b))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function he(o){return o.map(n=>n.split(",")).reduce((n,t)=>n.concat(t)).map(n=>n.trim())}const fe="cdk-high-contrast-black-on-white",ve="cdk-high-contrast-white-on-black",X="cdk-high-contrast-active";let Ti=(()=>{class o{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,e.f3M)(li).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(X,fe,ve),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(X,fe):2===i&&t.add(X,ve)}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(U),e.LFG(p.K0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),be=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({}),o})();const Fi=new e.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ei(){return!0}});let J=(()=>{class o{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function Rt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Ti),e.LFG(Fi,8),e.LFG(p.K0))},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[be,be]}),o})();d(727);let Ki=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,J,J]}),o})(),zi=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[J,J]}),o})();var Wi=d(2956);let Xi=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez]}),o})();var en=d(6185),tn=d(6582);let nn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[V.x],imports:[p.ez,v.mH,v._A,St,Xi,Ki,zi,u.UX,Wi.$,u.u5,v.ZS,v.jF,en.vQ,tn.AgreementModule]}),o})()}}]);