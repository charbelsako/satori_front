(self.webpackChunktest_ng7=self.webpackChunktest_ng7||[]).push([[582],{6582:(N,h,_)=>{"use strict";_.r(h),_.d(h,{AgreementModule:()=>a});var v=_(6895),i=_(7750),T=_(4221),f=_(4903),E=_(2558),u=_(7579),x=_(8372),m=_(1884),e=_(4650),W=_(3516),ae=_(4304),A=_(4006),le=_(8161),I=_(6393);function ce(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"input",20),e.NdJ("change",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.loadFilterDataFrequency())}),e.qZA(),e._uU(2),e.qZA()}if(2&n){const t=l.$implicit;e.xp6(1),e.Q6J("value",t._id),e.xp6(1),e.AsE(" ",t._id," (",t.count,") ")}}function q(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",21),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.onCheckboxChange(d,"baseRate"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&n){const t=l.$implicit,s=e.oxw();e.xp6(2),e.Q6J("value",t._id||-1)("checked",s.filterForm.controls.baseRate.value.includes(t._id||-1)),e.xp6(1),e.AsE(" ",t._id||"Other"," ( ",t.count,") ")}}function ge(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",21),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.onCheckboxChange(d,"billingCurrency"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&n){const t=l.$implicit,s=e.oxw();e.xp6(2),e.Q6J("value",t._id)("checked",s.filterForm.controls.billingCurrency.value.includes(t._id)),e.xp6(1),e.AsE(" ",t._id," ( ",t.count,") ")}}function R(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",21),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.onCheckboxChange(d,"billingMethod"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&n){const t=l.$implicit,s=e.oxw();e.xp6(2),e.Q6J("value",t._id)("checked",s.filterForm.controls.billingMethod.value.includes(t._id)),e.xp6(1),e.AsE(" ",t._id," ( ",t.count,") ")}}function Z(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",21),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.onCheckboxChange(d,"payorType"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&n){const t=l.$implicit,s=e.oxw();e.xp6(2),e.Q6J("value",t._id)("checked",s.filterForm.controls.payorType.value.includes(t._id)),e.xp6(1),e.AsE(" ",t._id," ( ",t.count,") ")}}function pe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",21),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.onCheckboxChange(d,"billingCurrency"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&n){const t=l.$implicit,s=e.oxw();e.xp6(2),e.Q6J("value",t._id)("checked",s.filterForm.controls.billingCurrency.value.includes(t._id)),e.xp6(1),e.AsE(" ",t._id," ( ",t.count,") ")}}function Ke(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",21),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.onCheckboxChange(d,"attachmentType"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&n){const t=l.$implicit,s=e.oxw();e.xp6(2),e.Q6J("value",t._id)("checked",s.filterForm.controls.attachmentType.value.includes(t._id)),e.xp6(1),e.AsE(" ",t._id," ( ",t.count,") ")}}function Ye(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",21),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.onCheckboxChange(d,"sicCode"))}),e.qZA(),e._uU(3),e.qZA()()}if(2&n){const t=l.$implicit,s=e.oxw();e.xp6(2),e.Q6J("value",t._id.clientSicId)("checked",s.filterForm.controls.sicCode.value.includes(t._id.clientSicId)),e.xp6(1),e.AsE(" ",t._id.clientSicName," ( ",t.count,") ")}}function ve(n,l){1&n&&(e.TgZ(0,"div",22)(1,"div",23)(2,"div",3)(3,"div",24)(4,"span",25),e._uU(5,"Loading..."),e.qZA()()()()())}let Re=(()=>{class n{constructor(t,s,d,g,C){this.router=t,this.agreementService=s,this.cdr=d,this.fb=g,this.confirmationDialogService=C,this.found=new e.vpe,this.open=!1,this.openClass="",this.baseRateAll=!1,this.loader=!1,this.initalLoad=!1,this.collectionOptions={billingFrequency:[],baseRate:[],billingCurrency:[],billingMethod:[],payorType:[],feeArrangementType:[]},this.iniitalLoadData()}iniitalLoadData(t=!1){this.loader=!0,this.initalLoad=!0,this.agreementService.filtersData().subscribe(s=>{this.collectionOptions=s,this.toggleAllSelection(!0,"baseRate"),this.toggleAllSelection(!0,"billingCurrency"),this.toggleAllSelection(!0,"billingMethod"),this.toggleAllSelection(!0,"payorType"),this.toggleAllSelection(!0,"feeArrangementType"),this.toggleAllSelection(!0,"attachmentType"),this.toggleAllSelectionSic(!0,"sicCode"),this.loader=!1,this.initalLoad=!1,this.cdr.detectChanges(),t&&this.callbackLoad()})}ngOnInit(){this.filterForm=this.fb.group({billingFrequency:[""],baseRate:[[]],billingCurrency:[[]],billingMethod:[[]],payorType:[[]],feeArrangementType:[[]],attachmentType:[[]],sicCode:[[]]})}loadFilterDataFrequency(){this.initalLoad||(this.loader=!0,this.agreementService.filtersDataOption(this.filterForm.value).subscribe(s=>{this.collectionOptions=s,this.cdr.detectChanges(),this.toggleAllSelection(!0,"baseRate",!1),this.toggleAllSelection(!0,"billingCurrency",!1),this.toggleAllSelection(!0,"billingMethod",!1),this.toggleAllSelection(!0,"payorType",!1),this.toggleAllSelection(!0,"feeArrangementType",!1),this.toggleAllSelection(!0,"attachmentType",!1),this.toggleAllSelectionSic(!0,"sicCode",!1),this.loader=!1}))}loadFilterData(t){!this.initalLoad&&this.filterForm.controls[t]?.value.length>0&&(this.loader=!0,this.agreementService.filtersDataOption(this.filterForm.value).subscribe(d=>{this.collectionOptions=d,this.cdr.detectChanges(),this.toggleAllSelection(!0,"baseRate",!1),this.toggleAllSelection(!0,"billingCurrency",!1),this.toggleAllSelection(!0,"billingMethod",!1),this.toggleAllSelection(!0,"payorType",!1),this.toggleAllSelection(!0,"feeArrangementType",!1),this.toggleAllSelection(!0,"attachmentType",!1),this.toggleAllSelectionSic(!0,"sicCode",!1),this.loader=!1}))}onCheckboxChange(t,s){let d=this.filterForm.controls[s].value;if(t.target.checked)d.push(t.target.value);else{let g=0;d.forEach(C=>{C!=t.target.value?g++:d=[...d.slice(0,g),...d.slice(g+1,d.length)]})}this.filterForm.patchValue({[s]:d}),this.loadFilterData(s)}calllbackFn(t){return this.filterForm.controls[t]?.value.length==this.collectionOptions[t]?.length}toggleAllSelectionSic(t,s,d=!0){this.filterForm.patchValue(t?{[s]:this.collectionOptions[s].map(g=>g._id.clientSicId)}:{[s]:[]}),d&&this.loadFilterData(s)}toggleAllSelection(t,s,d=!0){this.filterForm.patchValue(t?{[s]:this.collectionOptions[s].map(g=>g._id||-1)}:{[s]:[]}),d&&this.loadFilterData(s)}openMenu(){this.open=!0,this.openClass="slide-in"}closeMenu(){this.openClass="slide-out",this.open=!1}filter(){this.found.emit(this.filterForm.value)}callbackLoad(){this.filterForm.patchValue({billingFrequency:""}),console.log(this.filterForm.value),this.filter()}resetEvent(){this.iniitalLoadData(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.F0),e.Y36(W.f),e.Y36(e.sBO),e.Y36(A.qu),e.Y36(ae.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-agreements-filter"]],viewQuery:function(t,s){if(1&t&&e.Gf(T.j,5),2&t){let d;e.iGM(d=e.CRH())&&(s.headers=d)}},outputs:{found:"found"},decls:93,vars:18,consts:[[1,"parent-slide",3,"ngClass"],["autocomplete","off",1,"form-inline",3,"formGroup"],["id","slider",1,"slide-out"],[1,"position-relative"],[1,"menu-close"],["type","button",1,"close-button",3,"click"],["src","assets/images/close-icon.svg","alt",""],[1,"slide_main_menu"],[1,"slide_header"],[1,"slide_body"],["type","radio","value","","formControlName","billingFrequency",3,"change"],[4,"ngFor","ngForOf"],["type","checkbox","value","all",3,"checked","change"],["class","position-absolute loader-overlay",4,"ngIf"],[1,"flex","position-relative"],[1,"filter-buttons"],[1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"action-button"],[1,"menu-open"],["type","radio","formControlName","billingFrequency",3,"value","change"],["type","checkbox",3,"value","checked","change"],[1,"position-absolute","loader-overlay"],[1,"loader"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.NdJ("click",function(){return s.closeMenu()}),e._UZ(6,"img",6),e.qZA(),e.TgZ(7,"div",7)(8,"p"),e._uU(9,"Please click filter button after selection"),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8),e._uU(12,"Billing Frequency"),e.qZA(),e.TgZ(13,"div",9)(14,"ul")(15,"li")(16,"input",10),e.NdJ("change",function(){return s.loadFilterDataFrequency()}),e.qZA(),e._uU(17," All "),e.qZA(),e.YNc(18,ce,3,3,"li",11),e.qZA()()(),e.TgZ(19,"div",7)(20,"div",8),e._uU(21,"Base Rate"),e.qZA(),e.TgZ(22,"div",9)(23,"ul")(24,"li")(25,"input",12),e.NdJ("change",function(g){return s.toggleAllSelection(g.target.checked,"baseRate")}),e.qZA(),e._uU(26," All"),e.qZA(),e.YNc(27,q,4,4,"li",11),e.qZA()()(),e.TgZ(28,"div",7)(29,"div",8),e._uU(30,"Billing Currency"),e.qZA(),e.TgZ(31,"div",9)(32,"ul")(33,"li")(34,"input",12),e.NdJ("change",function(g){return s.toggleAllSelection(g.target.checked,"billingCurrency")}),e.qZA(),e._uU(35," All"),e.qZA(),e.YNc(36,ge,4,4,"li",11),e.qZA()()(),e.TgZ(37,"div",7)(38,"div",8),e._uU(39,"Billing Method"),e.qZA(),e.TgZ(40,"div",9)(41,"ul")(42,"li")(43,"input",12),e.NdJ("change",function(g){return s.toggleAllSelection(g.target.checked,"billingMethod")}),e.qZA(),e._uU(44," All"),e.qZA(),e.YNc(45,R,4,4,"li",11),e.qZA()()(),e.TgZ(46,"div",7)(47,"div",8),e._uU(48,"Payor Type"),e.qZA(),e.TgZ(49,"div",9)(50,"ul")(51,"li")(52,"input",12),e.NdJ("change",function(g){return s.toggleAllSelection(g.target.checked,"payorType")}),e.qZA(),e._uU(53," All"),e.qZA(),e.YNc(54,Z,4,4,"li",11),e.qZA()()(),e.TgZ(55,"div",7)(56,"div",8),e._uU(57,"Billing Currency"),e.qZA(),e.TgZ(58,"div",9)(59,"ul")(60,"li")(61,"input",12),e.NdJ("change",function(g){return s.toggleAllSelection(g.target.checked,"billingCurrency")}),e.qZA(),e._uU(62," All"),e.qZA(),e.YNc(63,pe,4,4,"li",11),e.qZA()()(),e.TgZ(64,"div",7)(65,"div",8),e._uU(66,"Attachment Type"),e.qZA(),e.TgZ(67,"div",9)(68,"ul")(69,"li")(70,"input",12),e.NdJ("change",function(g){return s.toggleAllSelection(g.target.checked,"attachmentType")}),e.qZA(),e._uU(71," All"),e.qZA(),e.YNc(72,Ke,4,4,"li",11),e.qZA()()(),e.TgZ(73,"div",7)(74,"div",8),e._uU(75,"SIC Code"),e.qZA(),e.TgZ(76,"div",9)(77,"ul")(78,"li")(79,"input",12),e.NdJ("change",function(g){return s.toggleAllSelectionSic(g.target.checked,"sicCode")}),e.qZA(),e._uU(80," All"),e.qZA(),e.YNc(81,Ye,4,4,"li",11),e.qZA()()()(),e.YNc(82,ve,6,0,"div",13),e.qZA(),e.TgZ(83,"div",14)(84,"div",15)(85,"button",16),e.NdJ("click",function(){return s.resetEvent()}),e._uU(86,"Reset"),e.qZA(),e.TgZ(87,"button",17),e.NdJ("click",function(){return s.filter()}),e._uU(88,"Filter"),e.qZA()()()()(),e.TgZ(89,"div",18)(90,"div",19)(91,"button",16),e.NdJ("click",function(){return s.openMenu()}),e._uU(92,"Filter"),e.qZA()()()()),2&t&&(e.Q6J("ngClass",s.openClass),e.xp6(1),e.Q6J("formGroup",s.filterForm),e.xp6(17),e.Q6J("ngForOf",s.collectionOptions.billingFrequency),e.xp6(7),e.Q6J("checked",s.calllbackFn("baseRate")),e.xp6(2),e.Q6J("ngForOf",s.collectionOptions.baseRate),e.xp6(7),e.Q6J("checked",s.calllbackFn("billingCurrency")),e.xp6(2),e.Q6J("ngForOf",s.collectionOptions.billingCurrency),e.xp6(7),e.Q6J("checked",s.calllbackFn("billingMethod")),e.xp6(2),e.Q6J("ngForOf",s.collectionOptions.billingMethod),e.xp6(7),e.Q6J("checked",s.calllbackFn("payorType")),e.xp6(2),e.Q6J("ngForOf",s.collectionOptions.payorType),e.xp6(7),e.Q6J("checked",s.calllbackFn("billingCurrency")),e.xp6(2),e.Q6J("ngForOf",s.collectionOptions.billingCurrency),e.xp6(7),e.Q6J("checked",s.calllbackFn("attachmentType")),e.xp6(2),e.Q6J("ngForOf",s.collectionOptions.attachmentType),e.xp6(7),e.Q6J("checked",s.calllbackFn("sicCode")),e.xp6(2),e.Q6J("ngForOf",s.collectionOptions.sicCode),e.xp6(1),e.Q6J("ngIf",s.loader))},dependencies:[v.mk,v.sg,v.O5,A._Y,A.Fj,A._,A.JJ,A.JL,A.sg,A.u],styles:["#slider[_ngcontent-%COMP%]{position:absolute;width:310px;height:100%;background:#fff;overflow-x:scroll;padding-bottom:10px;transform:translate(100%);-webkit-transform:translateX(100%);box-shadow:#32325d40 0 50px 100px -20px,#0000004d 0 30px 60px -30px;right:0}#slider[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.slide_main_menu[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #ccc}.slide_main_menu[_ngcontent-%COMP%]   .slide_header[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px;color:#212529}.parent-slide[_ngcontent-%COMP%]{position:fixed;right:0;top:215px;height:92%}.parent-slide.slide-in[_ngcontent-%COMP%]{top:65px}.parent-slide[_ngcontent-%COMP%]   .loader-overlay[_ngcontent-%COMP%]{top:0;width:100%;height:100%;background:#ccc;opacity:.3}.parent-slide[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{position:fixed;top:50%;right:50%;transform:translate(50%,-50%)}.slide-in[_ngcontent-%COMP%]   #slider[_ngcontent-%COMP%]{animation:slide-in .5s forwards;-webkit-animation:slide-in .5s forwards}.menu-open[_ngcontent-%COMP%]{position:absolute;right:91px;top:-77px;width:90%}.slide-in[_ngcontent-%COMP%]   .menu-open[_ngcontent-%COMP%]{display:none}.menu-open[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#ffffff;color:#753681;padding:3.2px 10px;border-radius:0 5px 5px 0;margin:0!important}.slide-out[_ngcontent-%COMP%]   #slider[_ngcontent-%COMP%]{animation:slide-out .5s forwards;-webkit-animation:slide-out .5s forwards}.action-button[_ngcontent-%COMP%]{position:relative;height:-webkit-max-content;height:-moz-max-content;height:max-content}@keyframes slide-in{to{transform:translate(0)}}@-webkit-keyframes slide-in{to{-webkit-transform:translateX(0%)}}@keyframes slide-out{0%{transform:translate(0)}to{transform:translate(100%)}}@-webkit-keyframes slide-out{0%{-webkit-transform:translateX(0%)}to{-webkit-transform:translateX(100%)}}.slide_main_menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:4px 0}.close-button[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;width:30px;height:30px;border-radius:1px;background:#d8d8d8;border:0}.close-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}.slide_main_menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:9px;width:16px;height:16px;min-width:16px}.slide_main_menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex}.filter-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;padding:10px}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:48%;margin:0!important}"],data:{animation:[(0,f.Z9)()]}}),n})();function Ze(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",14),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.downloadFileExcel())}),e._uU(2,"Download"),e.qZA()()}}function xe(n,l){1&n&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",16)(3,"span",17),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function z(n,l){1&n&&(e.TgZ(0,"div")(1,"p",15),e._uU(2,"No agreements found"),e.qZA()())}function se(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div",31)(15,"button",32),e.NdJ("click",function(){const g=e.CHM(t).$implicit,C=e.oxw(3);return e.KtG(C.viewAgrement(g.id))}),e._UZ(16,"img",33),e.qZA()()()()}if(2&n){const t=l.$implicit;e.xp6(2),e.Oqu(null==t?null:t.clientName),e.xp6(2),e.Oqu(null==t?null:t.clientSicName),e.xp6(2),e.Oqu(null==t?null:t.matterName),e.xp6(2),e.Oqu(null==t?null:t.feeArrangementType),e.xp6(2),e.Oqu(null==t?null:t.principalAttorneyName),e.xp6(2),e.Oqu(null==t?null:t.responsibleBillingManagerName)}}const re=function(){return{standalone:!0}};function We(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",18)(2,"table",19)(3,"thead")(4,"tr")(5,"th",20),e.NdJ("sort",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onSort(d))}),e._uU(6,"Client Name "),e.qZA(),e.TgZ(7,"th",21),e.NdJ("sort",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onSort(d))}),e._uU(8,"Client SIC Name"),e.qZA(),e.TgZ(9,"th",22),e.NdJ("sort",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onSort(d))}),e._uU(10,"Matter Name "),e.qZA(),e.TgZ(11,"th",23),e.NdJ("sort",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onSort(d))}),e._uU(12,"Fee Arrangement Type"),e.qZA(),e.TgZ(13,"th",24),e.NdJ("sort",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onSort(d))}),e._uU(14," Responsible Partner"),e.qZA(),e.TgZ(15,"th",25),e.NdJ("sort",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onSort(d))}),e._uU(16,"Billing Manager"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"View"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,se,17,6,"tr",26),e.qZA()(),e.TgZ(21,"div",27)(22,"ngb-pagination",28),e.NdJ("pageChange",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g._state.page=d)})("pageChange",function(){e.CHM(t);const d=e.oxw(2);return e.KtG(d.refreshAgreements())}),e.qZA(),e.TgZ(23,"select",29),e.NdJ("ngModelChange",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g._state.limit=d)})("ngModelChange",function(){e.CHM(t);const d=e.oxw(2);return e.KtG(d.refreshAgreements())}),e.TgZ(24,"option",30),e._uU(25,"10 items per page"),e.qZA(),e.TgZ(26,"option",30),e._uU(27,"20 items per page"),e.qZA(),e.TgZ(28,"option",30),e._uU(29,"30 items per page"),e.qZA()()()()()}if(2&n){const t=e.oxw(2);e.xp6(20),e.Q6J("ngForOf",t.agreements),e.xp6(2),e.Q6J("collectionSize",t._state.totalResults)("page",t._state.page)("pageSize",t._state.limit)("rotate",!0)("maxSize",5)("boundaryLinks",!0),e.xp6(1),e.Q6J("ngModel",t._state.limit)("ngModelOptions",e.DdM(12,re)),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",20),e.xp6(2),e.Q6J("ngValue",30)}}function ue(n,l){if(1&n&&e.YNc(0,We,30,13,"div",9),2&n){const t=e.oxw();e.Q6J("ngIf",!t.isLoading)}}function _e(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"app-agreements-filter",34),e.NdJ("found",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.handleResults(d))}),e.qZA()}}let $e=(()=>{class n{constructor(t,s,d,g){this.router=t,this.agreementService=s,this.cdr=d,this.confirmationDialogService=g,this.agreements=[],this.searchTerm="",this.searchTermUpdate=new u.x,this.isLoading=!1,this.isAgreements=!0,this.open=!1,this.filterData={},this._state={page:1,limit:20,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"desc"},this.searchTermUpdate.pipe((0,x.b)(200),(0,m.x)()).subscribe(C=>{this._state.searchTerm=C,this.getAllAgreements(this._state)})}downloadFileExcel(){return this.agreementService.getAgreementsForExcel(this._state,this.filterData).subscribe(t=>{(0,E.S)(t,"aggrements")},t=>{})}ngOnInit(){this.isLoading=!0,this.getAllAgreements(this._state)}onSort({column:t,direction:s}){this.sortedColumn=t,this.sortedDirection=s,this._state.sortColumn=t,this._state.sortDirection=s,this.getAllAgreements(this._state)}handleResults(t){this.filterData=t,this.isLoading=!0,this.getAllAgreements(this._state)}getAllAgreements(t){this.agreementService.getAgreements(t,this.filterData).subscribe(s=>{this.agreements=s.results,console.log(this.agreements),this.isAgreements=0!=this.agreements.length,this.setState(s),this.isLoading=!1},s=>{this.isLoading=!1})}refreshAgreements(){this.getAllAgreements(this._state)}setState(t){this._state.page=t.page,this._state.limit=t.limit,this._state.totalPages=t.totalPages,this._state.totalResults=t.totalResults}editAgreement(t){this.router.navigate(["/agreements/edit-agreement/"+t])}viewAgrement(t){this.router.navigate(["/agreements/view-agreement/"+t])}openMenu(){this.open=!0}closeMenu(){this.open=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.F0),e.Y36(W.f),e.Y36(e.sBO),e.Y36(ae.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-agreements"]],viewQuery:function(t,s){if(1&t&&e.Gf(T.j,5),2&t){let d;e.iGM(d=e.CRH())&&(s.headers=d)}},decls:16,vars:11,consts:[[3,"previousHeading","previousLink","heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-md-9","text-left"],[1,"form-group","mb-1"],["type","text","type","text","name","searchTerm","id","agreementstaffs","placeholder","Search here...",1,"form-control",3,"ngModel","ngModelChange"],["class","col-md-3 text-center",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["table",""],[3,"found",4,"ngIf"],[1,"col-md-3","text-center"],["type","button",1,"btn","btn-primary",3,"click"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col","sortable","clientName",3,"sort"],["scope","col","sortable","clientSicName",3,"sort"],["scope","col","sortable","matterName",3,"sort"],["scope","col","sortable","feeArrangementType",3,"sort"],["scope","col","sortable","principalAttorneyName",3,"sort"],["scope","col","sortable","responsibleBillingManagerName",3,"sort"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","rotate","maxSize","boundaryLinks","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngValue"],[1,"action-buttons"],[3,"click"],["src","assets/images/search.svg","alt",""],[3,"found"]],template:function(t,s){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"form")(6,"div",4)(7,"div",5)(8,"div",6)(9,"input",7),e.NdJ("ngModelChange",function(g){return s._state.searchTerm=g})("ngModelChange",function(g){return s.searchTermUpdate.next(g)}),e.qZA()()(),e.YNc(10,Ze,3,0,"div",8),e.qZA(),e.YNc(11,xe,5,0,"ng-container",9),e.YNc(12,z,3,0,"div",10),e.YNc(13,ue,1,1,"ng-template",null,11,e.W1O),e.qZA()()(),e.YNc(15,_e,1,0,"app-agreements-filter",12),e.qZA()()),2&t){const d=e.MAs(14);e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("previousHeading","Agreements")("previousLink","agreements")("heading","Agreements"),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(7),e.Q6J("ngModel",s._state.searchTerm),e.xp6(1),e.Q6J("ngIf",!s.isLoading&&s._state.totalResults>0),e.xp6(1),e.Q6J("ngIf",s.isLoading),e.xp6(1),e.Q6J("ngIf",!s.isAgreements)("ngIfElse",d),e.xp6(3),e.Q6J("ngIf",s._state.totalResults>0)}},dependencies:[v.sg,v.O5,A._Y,A.YN,A.Kr,A.Fj,A.EJ,A.JJ,A.JL,le.q,A.On,A.F,I.N9,Re],data:{animation:[(0,f.Z9)()]}}),n})();var ye=_(3531),j=_(9646),S=_(8733),ee=_(9300),Q=_(3900),$=_(4004),te=_(262),U=_(8505),k=_(2454),V=_.n(k),ze=_(6316),J=_(1959),Ce=_(9581),we=_(6124),qe=_(3476),D=_(6134),X=_(5418),ne=_(8530),me=_(9867),O=_(7441);const B=["file"],ie=["instance"];function Te(n,l){if(1&n&&e._UZ(0,"ngb-highlight",17),2&n){const t=l.result,s=l.term,d=e.oxw();e.Q6J("result",d.formatClientGroup(t))("term",s)}}function L(n,l){if(1&n&&e._UZ(0,"ngb-highlight",17),2&n){const t=l.result,s=l.term,d=e.oxw();e.Q6J("result",d.format(t))("term",s)}}function Xe(n,l){if(1&n&&e._UZ(0,"ngb-highlight",17),2&n){const t=l.result,s=l.term,d=e.oxw();e.Q6J("result",d.formatMatter(t))("term",s)}}function ke(n,l){if(1&n&&e._UZ(0,"ngb-highlight",17),2&n){const t=l.result,s=l.term,d=e.oxw();e.Q6J("result",d.formatSIC(t))("term",s)}}function Je(n,l){if(1&n&&e._UZ(0,"ngb-highlight",17),2&n){const t=l.result,s=l.term,d=e.oxw();e.Q6J("result",d.formatterEmployee(t))("term",s)}}function Me(n,l){if(1&n&&e._UZ(0,"ngb-highlight",17),2&n){const t=l.result,s=l.term,d=e.oxw();e.Q6J("result",d.formatEmployee(t))("term",s)}}function et(n,l){if(1&n&&e._UZ(0,"ngb-highlight",17),2&n){const t=l.result,s=l.term,d=e.oxw();e.Q6J("result",d.formatterAreaOfLaw(t))("term",s)}}function tt(n,l){if(1&n&&e._UZ(0,"ngb-highlight",17),2&n){const t=l.result,s=l.term,d=e.oxw();e.Q6J("result",d.formatterPracticeGroup(t))("term",s)}}function F(n,l){1&n&&e._UZ(0,"app-page-header",18),2&n&&e.Q6J("heading","Create New Record")}function nt(n,l){if(1&n&&e._UZ(0,"app-page-header",19),2&n){const t=e.oxw();e.Q6J("previousHeading","Agreements")("previousLink",t.viewAgreementLink)("heading","Edit Record")}}function it(n,l){1&n&&(e.TgZ(0,"div",20),e._uU(1," Create New Record "),e.qZA())}function Le(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",20),e._uU(1," Edit Record "),e.TgZ(2,"div",21)(3,"button",22),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.back())}),e._uU(4,"Back"),e.qZA()()()}}function p(n,l){1&n&&(e.ynx(0),e.TgZ(1,"div",23)(2,"div",24)(3,"span",25),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function y(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * clientGroup is required. "),e.qZA())}function c(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,y,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.clientGroup.errors?null:t.addEditForm.controls.clientGroup.errors.required)||(null==t.addEditForm.controls.clientGroup.errors?null:t.addEditForm.controls.clientGroup.errors.pattern))}}function P(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * client is required. "),e.qZA())}function H(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,P,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.client.errors?null:t.addEditForm.controls.client.errors.required)||(null==t.addEditForm.controls.client.errors?null:t.addEditForm.controls.client.errors.pattern))}}function Ue(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Client SIC Category is required. "),e.qZA())}function Ie(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ue,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.clientSic.errors?null:t.addEditForm.controls.clientSic.errors.required)||(null==t.addEditForm.controls.clientSic.errors?null:t.addEditForm.controls.clientSic.errors.pattern))}}function rt(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * matter is required. "),e.qZA())}function Oe(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,rt,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.matter.errors?null:t.addEditForm.controls.matter.errors.required)||(null==t.addEditForm.controls.matter.errors?null:t.addEditForm.controls.matter.errors.pattern))}}function ot(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"label",30),e._uU(2,"*Matter"),e.qZA(),e.TgZ(3,"input",92,93),e.NdJ("focus",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g.focusMatter$.next(d.target.value))})("click",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g.clickMatter$.next(d.target.value))}),e.qZA(),e.YNc(5,Oe,2,1,"div",14),e.qZA()}if(2&n){const t=e.oxw(2),s=e.MAs(5);e.xp6(3),e.Q6J("ngbTypeahead",t.searchMatterRecords)("resultTemplate",s)("inputFormatter",t.formatterMatter),e.xp6(2),e.Q6J("ngIf",t.addEditForm.controls.matter.errors&&(t.submitted||t.addEditForm.controls.matter.dirty||t.addEditForm.controls.matter.touched))}}function at(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * matterId is required. "),e.qZA())}function fe(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,at,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.matterId.errors?null:t.addEditForm.controls.matterId.errors.required)||(null==t.addEditForm.controls.matterId.errors?null:t.addEditForm.controls.matterId.errors.pattern))}}function lt(n,l){if(1&n&&(e.TgZ(0,"div",94)(1,"div",29)(2,"label",30),e._uU(3,"*Matter ID"),e.qZA(),e._UZ(4,"input",95),e.YNc(5,fe,2,1,"div",14),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("ngIf",t.addEditForm.controls.matterId.errors&&(t.submitted||t.addEditForm.controls.matterId.dirty||t.addEditForm.controls.matterId.touched))}}function st(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * matterName is required. "),e.qZA())}function dt(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,st,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.matterName.errors?null:t.addEditForm.controls.matterName.errors.required)||(null==t.addEditForm.controls.matterName.errors?null:t.addEditForm.controls.matterName.errors.pattern))}}function ct(n,l){if(1&n&&(e.TgZ(0,"div",28)(1,"div",29)(2,"label",30),e._uU(3,"*Matter Name"),e.qZA(),e._UZ(4,"input",96),e.YNc(5,dt,2,1,"div",14),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("ngIf",t.addEditForm.controls.matterName.errors&&(t.submitted||t.addEditForm.controls.matterName.dirty||t.addEditForm.controls.matterName.touched))}}function Pe(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Responsible Partner is required. "),e.qZA())}function ut(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Pe,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.responsibleAttorney.errors?null:t.addEditForm.controls.responsibleAttorney.errors.required)||(null==t.addEditForm.controls.responsibleAttorney.errors?null:t.addEditForm.controls.responsibleAttorney.errors.pattern))}}function he(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Billing Manager is required. "),e.qZA())}function zt(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,he,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.billingAttorney.errors?null:t.addEditForm.controls.billingAttorney.errors.required)||(null==t.addEditForm.controls.billingAttorney.errors?null:t.addEditForm.controls.billingAttorney.errors.pattern))}}function Xt(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Practice Group is required. "),e.qZA())}function en(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Xt,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.practiceGroup.errors?null:t.addEditForm.controls.practiceGroup.errors.required)||(null==t.addEditForm.controls.practiceGroup.errors?null:t.addEditForm.controls.practiceGroup.errors.pattern))}}function tn(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Area of Law is required. "),e.qZA())}function nn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,tn,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.areaOfLaw.errors?null:t.addEditForm.controls.areaOfLaw.errors.required)||(null==t.addEditForm.controls.areaOfLaw.errors?null:t.addEditForm.controls.areaOfLaw.errors.pattern))}}function rn(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * agreementStartDate is required. "),e.qZA())}function on(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,rn,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.agreementStartDate.errors?null:t.addEditForm.controls.agreementStartDate.errors.required)||(null==t.addEditForm.controls.agreementStartDate.errors?null:t.addEditForm.controls.agreementStartDate.errors.pattern))}}function an(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Expiration Date is required. "),e.qZA())}function ln(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,an,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.expirationDate.errors?null:t.addEditForm.controls.expirationDate.errors.required)||(null==t.addEditForm.controls.expirationDate.errors?null:t.addEditForm.controls.expirationDate.errors.pattern))}}function mt(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Fee Arrangement Type is required. "),e.qZA())}function Ne(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,mt,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.reminderTimingDay.errors?null:t.addEditForm.controls.reminderTimingDay.errors.required)||(null==t.addEditForm.controls.reminderTimingDay.errors?null:t.addEditForm.controls.reminderTimingDay.errors.pattern))}}function xt(n,l){if(1&n&&(e.TgZ(0,"option",97),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.s9C("value",t.name),e.xp6(1),e.hij(" ",t.name,"")}}function je(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Fee Arrangement Type is required. "),e.qZA())}function G(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,je,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.feeArrangementType.errors?null:t.addEditForm.controls.feeArrangementType.errors.required)||(null==t.addEditForm.controls.feeArrangementType.errors?null:t.addEditForm.controls.feeArrangementType.errors.pattern))}}function sn(n,l){if(1&n&&(e.TgZ(0,"option",97),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.s9C("value",t.name),e.xp6(1),e.hij(" ",t.name,"")}}function dn(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Base Rate Type is required. "),e.qZA())}function cn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,dn,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.baseRateType.errors?null:t.addEditForm.controls.baseRateType.errors.required)||(null==t.addEditForm.controls.baseRateType.errors?null:t.addEditForm.controls.baseRateType.errors.pattern))}}function yt(n,l){if(1&n&&(e.TgZ(0,"div",51)(1,"label",30),e._uU(2,"*Base Rate Type"),e.qZA(),e.TgZ(3,"select",98)(4,"option",77),e._uU(5,"Select Base Rate Type"),e.qZA(),e.YNc(6,sn,2,2,"option",59),e.qZA(),e.YNc(7,cn,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",t._baseRate),e.xp6(1),e.Q6J("ngIf",t.addEditForm.controls.baseRateType.errors&&(t.submitted||t.addEditForm.controls.baseRateType.dirty||t.addEditForm.controls.baseRateType.touched))}}function un(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Target Fee is required. "),e.qZA())}function mn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,un,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.targetFee.errors?null:t.addEditForm.controls.targetFee.errors.required)||(null==t.addEditForm.controls.targetFee.errors?null:t.addEditForm.controls.targetFee.errors.pattern))}}function gn(n,l){if(1&n&&(e.TgZ(0,"div",99)(1,"label",30),e._uU(2,"*Target Fee"),e.qZA(),e.TgZ(3,"div",100)(4,"div",101)(5,"span",102),e._uU(6,"$"),e.qZA()(),e._UZ(7,"input",103),e.qZA(),e.YNc(8,mn,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",t.addEditForm.controls.targetFee.errors&&(t.submitted||t.addEditForm.controls.targetFee.dirty||t.addEditForm.controls.targetFee.touched))}}function Ct(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Collar Percentage is required. "),e.qZA())}function pn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ct,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.collarPercentage.errors?null:t.addEditForm.controls.collarPercentage.errors.required)||(null==t.addEditForm.controls.collarPercentage.errors?null:t.addEditForm.controls.collarPercentage.errors.pattern))}}function Tt(n,l){if(1&n&&(e.TgZ(0,"div",104)(1,"label",30),e._uU(2,"*Collar percentage (in %)"),e.qZA(),e.TgZ(3,"div",100)(4,"div",101)(5,"span",102),e._uU(6,"%"),e.qZA()(),e._UZ(7,"input",105),e.qZA(),e.YNc(8,pn,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",t.addEditForm.controls.collarPercentage.errors&&(t.submitted||t.addEditForm.controls.collarPercentage.dirty||t.addEditForm.controls.collarPercentage.touched))}}function _n(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Fee Cap Amount is required. "),e.qZA())}function fn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,_n,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.feeCapAmount.errors?null:t.addEditForm.controls.feeCapAmount.errors.required)||(null==t.addEditForm.controls.feeCapAmount.errors?null:t.addEditForm.controls.feeCapAmount.errors.pattern))}}function hn(n,l){if(1&n&&(e.TgZ(0,"div",106)(1,"label",30),e._uU(2," *Fee Cap Amount"),e.qZA(),e.TgZ(3,"div",107)(4,"div",101)(5,"span",102),e._uU(6,"$"),e.qZA()(),e._UZ(7,"input",108),e.qZA(),e.YNc(8,fn,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",t.addEditForm.controls.feeCapAmount.errors&&(t.submitted||t.addEditForm.controls.feeCapAmount.dirty||t.addEditForm.controls.feeCapAmount.touched))}}function An(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Discount is required. "),e.qZA())}function vn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,An,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.discount.errors?null:t.addEditForm.controls.discount.errors.required)||(null==t.addEditForm.controls.discount.errors?null:t.addEditForm.controls.discount.errors.pattern))}}function xn(n,l){if(1&n&&(e.TgZ(0,"div",104)(1,"label",30),e._uU(2,"*Discount (in %)"),e.qZA(),e.TgZ(3,"div",100)(4,"div",101)(5,"span",102),e._uU(6,"%"),e.qZA()(),e._UZ(7,"input",109),e.qZA(),e.YNc(8,vn,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",t.addEditForm.controls.discount.errors&&(t.submitted||t.addEditForm.controls.discount.dirty||t.addEditForm.controls.discount.touched))}}function yn(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Discount Type is required. "),e.qZA())}function bt(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,yn,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.discountType.errors?null:t.addEditForm.controls.discountType.errors.required)||(null==t.addEditForm.controls.discountType.errors?null:t.addEditForm.controls.discountType.errors.pattern))}}function Ft(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",110)(1,"label",68),e._uU(2,"*Other Discount Detail"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",69)(5,"input",111),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g.discountType(d))}),e.qZA(),e.TgZ(6,"label",112),e._uU(7," Discount built into rates "),e.qZA()(),e.TgZ(8,"div",69)(9,"input",113),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g.discountType(d))}),e.qZA(),e.TgZ(10,"label",114),e._uU(11," Time of billing discount "),e.qZA()(),e.TgZ(12,"div",69)(13,"input",115),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g.discountType(d,""))}),e.qZA(),e.TgZ(14,"label",116),e._uU(15," Other "),e.qZA()(),e.YNc(16,bt,2,1,"div",14),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(16),e.Q6J("ngIf",t.addEditForm.controls.discountType.errors&&(t.submitted||t.addEditForm.controls.discountType.dirty||t.addEditForm.controls.discountType.touched))}}function Cn(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Discount Detail is required. "),e.qZA())}function Tn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Cn,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.otherDiscount.errors?null:t.addEditForm.controls.otherDiscount.errors.required)||(null==t.addEditForm.controls.otherDiscount.errors?null:t.addEditForm.controls.otherDiscount.errors.pattern))}}function bn(n,l){if(1&n&&(e.TgZ(0,"div",106)(1,"label",30),e._uU(2,"Other Discount Detail Description"),e.qZA(),e._UZ(3,"input",117),e.YNc(4,Tn,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.addEditForm.controls.otherDiscount.errors&&(t.submitted||t.addEditForm.controls.otherDiscount.dirty||t.addEditForm.controls.otherDiscount.touched))}}function Dt(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Rate Card Detail is required. "),e.qZA())}function Fn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Dt,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.rateCardDetails.errors?null:t.addEditForm.controls.rateCardDetails.errors.required)||(null==t.addEditForm.controls.rateCardDetails.errors?null:t.addEditForm.controls.rateCardDetails.errors.pattern))}}function Dn(n,l){if(1&n&&(e.TgZ(0,"div",99)(1,"label",30),e._uU(2,"Rate Card Detail"),e.qZA(),e._UZ(3,"input",118),e.YNc(4,Fn,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.addEditForm.controls.rateCardDetails.errors&&(t.submitted||t.addEditForm.controls.rateCardDetails.dirty||t.addEditForm.controls.rateCardDetails.touched))}}function be(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Capped Rate Detail is required. "),e.qZA())}function Et(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,be,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.cappedRateDetail.errors?null:t.addEditForm.controls.cappedRateDetail.errors.required)||(null==t.addEditForm.controls.cappedRateDetail.errors?null:t.addEditForm.controls.cappedRateDetail.errors.pattern))}}function En(n,l){if(1&n&&(e.TgZ(0,"div",99)(1,"label",30),e._uU(2,"Capped Rate Detail"),e.qZA(),e._UZ(3,"input",119),e.YNc(4,Et,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.addEditForm.controls.cappedRateDetail.errors&&(t.submitted||t.addEditForm.controls.cappedRateDetail.dirty||t.addEditForm.controls.cappedRateDetail.touched))}}function gt(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Fee Type is required. "),e.qZA())}function Zt(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,gt,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.fixedFeeType.errors?null:t.addEditForm.controls.fixedFeeType.errors.required)||(null==t.addEditForm.controls.fixedFeeType.errors?null:t.addEditForm.controls.fixedFeeType.errors.pattern))}}function Zn(n,l){if(1&n&&(e.TgZ(0,"div",51)(1,"label",30),e._uU(2,"*Fixed Fee Type"),e.qZA(),e.TgZ(3,"select",120)(4,"option",53),e._uU(5,"Select Fee Type"),e.qZA(),e.TgZ(6,"option",121),e._uU(7,"Matter"),e.qZA(),e.TgZ(8,"option",122),e._uU(9,"Annual"),e.qZA(),e.TgZ(10,"option",123),e._uU(11,"Monthly"),e.qZA(),e.TgZ(12,"option",124),e._uU(13,"Portfolio"),e.qZA(),e.TgZ(14,"option",125),e._uU(15,"Phase/Milestone"),e.qZA()(),e.YNc(16,Zt,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(16),e.Q6J("ngIf",t.addEditForm.controls.fixedFeeType.errors&&(t.submitted||t.addEditForm.controls.fixedFeeType.dirty||t.addEditForm.controls.fixedFeeType.touched))}}function wn(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Fixed Fee Details is required. "),e.qZA())}function qn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,wn,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.fixedFeeDetails.errors?null:t.addEditForm.controls.fixedFeeDetails.errors.required)||(null==t.addEditForm.controls.fixedFeeDetails.errors?null:t.addEditForm.controls.fixedFeeDetails.errors.pattern))}}function Mn(n,l){if(1&n&&(e.TgZ(0,"div",99)(1,"label",30),e._uU(2,"Fixed Fee Detail"),e.qZA(),e._UZ(3,"input",126),e.YNc(4,qn,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.addEditForm.controls.fixedFeeDetails.errors&&(t.submitted||t.addEditForm.controls.fixedFeeDetails.dirty||t.addEditForm.controls.fixedFeeDetails.touched))}}function Un(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Fee Type Value is required. "),e.qZA())}function In(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Un,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.fixedFeeValue.errors?null:t.addEditForm.controls.fixedFeeValue.errors.required)||(null==t.addEditForm.controls.fixedFeeValue.errors?null:t.addEditForm.controls.fixedFeeValue.errors.pattern))}}function Se(n,l){if(1&n&&(e.TgZ(0,"div",51)(1,"label",30),e._uU(2,"*Fee Type Value"),e.qZA(),e.TgZ(3,"div",100)(4,"div",101)(5,"span",102),e._uU(6,"$"),e.qZA()(),e._UZ(7,"input",127),e.qZA(),e.YNc(8,In,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",t.addEditForm.controls.fixedFeeValue.errors&&(t.submitted||t.addEditForm.controls.fixedFeeValue.dirty||t.addEditForm.controls.fixedFeeValue.touched))}}function On(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Capped Fee Details is required. "),e.qZA())}function wt(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,On,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.feeCollarDetail.errors?null:t.addEditForm.controls.feeCollarDetail.errors.required)||(null==t.addEditForm.controls.feeCollarDetail.errors?null:t.addEditForm.controls.feeCollarDetail.errors.pattern))}}function Pn(n,l){if(1&n&&(e.TgZ(0,"div",99)(1,"label",30),e._uU(2,"Fee Collar Detail"),e.qZA(),e._UZ(3,"input",128),e.YNc(4,wt,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.addEditForm.controls.feeCollarDetail.errors&&(t.submitted||t.addEditForm.controls.feeCollarDetail.dirty||t.addEditForm.controls.feeCollarDetail.touched))}}function Nn(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Full Contingency Detail is required. "),e.qZA())}function Sn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Nn,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.fullContingencyDetail.errors?null:t.addEditForm.controls.fullContingencyDetail.errors.required)||(null==t.addEditForm.controls.fullContingencyDetail.errors?null:t.addEditForm.controls.fullContingencyDetail.errors.pattern))}}function Bn(n,l){if(1&n&&(e.TgZ(0,"div",106)(1,"label",30),e._uU(2,"*Full Contingency Detail "),e.qZA(),e._UZ(3,"input",129),e.YNc(4,Sn,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.addEditForm.controls.fullContingencyDetail.errors&&(t.submitted||t.addEditForm.controls.fullContingencyDetail.dirty||t.addEditForm.controls.fullContingencyDetail.touched))}}function Yn(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Partial Contingency Detail is required. "),e.qZA())}function Rn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Yn,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.partialContingencyDetail.errors?null:t.addEditForm.controls.partialContingencyDetail.errors.required)||(null==t.addEditForm.controls.partialContingencyDetail.errors?null:t.addEditForm.controls.partialContingencyDetail.errors.pattern))}}function $n(n,l){if(1&n&&(e.TgZ(0,"div",106)(1,"label",30),e._uU(2,"*Partial Contingency Detail "),e.qZA(),e._UZ(3,"input",130),e.YNc(4,Rn,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.addEditForm.controls.partialContingencyDetail.errors&&(t.submitted||t.addEditForm.controls.partialContingencyDetail.dirty||t.addEditForm.controls.partialContingencyDetail.touched))}}function kn(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Rate Reminder During Term is required. "),e.qZA())}function Jn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,kn,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.rateAdjustmentDuringTerm.errors?null:t.addEditForm.controls.rateAdjustmentDuringTerm.errors.required)||(null==t.addEditForm.controls.rateAdjustmentDuringTerm.errors?null:t.addEditForm.controls.rateAdjustmentDuringTerm.errors.pattern))}}function qt(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Adjustment Dates is required. "),e.qZA())}function Ln(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,qt,2,0,"span",90),e.qZA()),2&n){const t=e.oxw().index,s=e.oxw(3);let d;e.xp6(1),e.Q6J("ngIf",(null==(d=s.getValidity(t,"adjustmentDate"))||null==d.errors?null:d.errors.required)||(null==(d=s.getValidity(t,"adjustmentDate"))||null==d.errors?null:d.errors.pattern))}}function Qe(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Adjustment Dates is required. "),e.qZA())}function jn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Qe,2,0,"span",90),e.qZA()),2&n){const t=e.oxw().index,s=e.oxw(3);let d;e.xp6(1),e.Q6J("ngIf",(null==(d=s.getValidity(t,"adjustmentDetails"))||null==d.errors?null:d.errors.required)||(null==(d=s.getValidity(t,"adjustmentDetails"))||null==d.errors?null:d.errors.pattern))}}function Qn(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Adjustment Reminder is required. "),e.qZA())}function Vn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Qn,2,0,"span",90),e.qZA()),2&n){const t=e.oxw().index,s=e.oxw(3);let d;e.xp6(1),e.Q6J("ngIf",(null==(d=s.getValidity(t,"adjustmentReminder"))||null==d.errors?null:d.errors.required)||(null==(d=s.getValidity(t,"adjustmentReminder"))||null==d.errors?null:d.errors.pattern))}}function Be(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Reminder Date is required. "),e.qZA())}function Hn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Be,2,0,"span",90),e.qZA()),2&n){const t=e.oxw().index,s=e.oxw(3);let d;e.xp6(1),e.Q6J("ngIf",(null==(d=s.getValidity(t,"adjustmentReminderDate"))||null==d.errors?null:d.errors.required)||(null==(d=s.getValidity(t,"adjustmentReminderDate"))||null==d.errors?null:d.errors.pattern))}}function Gn(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Reminder Date is required. "),e.qZA())}function Kn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Gn,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2).index,s=e.oxw(3);let d;e.xp6(1),e.Q6J("ngIf",(null==(d=s.getValidity(t,"adjustmentReminderDate"))||null==d.errors?null:d.errors.required)||(null==(d=s.getValidity(t,"adjustmentReminderDate"))||null==d.errors?null:d.errors.pattern))}}function Mt(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Expiration Reminder is required. "),e.qZA())}function Ut(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Mt,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2).index,s=e.oxw(3);let d;e.xp6(1),e.Q6J("ngIf",(null==(d=s.getValidity(t,"expirationReminderDate"))||null==d.errors?null:d.errors.required)||(null==(d=s.getValidity(t,"expirationReminderDate"))||null==d.errors?null:d.errors.pattern))}}function It(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Email Recipients field is required. "),e.qZA())}function Wn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,It,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2).index,s=e.oxw(3);let d;e.xp6(1),e.Q6J("ngIf",(null==(d=s.getValidity(t,"adjustmentReminderEmailRecipients"))||null==d.errors?null:d.errors.required)||(null==(d=s.getValidity(t,"adjustmentReminderEmailRecipient"))||null==d.errors?null:d.errors.pattern))}}function zn(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Rate Adjustment Reminder Email Content is required. "),e.qZA())}function Xn(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,zn,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2).index,s=e.oxw(3);let d;e.xp6(1),e.Q6J("ngIf",(null==(d=s.getValidity(t,"adjustmentReminderEmailContent"))||null==d.errors?null:d.errors.required)||(null==(d=s.getValidity(t,"adjustmentReminderEmailContent"))||null==d.errors?null:d.errors.pattern))}}function ei(n,l){if(1&n&&(e.TgZ(0,"div",143)(1,"h4"),e._uU(2,"*Rate Adjustment Reminder "),e.qZA(),e.TgZ(3,"div",144)(4,"label",30),e._uU(5,"Reminder Date"),e.qZA(),e._UZ(6,"input",145),e.YNc(7,Kn,2,1,"div",14),e.qZA(),e.TgZ(8,"div",144)(9,"label",30),e._uU(10,"Expiration Reminder"),e.qZA(),e._UZ(11,"input",146),e.ALo(12,"date"),e.YNc(13,Ut,2,1,"div",14),e.qZA(),e.TgZ(14,"div",144)(15,"label",30),e._uU(16,"Reminder Email Recipients"),e.qZA(),e._UZ(17,"input",147),e.YNc(18,Wn,2,1,"div",14),e.qZA(),e.TgZ(19,"div",144)(20,"label",30),e._uU(21,"*Reminder Email Content"),e.qZA(),e._UZ(22,"textarea",148),e.YNc(23,Xn,2,1,"div",14),e.qZA()()),2&n){const t=e.oxw().index,s=e.oxw(3);let d,g,C,Y,K;e.xp6(7),e.Q6J("ngIf",(null==(d=s.getValidity(t,"adjustmentReminderDate"))?null:d.errors)&&(s.submitted||(null==(d=s.getValidity(t,"adjustmentReminderDate"))?null:d.dirty)||(null==(d=s.getValidity(t,"adjustmentReminderDate"))?null:d.touched))),e.xp6(4),e.s9C("min",e.xi3(12,5,null==(g=s.getValidity(t,"adjustmentReminderDate"))?null:g.value,"YYY-MM-dd")),e.xp6(2),e.Q6J("ngIf",(null==(C=s.getValidity(t,"expirationReminderDate"))?null:C.errors)&&(s.submitted||(null==(C=s.getValidity(t,"expirationReminderDate"))?null:C.dirty)||(null==(C=s.getValidity(t,"expirationReminderDate"))?null:C.touched))),e.xp6(5),e.Q6J("ngIf",(null==(Y=s.getValidity(t,"adjustmentReminderEmailRecipient"))?null:Y.errors)&&(s.submitted||(null==(Y=s.getValidity(t,"adjustmentReminderEmailRecipient"))?null:Y.dirty)||(null==(Y=s.getValidity(t,"adjustmentReminderEmailRecipient"))?null:Y.touched))),e.xp6(5),e.Q6J("ngIf",(null==(K=s.getValidity(t,"adjustmentReminderEmailContent"))?null:K.errors)&&(s.submitted||(null==(K=s.getValidity(t,"adjustmentReminderEmailContent"))?null:K.dirty)||(null==(K=s.getValidity(t,"adjustmentReminderEmailContent"))?null:K.touched)))}}function ti(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",133),e.NdJ("click",function(){e.CHM(t);const d=e.oxw(4);return e.KtG(d.removeAdjustmentRow(d.index))}),e._uU(1," Remove Adjustment "),e.qZA()}}function ni(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",134)(1,"div",106)(2,"label",30),e._uU(3,"*Adjustment Date (DD-MM-YYYY) "),e.qZA(),e._UZ(4,"input",135),e.YNc(5,Ln,2,1,"div",14),e.qZA(),e.TgZ(6,"div",106)(7,"label",30),e._uU(8,"*Adjustment Details "),e.qZA(),e._UZ(9,"input",136),e.YNc(10,jn,2,1,"div",14),e.qZA(),e.TgZ(11,"div",106)(12,"label",68),e._uU(13,"*Adjustment Reminder"),e.qZA(),e._UZ(14,"br"),e.TgZ(15,"div",69)(16,"input",137),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw(3);return e.KtG(g.rateAdjustmentDuringTermReminder(d))}),e.ALo(17,"date"),e.ALo(18,"date"),e.qZA(),e.TgZ(19,"label",138),e._uU(20," Yes "),e.qZA()(),e.TgZ(21,"div",69),e._UZ(22,"input",139),e.TgZ(23,"label",140),e._uU(24," No "),e.qZA()(),e.YNc(25,Vn,2,1,"div",14),e.YNc(26,Hn,2,1,"div",14),e.qZA(),e.YNc(27,ei,24,8,"div",141),e.YNc(28,ti,2,0,"button",142),e.qZA()}if(2&n){const t=l.index,s=e.oxw(3);let d,g,C,Y,K;e.Q6J("formGroupName",t),e.xp6(5),e.Q6J("ngIf",(null==(d=s.getValidity(t,"adjustmentDate"))?null:d.errors)&&(s.submitted||(null==(d=s.getValidity(t,"adjustmentDate"))?null:d.dirty)||(null==(d=s.getValidity(t,"adjustmentDate"))?null:d.touched))),e.xp6(5),e.Q6J("ngIf",(null==(g=s.getValidity(t,"adjustmentDetails"))?null:g.errors)&&(s.submitted||(null==(g=s.getValidity(t,"adjustmentDetails"))?null:g.dirty)||(null==(g=s.getValidity(t,"adjustmentDetails"))?null:g.touched))),e.xp6(6),e.s9C("min",e.xi3(17,9,s.addEditForm.value.agreementStartDate,"YYY-MM-dd")),e.s9C("max",e.xi3(18,12,s.addEditForm.value.expirationDate,"YYY-MM-dd")),e.xp6(9),e.Q6J("ngIf",(null==(C=s.getValidity(t,"adjustmentReminder"))?null:C.errors)&&(s.submitted||(null==(C=s.getValidity(t,"adjustmentReminder"))?null:C.dirty)||(null==(C=s.getValidity(t,"adjustmentReminder"))?null:C.touched))),e.xp6(1),e.Q6J("ngIf",null==(Y=s.getValidity(t,"adjustmentReminderDate"))?null:Y.errors),e.xp6(1),e.Q6J("ngIf","Yes"===(null==(K=s.getValidity(t,"adjustmentReminder"))?null:K.value)),e.xp6(1),e.Q6J("ngIf",s.getAdjustmentArray().controls.length>1)}}function Fe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",131),e.YNc(1,ni,29,15,"div",132),e.TgZ(2,"button",133),e.NdJ("click",function(){e.CHM(t);const d=e.oxw(2);return e.KtG(d.addAdjustmentRow())}),e._uU(3," Add Adjustment "),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.getAdjustmentArray().controls)}}function ii(n,l){if(1&n&&(e.TgZ(0,"option",97),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.s9C("value",t.name),e.xp6(1),e.hij(" ",t.name,"")}}function ri(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Billing Frequency is required. "),e.qZA())}function oi(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ri,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.billingFrequency.errors?null:t.addEditForm.controls.billingFrequency.errors.required)||(null==t.addEditForm.controls.billingFrequency.errors?null:t.addEditForm.controls.billingFrequency.errors.pattern))}}function Ot(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"label",68),e._uU(2,"*Billing Frequency Other"),e.qZA(),e.TgZ(3,"input",149),e.NdJ("[ngModel]",function(){e.CHM(t);const d=e.oxw(2);return e.KtG(d.billingFrequencyOther)}),e.qZA(),e.YNc(4,oi,2,1,"div",14),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.addEditForm.controls.billingFrequency.errors&&(t.submitted||t.addEditForm.controls.billingFrequency.dirty||t.addEditForm.controls.billingFrequency.touched))}}function Pt(n,l){if(1&n&&(e.TgZ(0,"option",97),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.s9C("value",t.name),e.xp6(1),e.hij(" ",t.name,"")}}function pt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",150),e.NdJ("[ngModel]",function(){e.CHM(t);const d=e.oxw(2);return e.KtG(d.billingMethodOther)}),e.qZA()}}function ai(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Billing Method is required. "),e.qZA())}function li(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ai,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.billingMethod.errors?null:t.addEditForm.controls.billingMethod.errors.required)||(null==t.addEditForm.controls.billingMethod.errors?null:t.addEditForm.controls.billingMethod.errors.pattern))}}function si(n,l){if(1&n&&(e.TgZ(0,"option",97),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.s9C("value",t.name),e.xp6(1),e.hij(" ",t.name,"")}}function di(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Billing Currency is required. "),e.qZA())}function ci(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,di,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.billingCurrency.errors?null:t.addEditForm.controls.billingCurrency.errors.required)||(null==t.addEditForm.controls.billingCurrency.errors?null:t.addEditForm.controls.billingCurrency.errors.pattern))}}function ui(n,l){if(1&n&&(e.TgZ(0,"option",97),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.s9C("value",t.name),e.xp6(1),e.hij(" ",t.name,"")}}function mi(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Payor Type is required. "),e.qZA())}function gi(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,mi,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.payorType.errors?null:t.addEditForm.controls.payorType.errors.required)||(null==t.addEditForm.controls.payorType.errors?null:t.addEditForm.controls.payorType.errors.pattern))}}function Nt(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * payorDetail is required. "),e.qZA())}function _t(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Nt,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.payorDetail.errors?null:t.addEditForm.controls.payorDetail.errors.required)||(null==t.addEditForm.controls.payorDetail.errors?null:t.addEditForm.controls.payorDetail.errors.pattern))}}function St(n,l){if(1&n&&(e.TgZ(0,"div",29)(1,"label",30),e._uU(2,"*Payor Detail"),e.qZA(),e._UZ(3,"input",151),e.YNc(4,_t,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.addEditForm.controls.payorDetail.errors&&(t.submitted||t.addEditForm.controls.payorDetail.dirty||t.addEditForm.controls.payorDetail.touched))}}function De(n,l){1&n&&(e.TgZ(0,"span",91),e._uU(1," * Preferred Provider is required. "),e.qZA())}function pi(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,De,2,0,"span",90),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.controls.preferredProvider.errors?null:t.addEditForm.controls.preferredProvider.errors.required)||(null==t.addEditForm.controls.preferredProvider.errors?null:t.addEditForm.controls.preferredProvider.errors.pattern))}}function _i(n,l){1&n&&(e.ynx(0),e.TgZ(1,"div",23)(2,"div",24)(3,"span",25),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function fi(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"option",158),e._uU(2),e.qZA(),e.BQk()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("selected","Engagement Letter"==t.label)("value",t.value),e.xp6(1),e.hij(" ",t.label,"")}}function hi(n,l){1&n&&(e.TgZ(0,"div",75)(1,"label",30),e._uU(2,"Other"),e.qZA(),e._UZ(3,"input",159),e.qZA())}const Ai=function(){return{standalone:!0}};function vi(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",152)(2,"label",30),e._uU(3,"Attachment Type"),e.qZA(),e.TgZ(4,"select",153),e.YNc(5,fi,3,3,"ng-container",154),e.qZA()(),e.YNc(6,hi,4,0,"div",155),e.TgZ(7,"div",152)(8,"label",30),e._uU(9,"Attachment"),e.qZA(),e.TgZ(10,"input",156,157),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g.getAttachment(d))}),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",t._attachmentType),e.xp6(1),e.Q6J("ngIf","Other"==t.addEditForm.value.attachmentType),e.xp6(4),e.Q6J("ngModelOptions",e.DdM(3,Ai))}}function xi(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",161),e.NdJ("click",function(){const g=e.CHM(t).index,C=e.oxw(3);return e.KtG(C.removeAttachment(g))}),e._UZ(2,"img",162),e.qZA(),e.TgZ(3,"a",133),e.NdJ("click",function(){const g=e.CHM(t).$implicit,C=e.oxw(3);return e.KtG(C.accessFileURL(g.name))}),e._UZ(4,"img",163),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA()()}if(2&n){const t=l.$implicit;e.xp6(6),e.Oqu(null==t?null:t.name),e.xp6(2),e.Oqu(null==t?null:t.type)}}function yi(n,l){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,xi,9,2,"div",154),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.attachmentArray)}}function Ci(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"form",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"label",30),e._uU(5,"*Client Group"),e.qZA(),e.TgZ(6,"input",31,32),e.NdJ("focus",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.focus2$.next(d.target.value))})("click",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.click2$.next(d.target.value))}),e.qZA(),e.YNc(8,c,2,1,"div",14),e.qZA()(),e.TgZ(9,"div",28)(10,"div",29)(11,"label",30),e._uU(12,"*Client"),e.qZA(),e.TgZ(13,"input",33,34),e.NdJ("focus",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.focus$.next(d.target.value))})("click",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.click$.next(d.target.value))}),e.qZA(),e.YNc(15,H,2,1,"div",14),e.qZA()(),e.TgZ(16,"div",28)(17,"div",29)(18,"label",30),e._uU(19,"*Client SIC Category"),e.qZA(),e.TgZ(20,"input",35,36),e.NdJ("focus",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.focus1$.next(d.target.value))})("click",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.click1$.next(d.target.value))}),e.qZA(),e.YNc(22,Ie,2,1,"div",14),e.qZA()(),e.TgZ(23,"div",28),e.YNc(24,ot,6,4,"div",37),e.qZA(),e.YNc(25,lt,6,1,"div",38),e.YNc(26,ct,6,1,"div",39),e.TgZ(27,"div",28)(28,"div",29)(29,"label",30),e._uU(30,"*Responsible Partner"),e.qZA(),e.TgZ(31,"input",40,41),e.NdJ("focus",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.focusResAtt$.next(d.target.value))})("click",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.clickResAtt$.next(d.target.value))}),e.qZA(),e.YNc(33,ut,2,1,"div",14),e.qZA()(),e.TgZ(34,"div",28)(35,"div",29)(36,"label",30),e._uU(37,"*Billing Manager"),e.qZA(),e.TgZ(38,"input",42,43),e.NdJ("focus",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.focusBillAtt$.next(d.target.value))})("click",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.clickBillAtt$.next(d.target.value))}),e.qZA(),e.YNc(40,zt,2,1,"div",14),e.qZA()(),e.TgZ(41,"div",44)(42,"label",30),e._uU(43,"*Practice Group"),e.qZA(),e.TgZ(44,"input",45,46),e.NdJ("focus",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.focusPracticeGroup$.next(d.target.value))})("click",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.clickPracticeGroup$.next(d.target.value))}),e.qZA(),e.YNc(46,en,2,1,"div",14),e.qZA(),e.TgZ(47,"div",44)(48,"label",30),e._uU(49,"*Area Of Law"),e.qZA(),e.TgZ(50,"input",47,48),e.NdJ("focus",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.focusAreaOfLaw$.next(d.target.value))})("click",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.clickAreaOfLaw$.next(d.target.value))}),e.qZA(),e.YNc(52,nn,2,1,"div",14),e.qZA()(),e.TgZ(53,"div",27)(54,"div",44)(55,"label",30),e._uU(56,"*Agreement Start Date "),e.TgZ(57,"span"),e._uU(58,"(DD-MM-YYYY)"),e.qZA()(),e._UZ(59,"input",49),e.ALo(60,"date"),e.YNc(61,on,2,1,"div",14),e.qZA(),e.TgZ(62,"div",44)(63,"label",30),e._uU(64,"*Agreement Expiration Date "),e.TgZ(65,"span"),e._uU(66,"(DD-MM-YYYY)"),e.qZA()(),e._UZ(67,"input",50),e.ALo(68,"date"),e.YNc(69,ln,2,1,"div",14),e.qZA(),e.TgZ(70,"div",51)(71,"label",30),e._uU(72,"*Reminder Timing"),e.qZA(),e.TgZ(73,"select",52)(74,"option",53),e._uU(75,"Select Reminder Timing"),e.qZA(),e.TgZ(76,"option",54),e._uU(77,"30 Days"),e.qZA(),e.TgZ(78,"option",55),e._uU(79,"60 Days"),e.qZA(),e.TgZ(80,"option",56),e._uU(81,"90 Days"),e.qZA(),e.TgZ(82,"option",57),e._uU(83,"120 Days"),e.qZA()(),e.YNc(84,Ne,2,1,"div",14),e.qZA()(),e._UZ(85,"hr"),e.TgZ(86,"div",27)(87,"h4"),e._uU(88,"Fee Details"),e.qZA(),e.TgZ(89,"div",51)(90,"label",30),e._uU(91,"*Fee Arrangement Type"),e.qZA(),e.TgZ(92,"select",58),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.feeArrangementType(d,""))}),e.TgZ(93,"option",53),e._uU(94,"Select Fee Arrangement Type"),e.qZA(),e.YNc(95,xt,2,2,"option",59),e.qZA(),e.YNc(96,G,2,1,"div",14),e.qZA(),e.YNc(97,yt,8,2,"div",60),e.YNc(98,gn,9,1,"div",61),e.YNc(99,Tt,9,1,"div",62),e.YNc(100,hn,9,1,"div",63),e.YNc(101,xn,9,1,"div",62),e.YNc(102,Ft,17,1,"div",64),e.YNc(103,bn,5,1,"div",65),e.YNc(104,Dn,5,1,"div",66),e.YNc(105,En,5,1,"div",66),e.YNc(106,Zn,17,1,"div",67),e.YNc(107,Mn,5,1,"div",66),e.YNc(108,Se,9,1,"div",67),e.YNc(109,Pn,5,1,"div",61),e.YNc(110,Bn,5,1,"div",65),e.YNc(111,$n,5,1,"div",65),e._UZ(112,"hr"),e.TgZ(113,"div",29)(114,"label",68),e._uU(115,"*Rate Adjustment During Term"),e.qZA(),e._UZ(116,"br"),e.TgZ(117,"div",69)(118,"input",70),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.rateAdjustmentDuringTerm(d,""))}),e.qZA(),e.TgZ(119,"label",71),e._uU(120," Yes "),e.qZA()(),e.TgZ(121,"div",69)(122,"input",72),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.rateAdjustmentDuringTerm(d,""))}),e.qZA(),e.TgZ(123,"label",73),e._uU(124," No "),e.qZA()(),e.YNc(125,Jn,2,1,"div",14),e.qZA(),e.TgZ(126,"div"),e.YNc(127,Fe,4,1,"div",74),e.qZA(),e._UZ(128,"hr"),e.qZA(),e.TgZ(129,"div",27)(130,"h4"),e._uU(131,"Billing Details"),e.qZA(),e.TgZ(132,"div",75)(133,"label",68),e._uU(134,"*Billing Frequency"),e.qZA(),e.TgZ(135,"select",76),e.NdJ("click",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.billingFrequency(d,""))}),e.TgZ(136,"option",77),e._uU(137,"Select Billing Frequency"),e.qZA(),e.YNc(138,ii,2,2,"option",59),e.qZA()(),e.YNc(139,Ot,5,1,"div",78),e.TgZ(140,"div",51)(141,"label",68),e._uU(142,"*Billing Method"),e.qZA(),e._UZ(143,"br"),e.TgZ(144,"select",79),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.billingMethod(d,""))}),e.TgZ(145,"option",53),e._uU(146,"Select Billing Method"),e.qZA(),e.YNc(147,Pt,2,2,"option",59),e.qZA(),e.YNc(148,pt,1,0,"input",80),e.YNc(149,li,2,1,"div",14),e.qZA(),e.TgZ(150,"div",75)(151,"label",68),e._uU(152,"*Billing Currency"),e.qZA(),e.TgZ(153,"select",81)(154,"option",77),e._uU(155," Select Billing Currency"),e.qZA(),e.YNc(156,si,2,2,"option",59),e.qZA(),e.YNc(157,ci,2,1,"div",14),e.qZA(),e.TgZ(158,"div",51)(159,"label",68),e._uU(160,"*Payor Type"),e.qZA(),e._UZ(161,"br"),e.TgZ(162,"select",82),e.NdJ("change",function(d){e.CHM(t);const g=e.oxw();return e.KtG(g.payorType(d))}),e.TgZ(163,"option",53),e._uU(164,"Select Payor Type"),e.qZA(),e.YNc(165,ui,2,2,"option",59),e.qZA(),e.YNc(166,gi,2,1,"div",14),e.qZA(),e.YNc(167,St,5,1,"div",37),e.TgZ(168,"div",29)(169,"label",68),e._uU(170,"*Is Firm a Preferred Provider?"),e.qZA(),e._UZ(171,"br"),e.TgZ(172,"div",69),e._UZ(173,"input",83),e.TgZ(174,"label",71),e._uU(175," Yes "),e.qZA()(),e.TgZ(176,"div",69),e._UZ(177,"input",84),e.TgZ(178,"label",73),e._uU(179," No "),e.qZA()(),e.YNc(180,pi,2,1,"div",14),e.qZA()(),e._UZ(181,"hr"),e.TgZ(182,"h4"),e._uU(183,"Attachments"),e.qZA(),e.YNc(184,_i,5,0,"ng-container",14),e.YNc(185,vi,12,4,"div",85),e.YNc(186,yi,2,1,"div",86),e.TgZ(187,"div",87)(188,"button",88),e.NdJ("click",function(){e.CHM(t);const d=e.oxw(),g=e.MAs(27);return e.KtG(d.open(g))}),e._uU(189,"Review"),e.qZA(),e.TgZ(190,"button",89),e._uU(191,"Cancel"),e.qZA()()()}if(2&n){const t=e.oxw(),s=e.MAs(1),d=e.MAs(3),g=e.MAs(7),C=e.MAs(11),Y=e.MAs(9),K=e.MAs(15),Ge=e.MAs(13);e.Q6J("formGroup",t.addEditForm),e.xp6(6),e.Q6J("ngbTypeahead",t.searchClientGroup)("editable",!1)("resultTemplate",s)("inputFormatter",t.formatClientGrp),e.xp6(2),e.Q6J("ngIf",t.addEditForm.controls.clientGroup.errors&&(t.submitted||t.addEditForm.controls.clientGroup.dirty||t.addEditForm.controls.clientGroup.touched)),e.xp6(5),e.Q6J("ngbTypeahead",t.search)("editable",!1)("resultTemplate",d)("inputFormatter",t.formatter),e.xp6(2),e.Q6J("ngIf",t.addEditForm.controls.client.errors&&(t.submitted||t.addEditForm.controls.client.dirty||t.addEditForm.controls.client.touched)),e.xp6(5),e.Q6J("ngbTypeahead",t.searchSIC)("resultTemplate",g)("inputFormatter",t.formatterSIC),e.xp6(2),e.Q6J("ngIf",t.addEditForm.controls.clientSic.errors&&(t.submitted||t.addEditForm.controls.clientSic.dirty||t.addEditForm.controls.clientSic.touched)),e.xp6(2),e.Q6J("ngIf",!t.isMatterRecord),e.xp6(1),e.Q6J("ngIf",t.isMatterRecord&&!t.editForm),e.xp6(1),e.Q6J("ngIf",t.isMatterRecord),e.xp6(5),e.Q6J("ngbTypeahead",t.searchEmployeeResAtt)("resultTemplate",C)("inputFormatter",t.formatterEmployee),e.xp6(2),e.Q6J("ngIf",t.addEditForm.controls.responsibleAttorney.errors&&(t.submitted||t.addEditForm.controls.responsibleAttorney.dirty||t.addEditForm.controls.responsibleAttorney.touched)),e.xp6(5),e.Q6J("ngbTypeahead",t.searchEmployeeBillAtt)("resultTemplate",Y)("inputFormatter",t.formatterEmployee),e.xp6(2),e.Q6J("ngIf",t.addEditForm.controls.billingAttorney.errors&&(t.submitted||t.addEditForm.controls.billingAttorney.dirty||t.addEditForm.controls.billingAttorney.touched)),e.xp6(4),e.Q6J("ngbTypeahead",t.searchPracticeGroup)("resultTemplate",K)("inputFormatter",t.formatterPracticeGroup),e.xp6(2),e.Q6J("ngIf",t.addEditForm.controls.practiceGroup.errors&&(t.submitted||t.addEditForm.controls.practiceGroup.dirty||t.addEditForm.controls.practiceGroup.touched)),e.xp6(4),e.Q6J("ngbTypeahead",t.searchAreaOfLaw)("resultTemplate",Ge)("inputFormatter",t.formatterAreaOfLaw),e.xp6(2),e.Q6J("ngIf",t.addEditForm.controls.areaOfLaw.errors&&(t.submitted||t.addEditForm.controls.areaOfLaw.dirty||t.addEditForm.controls.areaOfLaw.touched)),e.xp6(7),e.s9C("max",e.xi3(60,72,t.addEditForm.value.expirationDate,"YYY-MM-dd")),e.xp6(2),e.Q6J("ngIf",t.addEditForm.controls.agreementStartDate.errors&&(t.submitted||t.addEditForm.controls.agreementStartDate.dirty||t.addEditForm.controls.agreementStartDate.touched)),e.xp6(6),e.s9C("min",e.xi3(68,75,t.addEditForm.value.agreementStartDate,"YYY-MM-dd")),e.xp6(2),e.Q6J("ngIf",t.addEditForm.controls.expirationDate.errors&&(t.submitted||t.addEditForm.controls.expirationDate.dirty||t.addEditForm.controls.expirationDate.touched)),e.xp6(15),e.Q6J("ngIf",t.addEditForm.controls.reminderTimingDay.errors&&(t.submitted||t.addEditForm.controls.reminderTimingDay.dirty||t.addEditForm.controls.reminderTimingDay.touched)),e.xp6(11),e.Q6J("ngForOf",t._hourlyBilling),e.xp6(1),e.Q6J("ngIf",t.addEditForm.controls.feeArrangementType.errors&&(t.submitted||t.addEditForm.controls.feeArrangementType.dirty||t.addEditForm.controls.feeArrangementType.touched)),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentHourlyBilled||t.isFeeArrangmentFeeCollar||t.isFeeArrangmentCappedFee),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentFeeCollar),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentFeeCollar),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentCappedFee),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentHourlyBilled||t.isFeeArrangmentFeeCollar||t.isFeeArrangmentCappedFee),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentHourlyBilled||t.isFeeArrangmentFeeCollar||t.isFeeArrangmentCappedFee),e.xp6(1),e.Q6J("ngIf",(t.isFeeArrangmentHourlyBilled||t.isFeeArrangmentFeeCollar||t.isFeeArrangmentCappedFee)&&t.discountTypeOther),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentHourlyBilled),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentHourlyBilled),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentFixedFee),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentFixedFee),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentFixedFee),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentFeeCollar),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentFullContingency),e.xp6(1),e.Q6J("ngIf",t.isFeeArrangmentPartialContingency),e.xp6(14),e.Q6J("ngIf",t.addEditForm.controls.rateAdjustmentDuringTerm.errors&&(t.submitted||t.addEditForm.controls.rateAdjustmentDuringTerm.dirty||t.addEditForm.controls.rateAdjustmentDuringTerm.touched)),e.xp6(2),e.Q6J("ngIf",t.isRateAdjustmentDuringTerm),e.xp6(11),e.Q6J("ngForOf",t._billingFrequencies),e.xp6(1),e.Q6J("ngIf",t.isBillingFreOther),e.xp6(8),e.Q6J("ngForOf",t._billingMethods),e.xp6(1),e.Q6J("ngIf",t.isBillingMethodOther),e.xp6(1),e.Q6J("ngIf",t.addEditForm.controls.billingMethod.errors&&(t.submitted||t.addEditForm.controls.billingMethod.dirty||t.addEditForm.controls.billingMethod.touched)),e.xp6(7),e.Q6J("ngForOf",t._billingCurrency),e.xp6(1),e.Q6J("ngIf",t.addEditForm.controls.billingCurrency.errors&&(t.submitted||t.addEditForm.controls.billingCurrency.dirty||t.addEditForm.controls.billingCurrency.touched)),e.xp6(8),e.Q6J("ngForOf",t._payorType),e.xp6(1),e.Q6J("ngIf",t.addEditForm.controls.payorType.errors&&(t.submitted||t.addEditForm.controls.payorType.dirty||t.addEditForm.controls.payorType.touched)),e.xp6(1),e.Q6J("ngIf",t.isPayorTypeOther),e.xp6(13),e.Q6J("ngIf",t.addEditForm.controls.preferredProvider.errors&&(t.submitted||t.addEditForm.controls.preferredProvider.dirty||t.addEditForm.controls.preferredProvider.touched)),e.xp6(4),e.Q6J("ngIf",t.isLoadingAttachment),e.xp6(1),e.Q6J("ngIf",!t.isLoadingAttachment),e.xp6(1),e.Q6J("ngIf",t.attachmentArray.length>0)}}function ft(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Client Name:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",(null==t.addEditForm.value.client?null:t.addEditForm.value.client.name)||t.addEditForm.value.client," ")}}function Bt(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Matter ID:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.matterId||(null==t.addEditForm.value.matter?null:t.addEditForm.value.matter.matterId)," ")}}function Ti(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Matter Name:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.matterName||(null==t.addEditForm.value.matter?null:t.addEditForm.value.matter.name)," ")}}function bi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Client SIC Category:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",(null==t.addEditForm.value.clientSic?null:t.addEditForm.value.clientSic.description)||t.addEditForm.value.clientSic," ")}}function Fi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Responsible Partner:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",(null==t.addEditForm.value.responsibleAttorney?null:t.addEditForm.value.responsibleAttorney.name)||t.addEditForm.value.responsibleAttorney," ")}}function Yt(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Billing Manager:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",(null==t.addEditForm.value.billingAttorney?null:t.addEditForm.value.billingAttorney.name)||t.addEditForm.value.billingAttorney," ")}}function Di(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Area Of Law:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",(null==t.addEditForm.value.areaOfLaw?null:t.addEditForm.value.areaOfLaw.name)||t.addEditForm.value.areaOfLaw," ")}}function ht(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Practice Group:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",(null==t.addEditForm.value.practiceGroup?null:t.addEditForm.value.practiceGroup.name)||t.addEditForm.value.practiceGroup," ")}}function Rt(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Agreement Start Date (MM/DD/YYYY):"),e.qZA(),e._uU(3),e.ALo(4,"date"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.xi3(4,1,t.addEditForm.value.agreementStartDate,"MM/dd/YYYY")," ")}}function $t(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Agreement Expiration Date (MM/DD/YYYY):"),e.qZA(),e._uU(3),e.ALo(4,"date"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.xi3(4,1,t.addEditForm.value.expirationDate,"MM/dd/YYYY")," ")}}function At(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Reminder Timing:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.reminderTimingDay,"\xa0days ")}}function Ei(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Fee Arrangement Type:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.feeArrangementType," ")}}function Zi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Base Rate Type:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.baseRateType," ")}}function wi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Discount(%):"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.discount," ")}}function Ve(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Discount Type:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.discountType," ")}}function qi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Other Discount:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.otherDiscount," ")}}function Mi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Fee Arrangement Detail:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.feeArrangementDetail," ")}}function Ui(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Rate Card Detail:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.rateCardDetails," ")}}function Ii(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Capped Rate Detail:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.cappedRateDetail," ")}}function kt(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Fee Cap Amount($):"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.feeCapAmount," ")}}function Oi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Target Fee($):"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.targetFee," ")}}function Pi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Collar Percentage(%):"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.collarPercentage," ")}}function Ni(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Rate Reminder During Term:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.rateAdjustmentDuringTerm," ")}}function Si(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Adjustment Date (MM/DD/YYYY):"),e.qZA(),e._uU(3),e.ALo(4,"date"),e.qZA()),2&n){const t=e.oxw().index,s=e.oxw(3);let d;e.xp6(3),e.hij(" ",e.xi3(4,1,null==(d=s.getValidity(t,"adjustmentDate"))?null:d.value,"MM/dd/YYYY")," ")}}function Jt(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Adjustment Details:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw().index,s=e.oxw(3);let d;e.xp6(3),e.hij(" ",null==(d=s.getValidity(t,"adjustmentDetails"))?null:d.value," ")}}function Lt(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Adjustment Reminder:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw().index,s=e.oxw(3);let d;e.xp6(3),e.hij(" ",null==(d=s.getValidity(t,"adjustmentReminder"))?null:d.value," ")}}function Bi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Adjustment Reminder Date (MM/DD/YYYY):"),e.qZA(),e._uU(3),e.ALo(4,"date"),e.qZA()),2&n){const t=e.oxw().index,s=e.oxw(3);let d;e.xp6(3),e.hij(" ",e.xi3(4,1,null==(d=s.getValidity(t,"adjustmentReminderDate"))?null:d.value,"MM/dd/YYY")," ")}}function Yi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Adjustment Reminder Date (MM/DD/YYYY):"),e.qZA(),e._uU(3),e.ALo(4,"date"),e.qZA()),2&n){const t=e.oxw().index,s=e.oxw(3);let d;e.xp6(3),e.hij(" ",e.xi3(4,1,null==(d=s.getValidity(t,"expirationReminderDate"))?null:d.value,"MM/dd/YYY")," ")}}function Ri(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Adjustment Reminder Email Recipients:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw().index,s=e.oxw(3);let d;e.xp6(3),e.hij(" ",null==(d=s.getValidity(t,"adjustmentReminderEmailRecipients"))?null:d.value," ")}}function jt(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Adjustment Reminder Email Content:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw().index,s=e.oxw(3);let d;e.xp6(3),e.hij(" ",null==(d=s.getValidity(t,"adjustmentReminderEmailContent"))?null:d.value," ")}}function vt(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Si,5,4,"div",169),e.YNc(2,Jt,4,1,"div",169),e.YNc(3,Lt,4,1,"div",169),e.YNc(4,Bi,5,4,"div",169),e.YNc(5,Yi,5,4,"div",169),e.YNc(6,Ri,4,1,"div",169),e.YNc(7,jt,4,1,"div",169),e.qZA()),2&n){const t=l.index,s=e.oxw(3);let d,g,C,Y,K,Ge,Wt;e.xp6(1),e.Q6J("ngIf",null==(d=s.getValidity(t,"adjustmentDate"))?null:d.value),e.xp6(1),e.Q6J("ngIf",null==(g=s.getValidity(t,"adjustmentDetails"))?null:g.value),e.xp6(1),e.Q6J("ngIf",null==(C=s.getValidity(t,"adjustmentReminder"))?null:C.value),e.xp6(1),e.Q6J("ngIf",null==(Y=s.getValidity(t,"adjustmentReminderDate"))?null:Y.value),e.xp6(1),e.Q6J("ngIf",null==(K=s.getValidity(t,"expirationReminderDate"))?null:K.value),e.xp6(1),e.Q6J("ngIf",null==(Ge=s.getValidity(t,"adjustmentReminderEmailRecipients"))?null:Ge.value),e.xp6(1),e.Q6J("ngIf",null==(Wt=s.getValidity(t,"adjustmentReminderEmailContent"))?null:Wt.value)}}function $i(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,vt,8,7,"div",154),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.getAdjustmentArray().controls)}}function ki(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Full Contingency Detail:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.fullContingencyDetail," ")}}function Ji(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Partial Contingency Detail:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.partialContingencyDetail," ")}}function Li(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Fixed Fee Type:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.fixedFeeType," ")}}function Qt(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Fixed Fee Value($):"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.fixedFeeValue," ")}}function ji(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Fixed Fee Detail:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.fixedFeeDetails," ")}}function Qi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Billing Frequency:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.billingFrequency," ")}}function Vi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Billing Frequency Other:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.billingFrequencyOther," ")}}function Hi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Billing Currency:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.billingCurrency," ")}}function Gi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Billing Method:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.billingMethod," ")}}function Ki(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Payor Type:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.payorType," ")}}function Wi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Payor Details:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.payorDetail," ")}}function zi(n,l){if(1&n&&(e.TgZ(0,"div",168)(1,"label"),e._uU(2,"Preferred Provider:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addEditForm.value.preferredProvider," ")}}function Xi(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",161),e.NdJ("click",function(){const g=e.CHM(t).index,C=e.oxw(2);return e.KtG(C.removeAttachment(g))}),e._UZ(2,"img",162),e.qZA(),e.TgZ(3,"a",133),e.NdJ("click",function(){const g=e.CHM(t).$implicit,C=e.oxw(2);return e.KtG(C.accessFileURL(g.name))}),e._UZ(4,"img",163),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA()()}if(2&n){const t=l.$implicit;e.xp6(6),e.Oqu(null==t?null:t.name),e.xp6(2),e.Oqu(null==t?null:t.type)}}function Ae(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",175),e.NdJ("click",function(){e.CHM(t);const d=e.oxw(2);return e.KtG(d.submitUpdateForm())}),e._uU(1,"Update Client"),e.qZA()}}function Vt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",175),e.NdJ("click",function(){e.CHM(t);const d=e.oxw(2);return e.KtG(d.submitForm())}),e._uU(1,"Add Client"),e.qZA()}}function er(n,l){1&n&&(e.TgZ(0,"div",23)(1,"div",24)(2,"span",25),e._uU(3,"Loading..."),e.qZA()()())}function Ht(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",164)(1,"h4",165),e._uU(2,"Review Client"),e.qZA(),e.TgZ(3,"button",166),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.KtG(g.dismiss())}),e.qZA()(),e.TgZ(4,"div",167)(5,"h4"),e._uU(6,"Client Details"),e.qZA(),e.TgZ(7,"div",168)(8,"label"),e._uU(9,"Client Group:"),e.qZA(),e._uU(10),e.qZA(),e.YNc(11,ft,4,1,"div",169),e.YNc(12,Bt,4,1,"div",169),e.YNc(13,Ti,4,1,"div",169),e.YNc(14,bi,4,1,"div",169),e.YNc(15,Fi,4,1,"div",169),e.YNc(16,Yt,4,1,"div",169),e.YNc(17,Di,4,1,"div",169),e.YNc(18,ht,4,1,"div",169),e.YNc(19,Rt,5,4,"div",169),e.YNc(20,$t,5,4,"div",169),e.YNc(21,At,4,1,"div",169),e._UZ(22,"hr"),e.TgZ(23,"h4"),e._uU(24,"Fee Details"),e.qZA(),e.YNc(25,Ei,4,1,"div",169),e.YNc(26,Zi,4,1,"div",169),e.YNc(27,wi,4,1,"div",169),e.YNc(28,Ve,4,1,"div",169),e.YNc(29,qi,4,1,"div",169),e.YNc(30,Mi,4,1,"div",169),e.YNc(31,Ui,4,1,"div",169),e.YNc(32,Ii,4,1,"div",169),e.YNc(33,kt,4,1,"div",169),e.YNc(34,Oi,4,1,"div",169),e.YNc(35,Pi,4,1,"div",169),e.YNc(36,Ni,4,1,"div",169),e.YNc(37,$i,2,1,"div",14),e.YNc(38,ki,4,1,"div",169),e.YNc(39,Ji,4,1,"div",169),e.YNc(40,Li,4,1,"div",169),e.YNc(41,Qt,4,1,"div",169),e.YNc(42,ji,4,1,"div",169),e._UZ(43,"hr"),e.TgZ(44,"h4"),e._uU(45,"Billing Details"),e.qZA(),e.YNc(46,Qi,4,1,"div",169),e.YNc(47,Vi,4,1,"div",169),e.YNc(48,Hi,4,1,"div",169),e.YNc(49,Gi,4,1,"div",169),e.YNc(50,Ki,4,1,"div",169),e.YNc(51,Wi,4,1,"div",169),e.YNc(52,zi,4,1,"div",169),e._UZ(53,"hr"),e.TgZ(54,"h4"),e._uU(55,"Attachments"),e.qZA(),e.TgZ(56,"div",160),e.YNc(57,Xi,9,2,"div",154),e.qZA()(),e.TgZ(58,"div",170),e.YNc(59,Ae,2,0,"button",171),e.YNc(60,Vt,2,0,"button",172),e.YNc(61,er,4,0,"div",173),e.TgZ(62,"button",174),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.KtG(g.close())}),e._uU(63,"Cancel"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(10),e.hij(" ",(null==t.addEditForm.value.clientGroup?null:t.addEditForm.value.clientGroup.name)||t.addEditForm.value.clientGroup," "),e.xp6(1),e.Q6J("ngIf",null==t.addEditForm.value||null==t.addEditForm.value.client?null:t.addEditForm.value.client.name),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.matterId||(null==t.addEditForm.value.matter?null:t.addEditForm.value.matter.matterId)),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.matterName||(null==t.addEditForm.value.matter?null:t.addEditForm.value.matter.name)),e.xp6(1),e.Q6J("ngIf",(null==t.addEditForm.value.clientSic?null:t.addEditForm.value.clientSic.description)||t.addEditForm.value.clientSic),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.responsibleAttorney),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.billingAttorney),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.areaOfLaw),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.practiceGroup),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.agreementStartDate),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.expirationDate),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.reminderTimingDay),e.xp6(4),e.Q6J("ngIf",t.addEditForm.value.feeArrangementType),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.baseRateType),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.discount),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.discountType),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.otherDiscount),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.feeArrangementDetail),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.rateCardDetails),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.cappedRateDetail),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.feeCapAmount),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.targetFee),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.collarPercentage),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.rateAdjustmentDuringTerm),e.xp6(1),e.Q6J("ngIf","Yes"==t.addEditForm.value.rateAdjustmentDuringTerm||1==t.addEditForm.value.rateAdjustmentDuringTerm),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.fullContingencyDetail),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.partialContingencyDetail),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.fixedFeeType),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.fixedFeeValue),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.fixedFeeDetails),e.xp6(4),e.Q6J("ngIf",t.addEditForm.value.billingFrequency),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.billingFrequencyOther),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.billingCurrency),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.billingMethod),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.payorType),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.payorDetail),e.xp6(1),e.Q6J("ngIf",t.addEditForm.value.preferredProvider),e.xp6(5),e.Q6J("ngForOf",t.attachmentArray),e.xp6(2),e.Q6J("ngIf",t.editForm&&0==t.isLoadingbtn),e.xp6(1),e.Q6J("ngIf",!t.editForm&&0==t.isLoadingbtn),e.xp6(1),e.Q6J("ngIf",1==t.isLoadingbtn)}}const tr={adjustmentDate:["",[A.kI.required]],adjustmentDetails:["",[A.kI.required]],adjustmentReminder:["",[A.kI.required]],expirationReminderDate:["",[]],adjustmentReminderDate:["",[]],adjustmentReminderEmailRecipient:"",adjustmentReminderEmailContent:["",[]]};let Gt=(()=>{class n{constructor(t,s,d,g,C,Y,K,Ge,Wt,vr,xr,yr,Cr,Tr,br,Fr){this.route=t,this.cdr=s,this.router=d,this.fb=g,this.rolesServie=C,this.agreementService=Y,this.attachmentTypeService=K,this.baseRateService=Ge,this.billingFrequencyService=Wt,this.billingMethodService=vr,this.billingcurrencyService=xr,this.hourlyBillingService=yr,this.payorTypeService=Cr,this.sicCodeService=Tr,this.staffsService=br,this.modalService=Fr,this.roles=[],this.editForm=!1,this.isLoading=!1,this.isLoadingbtn=!1,this.isLoadingAttachment=!1,this.editData=[],this.submitted=!1,this.isBillingFreOther=!1,this.isFeeArrangmentHourlyBilled=!1,this.isFeeArrangmentFixedFee=!1,this.isFeeArrangmentCappedFee=!1,this.isFeeArrangmentFullContingency=!1,this.isFeeArrangmentPartialContingency=!1,this.isFeeArrangmentFeeCollar=!1,this.isRateAdjustmentDuringTerm=!1,this.isRateAdjustmentDuringTermReminder=!1,this.isBillingMethodOther=!1,this.isPayorTypeOther=!1,this.clients=[],this.clientLoading=!1,this.clientSearchFailed=!1,this._hourlyBilling=[],this._baseRate=[],this._billingMethods=[],this._billingCurrency=[],this._billingFrequencies=[],this._attachmentType=[],this._payorType=[],this.focus$=new u.x,this.click$=new u.x,this.focus1$=new u.x,this.click1$=new u.x,this.focus2$=new u.x,this.click2$=new u.x,this.focusResAtt$=new u.x,this.clickResAtt$=new u.x,this.focusBillAtt$=new u.x,this.focusAreaOfLaw$=new u.x,this.clickBillAtt$=new u.x,this.focusMatter$=new u.x,this.focusPracticeGroup$=new u.x,this.clickMatter$=new u.x,this.clickPracticeGroup$=new u.x,this.clickAreaOfLaw$=new u.x,this.adjustmentArray=[],this._state={page:1,limit:10,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"desc"},this._dropdown={page:1,limit:10,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"asc"},this._sic={page:1,limit:10,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"asc"},this._matter={page:1,limit:10,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"asc"},this._employee={page:1,limit:10,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"asc"},this._areaOfLaw={page:1,limit:20,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"asc"},this._practiceGroup={page:1,limit:20,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"asc"},this.matterRecord=[],this.isMatterRecord=!1,this.attachmentArray=[],this.formatter=b=>this.format(b),this.formatterMatter=b=>this.formatMatter(b),this.formatClientGrp=b=>{if(b)return this.formatClientGroup(b)},this.formatterEmployee=b=>this.formatEmployee(b),this.formatterBillingAttorney=b=>this.formatBillingAttorney(b),this.formatterAreaOfLaw=b=>this.formatAreaOfLaw(b),this.formatterPracticeGroup=b=>this.formatPracticeGroup(b),this.formatterSIC=b=>this.formatSIC(b),this.searchEmployeeResAtt=b=>b.pipe((0,x.b)(300),(0,m.x)(),(0,S.T)(this.focusResAtt$),(0,S.T)(this.clickResAtt$.pipe((0,ee.h)(()=>!this.instanceResAtt.isPopupOpen()))),(0,Q.w)(w=>(this._employee.searchTerm=w,this.staffsService.getStaffs(this._employee).pipe((0,$.U)(M=>M.results),(0,te.K)(()=>(0,j.of)([]))))),(0,U.b)(()=>this.clientLoading=!1)),this.searchEmployeeBillAtt=b=>b.pipe((0,x.b)(300),(0,m.x)(),(0,S.T)(this.focusBillAtt$),(0,S.T)(this.clickBillAtt$.pipe((0,ee.h)(()=>!this.instanceBillAtt.isPopupOpen()))),(0,Q.w)(w=>(this._employee.searchTerm=w,this.staffsService.getStaffs(this._employee).pipe((0,$.U)(M=>M.results),(0,te.K)(()=>(0,j.of)([]))))),(0,U.b)(()=>this.clientLoading=!1)),this.searchAreaOfLaw=b=>b.pipe((0,x.b)(300),(0,m.x)(),(0,S.T)(this.focusAreaOfLaw$),(0,S.T)(this.clickAreaOfLaw$.pipe((0,ee.h)(()=>!this.instanceAreaOfLaw.isPopupOpen()))),(0,Q.w)(w=>(this._areaOfLaw.searchTerm=w,this.agreementService.getPracticeGroupById(this._areaOfLaw,this.addEditForm.value.practiceGroup.id).pipe((0,$.U)(M=>M.areaOfLawId),(0,te.K)(()=>(0,j.of)([]))))),(0,U.b)(()=>this.clientLoading=!1)),this.searchPracticeGroup=b=>b.pipe((0,x.b)(300),(0,m.x)(),(0,S.T)(this.focusPracticeGroup$),(0,S.T)(this.clickPracticeGroup$.pipe((0,ee.h)(()=>!this.instancePracticeGroup.isPopupOpen()))),(0,Q.w)(w=>(this._practiceGroup.searchTerm=w,this.agreementService.getPracticeGroup(this._practiceGroup).pipe((0,$.U)(M=>M.results),(0,te.K)(()=>(0,j.of)([]))))),(0,U.b)(()=>this.clientLoading=!1)),this.searchSIC=b=>b.pipe((0,x.b)(300),(0,m.x)(),(0,S.T)(this.focus1$),(0,S.T)(this.click1$.pipe((0,ee.h)(()=>!this.instance1.isPopupOpen()))),(0,Q.w)(w=>(this._sic.searchTerm=w,this.sicCodeService.getSICCodes(this._sic).pipe((0,$.U)(M=>M.results),(0,te.K)(()=>(0,j.of)([]))))),(0,U.b)(()=>this.clientLoading=!1)),this.searchMatterRecords=b=>b.pipe((0,x.b)(500),(0,m.x)(),(0,S.T)(this.focusMatter$),(0,S.T)(this.clickMatter$.pipe((0,ee.h)(()=>!this.instanceMatter.isPopupOpen()))),(0,Q.w)(w=>(this._matter.searchTerm=w,this.agreementService.getMatters(this._matter,this.addEditForm.value.client.clientId||"").pipe((0,$.U)(de=>(console.log(de.results),de.results)),(0,te.K)(()=>(0,j.of)([]))))),(0,U.b)(()=>this.clientLoading=!1)),this.searchResponsibleAttorney=b=>b.pipe((0,x.b)(300),(0,m.x)(),(0,Q.w)(w=>(this._matter.searchTerm=w,console.log(this.addEditForm.controls.matter.value?.responsibleAttorney),this.agreementService.getTimeKeepers(this.addEditForm.controls.matter.value?.responsibleAttorney||"").pipe((0,$.U)(de=>de),(0,te.K)(()=>(0,j.of)([]))))),(0,U.b)(()=>this.clientLoading=!1)),this.searchBillingAttorney=b=>b.pipe((0,x.b)(300),(0,m.x)(),(0,Q.w)(w=>(this._matter.searchTerm=w,console.log(this.addEditForm.controls.matter.value?.billingAttorney),this.agreementService.getTimeKeepers(this.addEditForm.controls.matter.value?.billingAttorney||"").pipe((0,$.U)(de=>de),(0,te.K)(()=>(0,j.of)([]))))),(0,U.b)(()=>this.clientLoading=!1)),this.search=b=>b.pipe((0,x.b)(300),(0,m.x)(),(0,S.T)(this.focus$),(0,S.T)(this.click$.pipe((0,ee.h)(()=>!this.instance.isPopupOpen()))),(0,U.b)(()=>this.clientLoading=!0),(0,Q.w)(w=>{this._state.searchTerm=w;const M=this.addEditForm?.value?.clientGroup?.groupId;return this.agreementService.getClientByGroup(this._state,M).pipe((0,U.b)(()=>this.clientSearchFailed=!1),(0,$.U)(de=>(console.log(de),de)),(0,te.K)(()=>(this.clientSearchFailed=!0,(0,j.of)([]))))}),(0,U.b)(()=>this.clientLoading=!1)),this.searchClientGroup=b=>b.pipe((0,x.b)(300),(0,m.x)(),(0,S.T)(this.focus2$),(0,S.T)(this.click2$.pipe((0,ee.h)(()=>!this.instance2.isPopupOpen()))),(0,U.b)(()=>this.clientLoading=!0),(0,Q.w)(w=>(this._state.searchTerm=w,this.agreementService.getClientGroup(this._state).pipe((0,U.b)(()=>this.clientSearchFailed=!1),(0,$.U)(M=>M.results),(0,te.K)(()=>(this.clientSearchFailed=!0,(0,j.of)([])))))),(0,U.b)(()=>this.clientLoading=!1)),this.addEditForm=this.fb.group({clientGroup:["",[A.kI.required]],client:["",[A.kI.required]],matter:["",[A.kI.required]],matterId:["",[]],matterName:["",[]],clientSic:["",[A.kI.required]],responsibleAttorney:["",[A.kI.required]],billingAttorney:["",[A.kI.required]],areaOfLaw:["",[A.kI.required]],practiceGroup:["",[A.kI.required]],agreementStartDate:["",[A.kI.required]],expirationDate:["",[A.kI.required]],reminderTimingDay:[""],feeArrangementType:["",[A.kI.required]],fixedFeeType:["",[]],fixedFeeValue:["",[]],fixedFeeDetails:["",[]],baseRateType:["",[]],discount:["",[]],discountType:["",[]],otherDiscount:["",[]],feeArrangementDetail:["",[]],rateCardDetails:["",[]],cappedRateDetail:["",[]],targetFee:["",[]],collarPercentage:["",[]],feeCapAmount:["",[]],rateAdjustmentDuringTerm:[null,[A.kI.required]],fullContingencyDetail:["",[]],partialContingencyDetail:[""],cappedFeeDetails:["",[]],feeCollarDetail:["",[]],billingFrequency:["",[A.kI.required]],billingFrequencyOther:["",[]],billingCurrency:["",[A.kI.required]],billingMethod:["",[A.kI.required]],payorType:["",[A.kI.required]],payorDetail:["",[]],preferredProvider:["",[A.kI.required]],attachmentType:["Engagement Letter"],attachmentTypeOther:[""],adjustmentArray:this.fb.array([])});const gr=["baseRateType","discount","discountType"],pr=["fixedFeeType","fixedFeeValue"],_r=["baseRateType","feeCapAmount","discount","discountType"],fr=["fullContingencyDetail"],hr=["partialContingencyDetail"],Ar=[];this.addEditForm.get("feeArrangementType").valueChanges.subscribe(b=>{let w=[];switch(b){case"Hourly Billed":this.addValidation(gr),w=gr;break;case"Fixed Fee":this.addValidation(pr),w=pr;break;case"Capped Fee":this.addValidation(_r),w=_r;break;case"Full Contingency":this.addValidation(fr),w=fr;break;case"Partial Contingency":this.addValidation(hr),w=hr;break;case"Fee Collar":this.addValidation(Ar),w=Ar}let M=[...Ar,...gr,...pr,..._r,...fr,...hr];const de=M.filter(Dr=>!w.includes(Dr));this.removeValidation(de),this.updateValues(M)}),this.addEditForm.get("rateAdjustmentDuringTerm").valueChanges.subscribe(b=>{"Yes"===b?this.addAdjustmentRow():this.getAdjustmentArray().controls.forEach((w,M)=>{this.removeAdjustmentRow(M)})}),this.route.params.subscribe(b=>{""!==b.agreementId&&null!=b.agreementId&&(this.agreementId=b.agreementId,this.editForm=!0,this.getAgreement(this.agreementId))}),this.viewAgreementLink=`view-agreement/${this.agreementId}`}addValidation(t){t.forEach(s=>{this.addEditForm.get(s).setValidators(A.kI.required),this.addEditForm.get(s).markAsUntouched()})}removeValidation(t){t.forEach(s=>{this.addEditForm.get(s).clearValidators()})}updateValues(t){t.forEach(s=>{this.addEditForm.get(s).updateValueAndValidity()})}getAdjustmentArray(){return this.addEditForm.get("adjustmentArray")}getValidity(t,s){const d=this.addEditForm.get("adjustmentArray").controls[t];return d&&d.controls[s]}newAdjustmentArray(){const t=this.fb.group(tr),s=["adjustmentReminderDate","expirationReminderDate","adjustmentReminderEmailContent"];return t.get("adjustmentReminder").valueChanges.subscribe(d=>{s.forEach("Yes"===d?g=>{t.get(g).setValidators(A.kI.required),t.get(g).markAsUntouched()}:g=>{t.get(g).clearValidators()}),s.forEach(g=>{t.get(g).updateValueAndValidity()})}),t}addAdjustmentRow(){this.getAdjustmentArray(),this.getAdjustmentArray().push(this.newAdjustmentArray())}removeAdjustmentRow(t){this.getAdjustmentArray().removeAt(t)}initAttachment(){return this.fb.group({attachmentType:this.fb.control(["Engagement Letter",[A.kI.required]]),otherAttachmentType:this.fb.control([""]),attachmentFile:this.fb.control(["",[A.kI.required]]),trackingId:this.generateUniqueId()})}addGroup(){this.addEditForm.controls.attachment.push(this.initAttachment())}removeGroup(t){this.addEditForm.controls.attachment.removeAt(t)}ngOnInit(){this.getAllDropDown()}getAllDropDown(){this.attachmentTypeService.getAttachmentTypes(this._dropdown).subscribe(t=>{t?.results.map(s=>{this._attachmentType.push({value:s.name,label:s.name})})},t=>{}),this.baseRateService.getBaseRates(this._dropdown).subscribe(t=>{this._baseRate=t.results},t=>{}),this.billingFrequencyService.getBillingFrequencies(this._dropdown).subscribe(t=>{this._billingFrequencies=t.results},t=>{}),this.billingMethodService.getBillingMethods(this._dropdown).subscribe(t=>{this._billingMethods=t.results},t=>{}),this.billingcurrencyService.getBillingcurrencys(this._dropdown).subscribe(t=>{this._billingCurrency=t.results},t=>{}),this.hourlyBillingService.getHourlyBillings(this._dropdown).subscribe(t=>{this._hourlyBilling=t.results},t=>{}),this.payorTypeService.getPayorTypes(this._dropdown).subscribe(t=>{this._payorType=t.results},t=>{})}submitForm(){console.log(this.addEditForm.valid),this.processAgreementsObj(),this.isLoadingbtn=!0,this.agreementService.addNewAgreement(this.aggreementDataObject).subscribe(t=>{t&&(this.addEditForm.reset(),this.attachmentArray=[],this.modalReference.close(),V().fire({icon:"success",title:"Record Created",showConfirmButton:!1,timer:1500})),this.isLoadingbtn=!1,this.router.navigate(["/dashboard/search"])},t=>{this.isLoadingbtn=!1,V().fire({icon:"error",title:t.message,showConfirmButton:!1,timer:1500})})}processAgreementsObj(){if(this.aggreementDataObject={clientGroupId:this.addEditForm.value.clientGroup.groupId,clientGroupName:this.addEditForm.value.clientGroup.name,client:this.addEditForm.value.client.id,clientId:this.addEditForm.value.client.clientId,clientName:this.addEditForm.value.client.name,matterId:this.addEditForm.value.matterId||this.addEditForm.value.matter.matterId,matterName:this.addEditForm.value.matterName||this.addEditForm.value.matter.name,clientSicId:this.addEditForm.value.clientSic.id,clientSicName:this.addEditForm.value.clientSic.description,principalAttorneyId:this.addEditForm.value.responsibleAttorney.id,principalAttorneyName:this.addEditForm.value.responsibleAttorney.name,responsibleBillingManagerId:this.addEditForm.value.billingAttorney.id,responsibleBillingManagerName:this.addEditForm.value.billingAttorney.name,areaOfLawId:this.addEditForm.value.areaOfLaw.id,areaOfLawName:this.addEditForm.value.areaOfLaw.name,practiceGroupId:this.addEditForm.value.practiceGroup.id,practiceGroupName:this.addEditForm.value.practiceGroup.name,startDate:this.addEditForm.value.agreementStartDate,expirationDate:this.addEditForm.value.expirationDate,feeArrangementDetails_reminderTimingDay:this.addEditForm.value.reminderTimingDay,feeArrangementType:this.addEditForm.value.feeArrangementType,feeArrangementDetails_fixedFeeType:this.addEditForm.value.fixedFeeType,feeArrangementDetails_fixedFeeValue:this.addEditForm.value.fixedFeeValue,feeArrangementDetails_fixedFeeDetail:this.addEditForm.value.fixedFeeDetails||"",feeArrangementDetails_baseRateType:this.addEditForm.value.baseRateType||"",feeArrangementDetails_discount:this.addEditForm.value.discount||"",feeArrangementDetails_discountDetail:this.addEditForm.value.discountType||"",feeArrangementDetails_discountDetailDescription:this.addEditForm.value.otherDiscount||"",feeArrangementDetails_rateCardDetail:this.addEditForm.value.rateCardDetails||"",feeArrangementDetails_cappedRateDetail:this.addEditForm.value.cappedRateDetail||"",feeArrangementDetails_feeCapAmount:this.addEditForm.value.feeCapAmount||"",feeArrangementDetails_targetFee:this.addEditForm.value.targetFee||"",feeArrangementDetails_cappedFeeDetail:this.addEditForm.value.cappedFeeDetails||"",feeArrangementDetails_feeCollarDetail:this.addEditForm.value.feeCollarDetail||"",feeArrangementDetails_collarPercentage:this.addEditForm.value.collarPercentage||"",feeArrangementDetails_rateAdjustmentDuringTerm:"Yes"==this.addEditForm.value.rateAdjustmentDuringTerm,feeArrangementDetails_adjustment:this.addEditForm.value.adjustmentArray.map(d=>{let g={};return"Yes"===d.adjustmentReminder&&(g={reminderDate:d.adjustmentReminderDate,expirationDate:d.expirationReminderDate,reminderEmailRecipient:d.adjustmentReminderEmailRecipient,reminderEmailContent:d.adjustmentReminderEmailContent}),{adjustmentDate:d.adjustmentDate,adjustmentDetails:d.adjustmentDetails,reminder:"Yes"===d.adjustmentReminder,...g}}),feeArrangementDetails_fullContingencyDetail:this.addEditForm.value.fullContingencyDetail||"",feeArrangementDetails_partialContingencyDetail:this.addEditForm.value.partialContingencyDetail||"",billingFrequency:this.addEditForm.value.billingFrequency,billingFrequencyDetails:this.addEditForm.value.billingFrequencyOther,billingCurrency:this.addEditForm.value.billingCurrency,billingMethod:this.addEditForm.value.billingMethod,billingMethodDetails:this.addEditForm.value.billingMethodOther||"",payorType:this.addEditForm.value.payorType,payorDetail:this.addEditForm.value.payorDetail,preferredProvider:"Yes"==this.addEditForm.value.preferredProvider,attachments:this.attachmentArray,updateDetails:[]},this.editForm){let C=this.findModifiedProperties(this.agreementData,this.aggreementDataObject);this.aggreementDataObject.updateDetails=C,console.log(C,"----------")}else{for(var t in this.aggreementDataObject)if(this.aggreementDataObject.hasOwnProperty(t)){var s=this.aggreementDataObject[t];(null==s||""===s)&&(delete this.aggreementDataObject[t],delete this.addEditForm.value[t])}delete this.aggreementDataObject.updateDetails}}submitUpdateForm(){this.processAgreementsObj(),this.isLoadingbtn=!0,this.agreementService.updateAgreement(this.agreementId,this.aggreementDataObject).subscribe(t=>{t&&(this.modalReference.close(),V().fire({icon:"success",title:"Record Updated!",showConfirmButton:!1,timer:1500})),this.addEditForm.reset(),this.attachmentArray=[],this.isLoadingbtn=!1,this.router.navigate(["/dashboard/search"])},t=>{this.isLoadingbtn=!1,V().fire({icon:"error",title:t.message,showConfirmButton:!1,timer:1500})})}getAgreement(t){this.isLoading=!0,this.agreementService.getAgreementById(t).subscribe(s=>{this.agreementData=s,this.agreementData.feeArrangementDetails_adjustment=this.agreementData.feeArrangementDetails_adjustment?.map(g=>({adjustmentDate:this.getDateFormat(g.adjustmentDate),adjustmentDetails:g.adjustmentDetails,adjustmentReminder:g.reminder?"Yes":"No",expirationReminderDate:g.expirationDate,adjustmentReminderDate:this.getDateFormat(g.reminderDate),adjustmentReminderEmailRecipient:g.reminderEmailRecipients,adjustmentReminderEmailContent:g.reminderEmailContent}));const d={clientGroup:`${this.agreementData.clientGroupId} - ${this.agreementData.clientGroupName}`,client:`${this.agreementData.clientId} - ${this.agreementData.clientName}`,matter:`${this.agreementData.matterId} - ${this.agreementData.matterName}`,matterId:this.agreementData.matterId,matterName:this.agreementData.matterName,clientSic:this.agreementData.clientSicName,responsibleAttorney:this.agreementData.principalAttorneyName,billingAttorney:this.agreementData.responsibleBillingManagerName,areaOfLaw:this.agreementData.areaOfLawName,practiceGroup:this.agreementData.practiceGroupName,agreementStartDate:this.getDateFormat(this.agreementData.startDate),expirationDate:this.getDateFormat(this.agreementData.expirationDate),reminderTimingDay:this.agreementData.feeArrangementDetails_reminderTimingDay,feeArrangementType:this.agreementData.feeArrangementType,fixedFeeType:this.agreementData.feeArrangementDetails_fixedFeeType,fixedFeeValue:this.agreementData.feeArrangementDetails_fixedFeeValue,fixedFeeDetails:this.agreementData.feeArrangementDetails_fixedFeeDetail,baseRateType:this.agreementData.feeArrangementDetails_baseRateType,discount:this.agreementData.feeArrangementDetails_discount,discountType:this.agreementData.feeArrangementDetails_discountDetail,otherDiscount:this.agreementData.feeArrangementDetails_discountDetailDescription,rateCardDetails:this.agreementData.feeArrangementDetails_rateCardDetail,cappedRateDetail:this.agreementData.feeArrangementDetails_cappedRateDetail,targetFee:this.agreementData.feeArrangementDetails_targetFee,collarPercentage:this.agreementData.feeArrangementDetails_collarPercentage,feeCapAmount:this.agreementData.feeArrangementDetails_feeCapAmount,rateAdjustmentDuringTerm:this.agreementData.feeArrangementDetails_rateAdjustmentDuringTerm?"Yes":"No",adjustmentArray:this.agreementData.feeArrangementDetails_adjustment,fullContingencyDetail:this.agreementData.feeArrangementDetails_fullContingencyDetail,partialContingencyDetail:this.agreementData.feeArrangementDetails_partialContingencyDetail,cappedFeeDetails:this.agreementData.feeArrangementDetails_cappedFeeDetail,feeCollarDetail:this.agreementData.feeArrangementDetails_feeCollarDetail,billingFrequency:this.agreementData.billingFrequency,billingFrequencyOther:this.agreementData.billingFrequencyDetails,billingCurrency:this.agreementData.billingCurrency,billingMethod:this.agreementData.billingMethod,payorType:this.agreementData.payorType,payorDetail:this.agreementData.payorDetail,preferredProvider:this.agreementData.preferredProvider?"Yes":"No",attachments:this.agreementData.attachments};this.agreementData.startDate=this.getDateFormat(this.agreementData.startDate),this.agreementData.expirationDate=this.getDateFormat(this.agreementData.expirationDate),this.agreementData.feeArrangementDetails_adjustmentDate=this.getDateFormat(this.agreementData.feeArrangementDetails_adjustmentDate),this.agreementData.feeArrangementDetails_reminderDate=this.getDateFormat(this.agreementData.feeArrangementDetails_reminderDate),this.attachmentArray=this.agreementData.attachments,this.feeArrangementType(event,d.feeArrangementType),this.rateAdjustmentDuringTerm(event,d.rateAdjustmentDuringTerm),this.addEditForm.patchValue(d),this.discountType(event,d.discountType),this.billingFrequency(event,d.billingFrequency),this.billingMethod(event,d.billingMethod),this.isLoading=!1,this.cdr.detectChanges()},s=>{this.isLoading=!1,this.router.navigate(["/dashboard/search"])})}billingFrequency(t,s){"Other"==t.target.value||"Other"==s?this.isBillingFreOther=!0:(this.isBillingFreOther=!1,this.addEditForm.patchValue({billingFrequencyOther:""}))}getResponsibleAttorney(t){this.agreementService.getTimeKeepers(t).subscribe(s=>{console.log(s),this.addEditForm.patchValue({responsibleAttorney:s[0].displayName}),this.cdr.detectChanges()})}getBillingAttorney(t){this.agreementService.getTimeKeepers(t).subscribe(s=>{console.log(s),this.addEditForm.patchValue({billingAttorney:s[0].displayName}),this.cdr.detectChanges()})}getMatterRecord(t){this.addEditForm.patchValue({matter:""}),this.addEditForm.patchValue({billingAttorneyId:""}),this.addEditForm.patchValue({responsibleAttorney:""}),this.agreementService.getMatters(this._matter,t).subscribe(s=>{})}displayMatter(t){t?this.addEditForm.patchValue({matter:""}):(this.addEditForm.patchValue({matterName:""}),this.addEditForm.patchValue({matterId:""})),this.isMatterRecord=t}format(t){return"string"==typeof t?t:"object"==typeof t?t?`${t.clientId} - ${t.name}`:"":void 0}formatClientGroup(t){return"string"==typeof t?t:"object"==typeof t?t?`${t.groupId} - ${t.name}`:"":void 0}formatMatter(t){return"string"==typeof t?t:"object"==typeof t?t?`${t.matterId} - ${t.name}`:"":void 0}formatEmployee(t){return"string"==typeof t?t:"object"==typeof t?t?`${t.name} - ${t.email}`:"":void 0}formatBillingAttorney(t){return console.log(t),"string"==typeof t?t:"object"==typeof t?t?`${t.name} - ${t.email}`:"":void 0}formatAreaOfLaw(t){return console.log(t),"string"==typeof t?t:"object"==typeof t?t?`${t.aol_code} - ${t.name}`:"":void 0}formatPracticeGroup(t){return console.log(t),"string"==typeof t?t:"object"==typeof t?t?`${t.name}`:"":void 0}formatSIC(t){return"string"==typeof t?t:"object"==typeof t?t?`${t.code} - ${t.description}`:"":void 0}feeArrangementType(t,s){return this.resetFeeDetailsForm(),"Hourly Billed"==t.target.value||"Hourly Billed"==s?(this.isFeeArrangmentHourlyBilled=!0,this.isFeeArrangmentFixedFee=!1,this.isFeeArrangmentCappedFee=!1,this.isFeeArrangmentFullContingency=!1,this.isFeeArrangmentPartialContingency=!1,this.isFeeArrangmentFeeCollar=!1,this.discountTypeOther=!1):"Fixed Fee"==t.target.value||"Fixed Fee"==s?(this.isFeeArrangmentFixedFee=!0,this.isFeeArrangmentHourlyBilled=!1,this.isFeeArrangmentCappedFee=!1,this.isFeeArrangmentFullContingency=!1,this.isFeeArrangmentPartialContingency=!1,this.isFeeArrangmentFeeCollar=!1,this.isRateAdjustmentDuringTerm=!1,this.isRateAdjustmentDuringTermReminder=!1):"Capped Fee"==t.target.value||"Capped Fee"==s?(this.isFeeArrangmentCappedFee=!0,this.isFeeArrangmentHourlyBilled=!1,this.isFeeArrangmentFixedFee=!1,this.isFeeArrangmentFullContingency=!1,this.isFeeArrangmentPartialContingency=!1,this.isFeeArrangmentFeeCollar=!1,this.discountTypeOther=!1):"Full Contingency"==t.target.value||"Full Contingency"==s?(this.isFeeArrangmentFullContingency=!0,this.isFeeArrangmentHourlyBilled=!1,this.isFeeArrangmentFixedFee=!1,this.isFeeArrangmentCappedFee=!1,this.isFeeArrangmentPartialContingency=!1,this.isFeeArrangmentFeeCollar=!1,this.isRateAdjustmentDuringTerm=!1,this.isRateAdjustmentDuringTermReminder=!1):"Partial Contingency"==t.target.value||"Partial Contingency"==s?(this.isFeeArrangmentPartialContingency=!0,this.isFeeArrangmentHourlyBilled=!1,this.isFeeArrangmentFixedFee=!1,this.isFeeArrangmentCappedFee=!1,this.isFeeArrangmentFullContingency=!1,this.isFeeArrangmentFeeCollar=!1,this.isRateAdjustmentDuringTerm=!1,this.isRateAdjustmentDuringTermReminder=!1):("Fee Collar"==t.target.value||"Fee Collar"==s)&&(this.isFeeArrangmentFeeCollar=!0,this.isFeeArrangmentHourlyBilled=!1,this.isFeeArrangmentFixedFee=!1,this.isFeeArrangmentCappedFee=!1,this.isFeeArrangmentFullContingency=!1,this.isFeeArrangmentPartialContingency=!1,this.discountTypeOther=!1),!0}discountType(t,s){"Other"==t.target.value||"Other"==s?this.discountTypeOther=!0:(this.discountTypeOther=!1,this.addEditForm.patchValue({otherDiscount:""}))}rateAdjustmentDuringTerm(t,s){"Yes"==t.target.value||"Yes"==s?this.isRateAdjustmentDuringTerm=!0:(this.isRateAdjustmentDuringTerm=!1,this.isRateAdjustmentDuringTermReminder=!1),this.addEditForm.patchValue({adjustmentReminder:"",adjustmentDate:"",adjustmentDetails:"",adjustmentReminderDate:"",expirationReminderDate:"",adjustmentReminderEmailRecipients:"",adjustmentReminderEmailContent:""})}rateAdjustmentDuringTermReminder(t,s){this.addEditForm.patchValue({adjustmentReminderDate:"",expirationReminderDate:"",adjustmentReminderEmailRecipients:"",adjustmentReminderEmailContent:""}),this.isRateAdjustmentDuringTermReminder="Yes"==t.target.value||"Yes"==s}billingMethod(t,s){this.isBillingMethodOther="Other"==t.target.value||"Other"==s}payorType(t){this.addEditForm.patchValue({payorDetail:""}),this.isPayorTypeOther="Other"==t.target.value}resetFeeDetailsForm(){this.addEditForm.patchValue({discount:"",discountType:"",otherDiscount:"",baseRateType:"",rateCardDetails:"",cappedRateDetail:"",targetFee:"",collarPercentage:"",rateAdjustmentDuringTerm:"",adjustmentArray:[],fullContingencyDetail:"",fixedFeeDetails:""}),this.isRateAdjustmentDuringTerm=!1,this.isRateAdjustmentDuringTermReminder=!1}generateUniqueId(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}trackByFn(t,s){return s.trackingId}open(t){console.log(this.addEditForm.valid,this.addEditForm,"test========================="),this.addEditForm.valid?this.modalReference=this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg"}):this.addEditForm.markAllAsTouched()}getAttachment(t){this.isLoadingAttachment=!0;let s="Other"!=this.addEditForm.value.attachmentType?this.addEditForm.value.attachmentType:this.addEditForm.value.attachmentTypeOther;var d=new FormData;d.append("file",t.target.files[0]),this.agreementService.saveAttachment(d).subscribe(g=>{this.attachmentArray.push({type:s,name:g?.key,file:g?.location}),console.log(this.attachmentArray),this.resetAttachmentForm(),this.isLoadingAttachment=!1},g=>{this.isLoadingAttachment=!1}),this.input.nativeElement.value=""}removeAttachment(t){this.attachmentArray.length>0&&this.attachmentArray.splice(t,1)}resetAttachmentForm(){this.addEditForm.patchValue({attachmentType:"",attachmentTypeOther:""})}accessFileURL(t){this.agreementService.getFileURL({key:t}).subscribe(d=>{window.open(d.file,"_blank")})}getDateFormat(t){if(t){const s=new Date(t);return s.getFullYear()+"-"+(s.getMonth()+1).toString().padStart(2,"0")+"-"+s.getDate().toString().padStart(2,"0")}return null}findModifiedProperties(t,s){let d=[];for(let g in s)t.hasOwnProperty(g)&&t[g]!==s[g]&&void 0!==s[g]&&d.push({key:g,before:t[g],after:s[g]});return d}back(){this.router.navigate(["/dashboard/search/view-agreement/"+this.agreementId])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.gz),e.Y36(e.sBO),e.Y36(i.F0),e.Y36(A.qu),e.Y36(ze.N),e.Y36(W.f),e.Y36(J.n),e.Y36(Ce.M),e.Y36(we.w),e.Y36(qe.p),e.Y36(D.O),e.Y36(X.H),e.Y36(ne.W),e.Y36(me.S),e.Y36(O.x),e.Y36(I.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-edit-agreement"]],viewQuery:function(t,s){if(1&t&&(e.Gf(B,5),e.Gf(ie,5),e.Gf(ie,5),e.Gf(ie,5),e.Gf(ie,5),e.Gf(ie,5),e.Gf(ie,5),e.Gf(ie,5),e.Gf(ie,5)),2&t){let d;e.iGM(d=e.CRH())&&(s.input=d.first),e.iGM(d=e.CRH())&&(s.instance=d.first),e.iGM(d=e.CRH())&&(s.instance1=d.first),e.iGM(d=e.CRH())&&(s.instance2=d.first),e.iGM(d=e.CRH())&&(s.instanceResAtt=d.first),e.iGM(d=e.CRH())&&(s.instanceBillAtt=d.first),e.iGM(d=e.CRH())&&(s.instanceMatter=d.first),e.iGM(d=e.CRH())&&(s.instancePracticeGroup=d.first),e.iGM(d=e.CRH())&&(s.instanceAreaOfLaw=d.first)}},decls:28,vars:8,consts:[["clientGrp",""],["rt",""],["matter",""],["sicTemplate",""],["billingAttorneyTemplate",""],["responsibleAttorney",""],["areaOfLawTemplate",""],["practiceGroupTemplate",""],[3,"heading",4,"ngIf"],[3,"previousHeading","previousLink","heading",4,"ngIf"],[1,"container-fluid","mt-2"],[1,"card"],["class","card-header",4,"ngIf"],[1,"card-body"],[4,"ngIf"],["class","form-inline","autocomplete","off",3,"formGroup",4,"ngIf"],["content",""],[3,"result","term"],[3,"heading"],[3,"previousHeading","previousLink","heading"],[1,"card-header"],[1,"col-md-12"],[1,"btn","btn-info",2,"float","right",3,"click"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["autocomplete","off",1,"form-inline",3,"formGroup"],[1,"row","mb-2"],[1,"col-md-3"],[1,"form-group"],["for","name"],["type","text","formControlName","clientGroup",1,"form-control",3,"ngbTypeahead","editable","resultTemplate","inputFormatter","focus","click"],["instance2","ngbTypeahead"],["type","text","formControlName","client",1,"form-control",3,"ngbTypeahead","editable","resultTemplate","inputFormatter","focus","click"],["instance","ngbTypeahead"],["type","text","formControlName","clientSic",1,"form-control",3,"ngbTypeahead","resultTemplate","inputFormatter","focus","click"],["instance1","ngbTypeahead"],["class","form-group",4,"ngIf"],["class","col-md-6",4,"ngIf"],["class","col-md-3",4,"ngIf"],["type","text","formControlName","responsibleAttorney",1,"form-control",3,"ngbTypeahead","resultTemplate","inputFormatter","focus","click"],["instanceResAtt","ngbTypeahead"],["type","text","formControlName","billingAttorney",1,"form-control",3,"ngbTypeahead","resultTemplate","inputFormatter","focus","click"],["instanceBillAtt","ngbTypeahead"],[1,"form-group","col-md-3"],["type","text","formControlName","practiceGroup",1,"form-control",3,"ngbTypeahead","resultTemplate","inputFormatter","focus","click"],["instancePracticeGroup","ngbTypeahead"],["type","text","formControlName","areaOfLaw",1,"form-control",3,"ngbTypeahead","resultTemplate","inputFormatter","focus","click"],["instanceAreaOfLaw","ngbTypeahead"],["type","date","formControlName","agreementStartDate","id","floatingInput",1,"form-control",3,"max"],["type","date","formControlName","expirationDate","id","floatingInput",1,"form-control",3,"min"],[1,"form-group","col-sm-2"],["formControlName","reminderTimingDay","id","floatingSelect",1,"form-select","form-control","form-control-lg"],["selected","","disabled","","value",""],["value","30"],["value","60"],["value","90"],["value","120"],["formControlName","feeArrangementType","id","floatingSelect",1,"form-select","form-control","form-control-lg",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","form-group\n                            col-sm-2",4,"ngIf"],["class","form-group\n                            col-sm-3",4,"ngIf"],["class","form-group\n                            col-sm-4",4,"ngIf"],["class","form-group\n                            col-sm-6",4,"ngIf"],["class","form-group\n                            col-sm-5",4,"ngIf"],["class","form-group col-sm-6",4,"ngIf"],["class","form-group col-sm-3",4,"ngIf"],["class","form-group col-sm-2",4,"ngIf"],["for","name",1,"mb-2"],[1,"form-check","form-check-inline"],["value","Yes","type","radio","formControlName","rateAdjustmentDuringTerm","id","flexRadioDefault1",1,"form-check-input",3,"change"],["for","flexRadioDefault1",1,"form-check-label"],["value","No","type","radio","formControlName","rateAdjustmentDuringTerm","id","flexRadioDefault2","checked","",1,"form-check-input",3,"change"],["for","flexRadioDefault2",1,"form-check-label"],["formArrayName","adjustmentArray",4,"ngIf"],[1,"form-group","col-md-2"],["formControlName","billingFrequency","id","floatingSelect",1,"form-select","form-control","form-control-lg",3,"click"],["value","","selected","","disabled",""],["class","form-group col-md-3",4,"ngIf"],["formControlName","billingMethod","id","floatingSelect",1,"form-select","form-control","form-control-lg",3,"change"],["class","form-control mt-2","type","text","placeholder","Other Billing Method","id","flexRadioDefault1",3,"[ngModel]",4,"ngIf"],["formControlName","billingCurrency","id","floatingSelect",1,"form-select","form-control","form-control-lg"],["formControlName","payorType","id","floatingSelect",1,"form-select","form-control","form-control-lg",3,"change"],["type","radio","value","Yes","formControlName","preferredProvider","id","flexRadioDefault1","checked","",1,"form-check-input"],["type","radio","value","No","formControlName","preferredProvider","id","flexRadioDefault2",1,"form-check-input"],["class","row mb-2",4,"ngIf"],["class","flex-container",4,"ngIf"],[1,"form-group","mb-2","py-2","text-right"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","routerLink","/dashboard/search",1,"btn","btn-secondary"],["class"," text-danger error",4,"ngIf"],[1,"text-danger","error"],["type","text","formControlName","matter",1,"form-control",3,"ngbTypeahead","resultTemplate","inputFormatter","focus","click"],["instanceMatter","ngbTypeahead"],[1,"col-md-6"],["type","text","formControlName","matterId","pattern","[0-9]+",1,"form-control","form-control-lg"],["type","text","formControlName","matterName",1,"form-control"],[3,"value"],["formControlName","baseRateType","id","floatingSelect",1,"form-select","form-control","form-control-lg"],[1,"form-group","col-sm-3"],[1,"input-group","input-group-sm"],[1,"input-group-append"],[1,"input-group-text"],["type","text","onkeypress","return ((event.charCode >= 48 && event.charCode <= 57) || event.charCode==46 || event.charCode == 8 || event.charCode == 0)","maxlength","7","min","0","formControlName","targetFee",1,"form-control"],[1,"form-group","col-sm-4"],["type","text","onkeypress","return ((event.charCode >= 48 && event.charCode <= 57) || event.charCode==46 || event.charCode == 8 || event.charCode == 0)","maxlength","3","min","0","max","100","formControlName","collarPercentage",1,"form-control","form-control-lg"],[1,"form-group","col-sm-6"],[1,"input-group"],["type","text","onkeypress","return ((event.charCode >= 48 && event.charCode <= 57) || event.charCode==46 || event.charCode == 8 || event.charCode == 0)","maxlength","7","formControlName","feeCapAmount",1,"form-control","form-control-lg"],["type","text","onkeypress","return ((event.charCode >= 48 && event.charCode <= 57) || event.charCode==46 || event.charCode == 8 || event.charCode == 0)","maxlength","3","min","0","max","100","formControlName","discount",1,"form-control","form-control-lg"],[1,"form-group","col-sm-5"],["type","radio","value","Discount built into rates","formControlName","discountType","id","discountType1","checked","",1,"form-check-input",3,"change"],["for","discountType1",1,"form-check-label"],["type","radio","value","Time of billing discount","formControlName","discountType","id","discountType2",1,"form-check-input",3,"change"],["for","discountType2",1,"form-check-label"],["type","radio","value","Other","formControlName","discountType","id","discountType3",1,"form-check-input",3,"change"],["for","discountType3",1,"form-check-label"],["type","text","placeholder","","formControlName","otherDiscount",1,"form-control"],["type","text","formControlName","rateCardDetails",1,"form-control","form-control-lg"],["type","text","formControlName","cappedRateDetail",1,"form-control","form-control-lg"],["formControlName","fixedFeeType","id","floatingSelect",1,"form-select","form-control","form-control-lg"],["value","Matter"],["value","Annual"],["value","Monthly"],["value","Portfolio"],["value","Phase/Milestone"],["type","text","formControlName","fixedFeeDetails",1,"form-control"],["type","text","onkeypress","return ((event.charCode >= 48 && event.charCode <= 57) || event.charCode==46 || event.charCode == 8 || event.charCode == 0)","maxlength","7","min","0","max","100","formControlName","fixedFeeValue",1,"form-control"],["type","text","formControlName","feeCollarDetail",1,"form-control","form-control-lg"],["type","text","formControlName","fullContingencyDetail",1,"form-control","form-control-lg"],["type","text","formControlName","partialContingencyDetail",1,"form-control","form-control-lg"],["formArrayName","adjustmentArray"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"click"],[3,"formGroupName"],["type","date","formControlName","adjustmentDate",1,"form-control","form-control-lg"],["type","text","formControlName","adjustmentDetails",1,"form-control","form-control-lg"],["type","radio","value","Yes","formControlName","adjustmentReminder","id","adjustmentReminder1",1,"form-check-input",3,"min","max","change"],["for","adjustmentReminder1",1,"form-check-label"],["type","radio","value","No","formControlName","adjustmentReminder","id","adjustmentReminder2","checked","",1,"form-check-input"],["for","adjustmentReminder2",1,"form-check-label"],["class","row mt-2",4,"ngIf"],[3,"click",4,"ngIf"],[1,"row","mt-2"],[1,"form-group","col-md-6"],["type","date","formControlName","adjustmentReminderDate","id","floatingInput",1,"form-control"],["type","date","formControlName","expirationReminderDate","id","floatingInput",1,"form-control",3,"min"],["type","text","formControlName","adjustmentReminderEmailRecipient",1,"form-control","form-control-lg"],["formControlName","adjustmentReminderEmailContent","id","exampleFormControlTextarea1","rows","4",1,"form-control","rounded-2"],["type","text","placeholder","Billing Frequency Detail","formControlName","billingFrequencyOther","id","flexRadioDefault67",1,"form-control",3,"[ngModel]"],["type","text","placeholder","Other Billing Method","id","flexRadioDefault1",1,"form-control","mt-2",3,"[ngModel]"],["type","text","formControlName","payorDetail",1,"form-control","form-control-lg"],[1,"form-group","col-md-4"],["formControlName","attachmentType","id","floatingSelect",1,"form-select","form-control","form-control-lg"],[4,"ngFor","ngForOf"],["class","form-group col-md-2",4,"ngIf"],["type","file","name","attachmentFile","accept","image/png, image/jpeg,application/pdf,application/vnd.ms-excel, application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document","ngModel","",1,"form-control","form-control-lg",3,"ngModelOptions","change"],["file",""],[3,"selected","value"],["type","text","formControlName","attachmentTypeOther",1,"form-control","form-control-lg"],[1,"flex-container"],[1,"cross-icon",3,"click"],["src","assets/images/cross-icon.png",1,"text-center"],["src","assets/images/document-icon.png",1,"text-center"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group","review-item"],["class","form-group review-item",4,"ngIf"],[1,"modal-footer"],["type","submit","class","btn\n                            btn-info",3,"click",4,"ngIf"],["type","submit","class","btn btn-info",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","submit",1,"btn","btn-info",3,"click"]],template:function(t,s){1&t&&(e.YNc(0,Te,1,2,"ng-template",null,0,e.W1O),e.YNc(2,L,1,2,"ng-template",null,1,e.W1O),e.YNc(4,Xe,1,2,"ng-template",null,2,e.W1O),e.YNc(6,ke,1,2,"ng-template",null,3,e.W1O),e.YNc(8,Je,1,2,"ng-template",null,4,e.W1O),e.YNc(10,Me,1,2,"ng-template",null,5,e.W1O),e.YNc(12,et,1,2,"ng-template",null,6,e.W1O),e.YNc(14,tt,1,2,"ng-template",null,7,e.W1O),e.TgZ(16,"div"),e.YNc(17,F,1,1,"app-page-header",8),e.YNc(18,nt,1,3,"app-page-header",9),e.TgZ(19,"div",10)(20,"div",11),e.YNc(21,it,2,0,"div",12),e.YNc(22,Le,5,0,"div",12),e.TgZ(23,"div",13),e.YNc(24,p,5,0,"ng-container",14),e.YNc(25,Ci,192,78,"form",15),e.qZA()()()(),e.YNc(26,Ht,64,41,"ng-template",null,16,e.W1O)),2&t&&(e.xp6(16),e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("ngIf",!s.editForm),e.xp6(1),e.Q6J("ngIf",s.editForm),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(2),e.Q6J("ngIf",!s.editForm),e.xp6(1),e.Q6J("ngIf",s.editForm),e.xp6(2),e.Q6J("ngIf",s.isLoading),e.xp6(1),e.Q6J("ngIf",!s.isLoading))},dependencies:[v.sg,v.O5,i.rH,A._Y,A.YN,A.Kr,A.Fj,A.EJ,A._,A.JJ,A.JL,A.nD,A.c5,A.sg,A.u,A.x0,A.CE,le.q,A.On,I.dR,I._h,v.uU],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:8px}label[_ngcontent-%COMP%]{margin:2px;font-size:14px;font-weight:600}h4[_ngcontent-%COMP%]{font-weight:500}.card-body[_ngcontent-%COMP%]{padding:20px}[_ngcontent-%COMP%]::-moz-placeholder{color:#535252;opacity:1}[_ngcontent-%COMP%]::placeholder{color:#535252;opacity:1}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#535252}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#535252}span.input-group-text[_ngcontent-%COMP%]{padding:.7rem 1rem}.display-flex[_ngcontent-%COMP%]{display:flex}.display-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:3rem;position:relative;top:20px}.review-item[_ngcontent-%COMP%]{font-size:16px;font-weight:400;margin-bottom:8px!important}.review-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500!important}.modal-body[_ngcontent-%COMP%]{height:400px;overflow:auto}.flex-container[_ngcontent-%COMP%]{display:flex}.flex-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#f1f1f1;margin:10px;padding:10px;font-size:12px}.cross-icon[_ngcontent-%COMP%]{text-align:right;cursor:pointer}a[_ngcontent-%COMP%]{cursor:pointer}.form-group[_ngcontent-%COMP%]{margin-bottom:10px!important}.input-group-sm[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{height:calc(1.5em + .75rem + 0px);font-size:.875rem}"],data:{animation:[(0,f.Z9)()]}}),n})();function nr(n,l){1&n&&(e.ynx(0),e.TgZ(1,"div",11)(2,"div",12)(3,"span",13),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function Kt(n,l){1&n&&(e.TgZ(0,"div")(1,"p",11),e._uU(2,"No logs found"),e.qZA()())}function ir(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"date"),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" Before: ",e.xi3(2,1,t.before,"MM/dd/YYYY")," ")}}function rr(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" Before: ",t.before," ")}}function or(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"date"),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" Before: ",e.xi3(2,1,t.after,"MM/dd/YYYY")," ")}}function oe(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" Before: ",t.after," ")}}function Ee(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"span"),e.YNc(5,ir,3,4,"ng-container",9),e.YNc(6,rr,1,1,"ng-template",null,22,e.W1O),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"span"),e.YNc(10,or,3,4,"ng-container",9),e.YNc(11,oe,1,1,"ng-template",null,23,e.W1O),e.qZA(),e._UZ(13,"br")(14,"hr"),e.BQk()),2&n){const t=e.MAs(7),s=e.MAs(12),d=e.oxw().$implicit,g=e.oxw(4);e.xp6(2),e.hij("Field: ",g.transformTitle(d.key),""),e.xp6(3),e.Q6J("ngIf","startDate"==d.key||"expirationDate"==d.key||"feeArrangementDetails_adjustmentDate"==d.key||"feeArrangementDetails_reminderDate"==d.key)("ngIfElse",t),e.xp6(5),e.Q6J("ngIf","startDate"==d.key||"expirationDate"==d.key||"feeArrangementDetails_adjustmentDate"==d.key||"feeArrangementDetails_reminderDate"==d.key)("ngIfElse",s)}}function ar(n,l){if(1&n&&(e.ynx(0),e.YNc(1,Ee,15,5,"ng-container",8),e.BQk()),2&n){const t=l.$implicit,s=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!s.excludedKeys.includes(t.key))}}function lr(n,l){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.TgZ(6,"table",20)(7,"tr")(8,"th",21)(9,"span"),e._uU(10,"Activity"),e.qZA()()(),e.TgZ(11,"tr")(12,"td"),e.YNc(13,ar,2,1,"ng-container",15),e.qZA()()()()()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(e.xi3(3,3,null==t?null:t.createdAt,"short")),e.xp6(3),e.hij("",null==t?null:t.text," "),e.xp6(8),e.Q6J("ngForOf",null==t||null==t.details?null:t.details.updateDetails)}}function sr(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"table",14)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Time"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Updates"),e.qZA()()(),e.TgZ(8,"tbody"),e.YNc(9,lr,14,6,"tr",15),e.qZA()(),e.TgZ(10,"div",16)(11,"ngb-pagination",17),e.NdJ("pageChange",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g._state.page=d)})("pageChange",function(){e.CHM(t);const d=e.oxw(2);return e.KtG(d.refreshLogs())}),e.qZA(),e.TgZ(12,"select",18),e.NdJ("ngModelChange",function(d){e.CHM(t);const g=e.oxw(2);return e.KtG(g._state.limit=d)})("ngModelChange",function(){e.CHM(t);const d=e.oxw(2);return e.KtG(d.refreshLogs())}),e.TgZ(13,"option",19),e._uU(14,"5 items per page"),e.qZA(),e.TgZ(15,"option",19),e._uU(16,"10 items per page"),e.qZA(),e.TgZ(17,"option",19),e._uU(18,"20 items per page"),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(9),e.Q6J("ngForOf",t.logs),e.xp6(2),e.Q6J("collectionSize",t._state.totalResults)("page",t._state.page)("pageSize",t._state.limit)("rotate",!0)("maxSize",5)("boundaryLinks",!0),e.xp6(1),e.Q6J("ngModel",t._state.limit),e.xp6(1),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",20)}}function dr(n,l){if(1&n&&e.YNc(0,sr,19,11,"div",8),2&n){const t=e.oxw();e.Q6J("ngIf",!t.isLoading)}}const ur=[{path:"",component:$e},{path:"add-agreement",component:Gt},{path:"view-agreement/:agreementId",component:ye.y},{path:"edit-agreement/:agreementId",component:Gt},{path:"history/:agreementId",component:(()=>{class n{constructor(t,s,d,g){this.agreementService=t,this.route=s,this.cdr=d,this.router=g,this.isActivity=!0,this.searchTerm="",this.searchTermUpdate=new u.x,this._state={page:1,limit:20,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"desc"},this.logs=[],this.excludedKeys=["client","clientGroupId","clientId","clientSicId","principalAttorneyId","responsibleBillingManagerId"],this.isLoading=!1,this.route.params.subscribe(C=>{""!==C.agreementId&&null!=C.agreementId&&(this.agreementId=C.agreementId)}),this.searchTermUpdate.pipe((0,x.b)(200),(0,m.x)()).subscribe(C=>{this._state.searchTerm=C,this.getLogs(this._state)}),this.route.data.subscribe(C=>{this.searchTerm=C?.search})}ngOnInit(){this.isLoading=!0,this.getLogs(this._state)}getLogs(t){this.agreementService.logs(t,this.agreementId).subscribe(s=>{this.logs=s.results,this.isLoading=!1,this.isActivity=0!=this.logs.length,this.cdr.detectChanges(),this.setState(s)})}excludeValuesFromLogs(){}refreshLogs(){this.getLogs(this._state)}setState(t){this._state.page=t.page,this._state.limit=t.limit,this._state.totalPages=t.totalPages,this._state.totalResults=t.totalResults,this.cdr.detectChanges()}back(){this.router.navigate(["/dashboard/search/view-agreement/"+this.agreementId])}transformTitle(t){return{clientGroupName:"Client Group",clientName:"Client",matterName:"Matter Name",clientSicName:"Client SIC Category",principalAttorneyName:"Responsible Partner",responsibleBillingManagerName:"Billing Manager",startDate:"Agreement Start Date (MM/DD/YYYY)",expirationDate:"Agreement Expiration Date (MM/DD/YYYY)",feeArrangementDetails_reminderTimingDay:"Reminder Timing",feeArrangementType:"Fee Arrangement Type",feeArrangementDetails_baseRateType:"Base Rate Type",feeArrangementDetails_discount:"Discount",feeArrangementDetails_discountDetail:"Discount Details",feeArrangementDetails_discountDetailDescription:"Discount Description",feeArrangementDetails_rateCardDetail:"Rate Card Detail",feeArrangementDetails_cappedRateDetail:"Capped Rate Detail",feeArrangementDetails_feeCapAmount:"Fee Cap Amount($)",feeArrangementDetails_targetFee:"Target Fee($)",feeArrangementDetails_matterFixedFee:"Matter Fixed Fee($)",feeArrangementDetails_annualFixedFee:"Annual Fixed Fee($)",feeArrangementDetails_monthlyFixedFee:"Monthly Fixed Fee($)",feeArrangementDetails_portfolioFixedFee:"Portfolio Fixed Fee($)",feeArrangementDetails_milestoneFixedFee:"Phase/Milestone Fixed Fee($)",feeArrangementDetails_fixedFeeDetail:"Fixed Fee Detail",feeArrangementDetails_collarPercentage:"Collar Percentage(%)",feeArrangementDetails_rateAdjustmentDuringTerm:"Rate Adjustment During Term",feeArrangementDetails_adjustmentDate:"Adjustment Date (MM/DD/YYYY)",feeArrangementDetails_adjustmentDetails:"Adjustment Details",feeArrangementDetails_reminder:"Adjustment Reminder",feeArrangementDetails_reminderDate:"Adjustment Reminder Date (MM/DD/YYYY)",feeArrangementDetails_reminderEmailRecipients:"Adjustment Reminder Email Recipients",feeArrangementDetails_reminderEmailContent:"Adjustment Reminder Email Content",feeArrangementDetails_fullContingencyDetail:"Full Contingency Detail",feeArrangementDetails_partialContingencyDetail:"Partial Contingency Detail",billingFrequency:"Billing Frequency",billingFrequencyDetails:"Billing Frequency Details",billingCurrency:"Billing Currency",billingMethod:"Billing Method",billingMethodDetails:"Billing Method Details",payorType:"Payor Type",payorDetail:"Payor Details",preferredProvider:"Preferred Provider"}[t]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(W.f),e.Y36(i.gz),e.Y36(e.sBO),e.Y36(i.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-logs"]],viewQuery:function(t,s){if(1&t&&e.Gf(T.j,5),2&t){let d;e.iGM(d=e.CRH())&&(s.headers=d)}},decls:14,vars:8,consts:[[3,"previousLink","previousHeading","heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-body"],[1,"row","mb-2","search-header"],[1,"col-md-12"],[1,"btn","btn-info",2,"float","right",3,"click"],[1,"col-md-12","text-left"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["table",""],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","rotate","maxSize","boundaryLinks","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["width","100%",1,"no-border"],["scope","col"],["newDeb",""],["newDeb1",""]],template:function(t,s){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"button",6),e.NdJ("click",function(){return s.back()}),e._uU(8,"Back"),e.qZA()(),e._UZ(9,"div",7),e.qZA(),e.YNc(10,nr,5,0,"ng-container",8),e.YNc(11,Kt,3,0,"div",9),e.YNc(12,dr,1,1,"ng-template",null,10,e.W1O),e.qZA()()()()),2&t){const d=e.MAs(13);e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("previousLink","search")("previousHeading","Search Record")("heading","Agreement Logs"),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(8),e.Q6J("ngIf",s.isLoading),e.xp6(1),e.Q6J("ngIf",!s.isActivity)("ngIfElse",d)}},dependencies:[v.sg,v.O5,A.YN,A.Kr,A.EJ,A.JJ,le.q,A.On,I.N9,v.uU],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top!important;border:1px solid #dedede!important}.no-border[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0!important;padding-left:0!important}.no-border[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:0!important}"],data:{animation:[(0,f.Z9)()]}}),n})()}];let mr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[i.Bz.forChild(ur),i.Bz]}),n})();var He=_(4336),r=_(1094),o=_(3196);let a=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[T.j,o.y,J.n,Ce.M,we.w,qe.p,D.O,X.H,ne.W,O.x],imports:[v.ez,mr,A.UX,He.$n,A.u5,I.ZS,I.jF,r.yI.forRoot()]}),n})()},3531:(N,h,_)=>{"use strict";_.d(h,{y:()=>Le});var v=_(4903),i=_(4650),T=_(7750),f=_(4006),E=_(6316),u=_(3516),x=_(1959),m=_(9581),e=_(6124),W=_(3476),ae=_(6134),A=_(5418),le=_(8530),I=_(9867),ce=_(7253),q=_(6895),ge=_(8161);const R=["file"];function Z(p,y){1&p&&i._UZ(0,"app-page-header",14),2&p&&i.Q6J("heading","Agreement Details")("previousLink","agreements")("previousHeading","Agreements")}function pe(p,y){if(1&p){const c=i.EpF();i.TgZ(0,"button",15),i.NdJ("click",function(){i.CHM(c);const H=i.oxw();return i.KtG(H.editAgreement())}),i._uU(1,"Edit"),i.qZA()}}function Ke(p,y){1&p&&(i.TgZ(0,"div")(1,"div",16)(2,"div",17)(3,"span",18),i._uU(4,"Loading..."),i.qZA()()()())}function Ye(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Client Group Name:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.clientGroupName)}}function ve(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Matter Name:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.matterName)}}function Re(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Responsible Partner:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.principalAttorneyName)}}function Ze(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Billing Manager:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.responsibleBillingManagerName)}}function xe(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Area Of Law:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.areaOfLawName)}}function z(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Practice Group:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.practiceGroupName)}}function se(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Agreement Start Date (MM/DD/YYYY):"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.ALo(6,"date"),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(i.xi3(6,1,null==c.agreementData?null:c.agreementData.startDate,"MM/dd/YYYY"))}}function re(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Agreement Expiration Date (MM/DD/YYYY):"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.ALo(6,"date"),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(i.xi3(6,1,null==c.agreementData?null:c.agreementData.expirationDate,"MM/dd/YYYY"))}}function We(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Reminder Timing:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.hij("",c.agreementData.feeArrangementDetails_reminderTimingDay,"\xa0days")}}function ue(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Fee Arrangement Type:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementType)}}function _e(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Base Rate Type:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_baseRateType)}}function $e(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Discount (%):"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_discount)}}function ye(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Discount Type:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_discountDetail)}}function j(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2," Other Discount:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_discountDetailDescription)}}function S(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Rate Card Detail:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_rateCardDetail)}}function ee(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Capped Rate Detail:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_cappedRateDetail)}}function Q(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Fee Cap Amount($):"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.ALo(6,"currency"),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(i.Dn7(6,1,null==c.agreementData?null:c.agreementData.feeArrangementDetails_feeCapAmount,c.symbol,c.fractionsize))}}function $(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Target Fee:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.ALo(6,"currency"),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(i.Dn7(6,1,null==c.agreementData?null:c.agreementData.feeArrangementDetails_targetFee,c.symbol,c.fractionsize))}}function te(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Collar Percentage (in %):"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_collarPercentage)}}function U(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Rate Adjustment During Term:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null!=c.agreementData&&c.agreementData.feeArrangementDetails_rateAdjustmentDuringTerm?"Yes":"No")}}function k(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Adjustment Date (MM/DD/YYYY):"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.ALo(6,"date"),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(i.xi3(6,1,null==c.agreementData?null:c.agreementData.feeArrangementDetails_adjustmentDate,"MM/dd/YYYY"))}}function V(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Adjustment Details:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_adjustmentDetails)}}function ze(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Adjustment Reminder:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null!=c.agreementData&&c.agreementData.feeArrangementDetails_reminder?"Yes":"No")}}function J(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Adjustment Reminder Date:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.ALo(6,"date"),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(i.xi3(6,1,null==c.agreementData?null:c.agreementData.feeArrangementDetails_reminderDate,"MM/dd/YYYY"))}}function Ce(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Adjustment Reminder Email Recipients:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_reminderEmailRecipients)}}function we(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Adjustment Reminder Email Content:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_reminderEmailContent)}}function qe(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Full Contingency Detail:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_fullContingencyDetail)}}function D(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Matter Fixed Fee:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.ALo(6,"currency"),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(i.Dn7(6,1,null==c.agreementData?null:c.agreementData.feeArrangementDetails_matterFixedFee,c.symbol,c.fractionsize))}}function X(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Annual Fixed Fee:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.ALo(6,"currency"),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(i.Dn7(6,1,null==c.agreementData?null:c.agreementData.feeArrangementDetails_annualFixedFee,c.symbol,c.fractionsize))}}function ne(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Monthly Fixed Fee:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.ALo(6,"currency"),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(i.Dn7(6,1,null==c.agreementData?null:c.agreementData.feeArrangementDetails_monthlyFixedFee,c.symbol,c.fractionsize))}}function me(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Portfolio Fixed Fee:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.ALo(6,"currency"),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(i.Dn7(6,1,null==c.agreementData?null:c.agreementData.feeArrangementDetails_portfolioFixedFee,c.symbol,c.fractionsize))}}function O(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Phase/Milestone Fixed Fee:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.ALo(6,"currency"),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(i.Dn7(6,1,null==c.agreementData?null:c.agreementData.feeArrangementDetails_milestoneFixedFee,c.symbol,c.fractionsize))}}function B(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Fixed Fee Type:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_fixedFeeType)}}function ie(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Fixed Fee Value:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_fixedFeeValue)}}function Te(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Fixed Fee Detail:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_fixedFeeDetail)}}function L(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Billing Frequency:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.billingFrequency)}}function Xe(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Billing Frequency Other:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.billingFrequencyDetails)}}function ke(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Billing Currency:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.billingCurrency)}}function Je(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Partial Contingency Detail:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.feeArrangementDetails_partialContingencyDetail)}}function Me(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Billing Method:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.billingMethod)}}function et(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Billing Method Details:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.billingMethodDetails)}}function tt(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Payor Type:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.payorType)}}function F(p,y){if(1&p&&(i.TgZ(0,"div",23)(1,"label",24),i._uU(2,"Payor Detail:"),i.qZA(),i.TgZ(3,"div",25)(4,"label"),i._uU(5),i.qZA()()()),2&p){const c=i.oxw(2);i.xp6(5),i.Oqu(null==c.agreementData?null:c.agreementData.payorDetail)}}function nt(p,y){if(1&p){const c=i.EpF();i.TgZ(0,"div")(1,"a",28),i.NdJ("click",function(){const Ue=i.CHM(c).$implicit,Ie=i.oxw(2);return i.KtG(Ie.accessFileURL(Ue.name))}),i._UZ(2,"img",29),i.TgZ(3,"p"),i._uU(4),i.qZA()()()}if(2&p){const c=y.$implicit;i.xp6(4),i.Oqu(null==c?null:c.type)}}function it(p,y){if(1&p){const c=i.EpF();i.TgZ(0,"div",19)(1,"div",20)(2,"p",21),i._uU(3,"Client Details"),i.qZA(),i.TgZ(4,"div",5)(5,"div",6)(6,"button",10),i.NdJ("click",function(){i.CHM(c);const H=i.oxw();return i.KtG(H.goBack())}),i._uU(7,"Back"),i.qZA()()()(),i.ynx(8),i.YNc(9,Ye,6,1,"div",22),i.TgZ(10,"div",23)(11,"label",24),i._uU(12,"Client Name:"),i.qZA(),i.TgZ(13,"div",25)(14,"label"),i._uU(15),i.qZA()()(),i.YNc(16,ve,6,1,"div",22),i.TgZ(17,"div",23)(18,"label",24),i._uU(19,"Client SIC Name:"),i.qZA(),i.TgZ(20,"div",25)(21,"label"),i._uU(22),i.qZA()()(),i.YNc(23,Re,6,1,"div",22),i.YNc(24,Ze,6,1,"div",22),i.YNc(25,xe,6,1,"div",22),i.YNc(26,z,6,1,"div",22),i.YNc(27,se,7,4,"div",22),i.YNc(28,re,7,4,"div",22),i.YNc(29,We,6,1,"div",22),i.BQk(),i._UZ(30,"hr"),i.ynx(31),i.TgZ(32,"div",20)(33,"p",21),i._uU(34,"Fee Details"),i.qZA()(),i.YNc(35,ue,6,1,"div",22),i.YNc(36,_e,6,1,"div",22),i.YNc(37,$e,6,1,"div",22),i.YNc(38,ye,6,1,"div",22),i.YNc(39,j,6,1,"div",22),i.YNc(40,S,6,1,"div",22),i.YNc(41,ee,6,1,"div",22),i.YNc(42,Q,7,5,"div",22),i.YNc(43,$,7,5,"div",22),i.YNc(44,te,6,1,"div",22),i.YNc(45,U,6,1,"div",22),i.YNc(46,k,7,4,"div",22),i.YNc(47,V,6,1,"div",22),i.YNc(48,ze,6,1,"div",22),i.YNc(49,J,7,4,"div",22),i.YNc(50,Ce,6,1,"div",22),i.YNc(51,we,6,1,"div",22),i.YNc(52,qe,6,1,"div",22),i.YNc(53,D,7,5,"div",22),i.YNc(54,X,7,5,"div",22),i.YNc(55,ne,7,5,"div",22),i.YNc(56,me,7,5,"div",22),i.YNc(57,O,7,5,"div",22),i.YNc(58,B,6,1,"div",22),i.YNc(59,ie,6,1,"div",22),i.YNc(60,Te,6,1,"div",22),i.BQk(),i._UZ(61,"hr"),i.ynx(62),i.TgZ(63,"div",20)(64,"p",21),i._uU(65,"Billing Details"),i.qZA()(),i.YNc(66,L,6,1,"div",22),i.YNc(67,Xe,6,1,"div",22),i.YNc(68,ke,6,1,"div",22),i.YNc(69,Je,6,1,"div",22),i.YNc(70,Me,6,1,"div",22),i.YNc(71,et,6,1,"div",22),i.YNc(72,tt,6,1,"div",22),i.YNc(73,F,6,1,"div",22),i.TgZ(74,"div",23)(75,"label",24),i._uU(76,"Preferred Provider:"),i.qZA(),i.TgZ(77,"div",25)(78,"label"),i._uU(79),i.qZA()()(),i.BQk(),i._UZ(80,"hr"),i.ynx(81),i.TgZ(82,"div",20)(83,"p",21),i._uU(84,"Attachments"),i.qZA()(),i.TgZ(85,"div",23)(86,"div",26),i.YNc(87,nt,5,1,"div",27),i.qZA()(),i.BQk(),i.qZA()}if(2&p){const c=i.oxw();i.xp6(9),i.Q6J("ngIf",c.agreementData.clientGroupName),i.xp6(6),i.Oqu(null==c.agreementData?null:c.agreementData.clientName),i.xp6(1),i.Q6J("ngIf",c.agreementData.matterId),i.xp6(6),i.Oqu(null==c.agreementData?null:c.agreementData.clientSicName),i.xp6(1),i.Q6J("ngIf",c.agreementData.principalAttorneyName),i.xp6(1),i.Q6J("ngIf",c.agreementData.responsibleBillingManagerName),i.xp6(1),i.Q6J("ngIf",c.agreementData.areaOfLawName),i.xp6(1),i.Q6J("ngIf",c.agreementData.practiceGroupName),i.xp6(1),i.Q6J("ngIf",c.agreementData.startDate),i.xp6(1),i.Q6J("ngIf",c.agreementData.expirationDate),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_reminderTimingDay),i.xp6(6),i.Q6J("ngIf",c.agreementData.feeArrangementType),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_baseRateType&&(c.isFeeArrangmentHourlyBilled||c.isFeeArrangmentFeeCollar||c.isFeeArrangmentCappedFee)),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_discount&&(c.isFeeArrangmentHourlyBilled||c.isFeeArrangmentFeeCollar||c.isFeeArrangmentCappedFee)),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_discountDetail&&(c.isFeeArrangmentHourlyBilled||c.isFeeArrangmentFeeCollar||c.isFeeArrangmentCappedFee)),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_discountDetailDescription&&(c.isFeeArrangmentHourlyBilled||c.isFeeArrangmentFeeCollar||c.isFeeArrangmentCappedFee)),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_rateCardDetail&&c.isFeeArrangmentHourlyBilled),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_cappedRateDetail&&c.isFeeArrangmentHourlyBilled),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_feeCapAmount&&c.isFeeArrangmentCappedFee),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_targetFee&&c.isFeeArrangmentFeeCollar),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_collarPercentage&&c.isFeeArrangmentFeeCollar),i.xp6(1),i.Q6J("ngIf",c.isFeeArrangmentHourlyBilled||c.isFeeArrangmentCappedFee||c.isFeeArrangmentFeeCollar),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_adjustmentDate&&c.agreementData.feeArrangementDetails_rateAdjustmentDuringTerm),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_adjustmentDetails&&c.agreementData.feeArrangementDetails_rateAdjustmentDuringTerm),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_rateAdjustmentDuringTerm),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_reminderDate&&c.agreementData.feeArrangementDetails_rateAdjustmentDuringTerm&&c.agreementData.feeArrangementDetails_reminder),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_reminderEmailRecipients&&c.agreementData.feeArrangementDetails_rateAdjustmentDuringTerm&&c.agreementData.feeArrangementDetails_reminder),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_reminderEmailContent&&c.agreementData.feeArrangementDetails_rateAdjustmentDuringTerm&&c.agreementData.feeArrangementDetails_reminder),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_fullContingencyDetail&&c.isFeeArrangmentFullContingency),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_matterFixedFee&&c.isFeeArrangmentFixedFee),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_annualFixedFee&&c.isFeeArrangmentFixedFee),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_monthlyFixedFee&&c.isFeeArrangmentFixedFee),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_portfolioFixedFee&&c.isFeeArrangmentFixedFee),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_milestoneFixedFee&&c.isFeeArrangmentFixedFee),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_fixedFeeType&&c.isFeeArrangmentFixedFee),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_fixedFeeValue&&c.isFeeArrangmentFixedFee),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_fixedFeeDetail&&c.isFeeArrangmentFixedFee),i.xp6(6),i.Q6J("ngIf",c.agreementData.billingFrequency),i.xp6(1),i.Q6J("ngIf",c.agreementData.billingFrequencyDetails),i.xp6(1),i.Q6J("ngIf",c.agreementData.billingCurrency),i.xp6(1),i.Q6J("ngIf",c.agreementData.feeArrangementDetails_partialContingencyDetail&&c.isFeeArrangmentPartialContingency),i.xp6(1),i.Q6J("ngIf",c.agreementData.billingMethod),i.xp6(1),i.Q6J("ngIf",c.agreementData.billingMethodDetails),i.xp6(1),i.Q6J("ngIf",c.agreementData.payorType),i.xp6(1),i.Q6J("ngIf",c.agreementData.payorDetail),i.xp6(6),i.Oqu(null!=c.agreementData&&c.agreementData.preferredProvider?"Yes":"No"),i.xp6(8),i.Q6J("ngForOf",c.agreementData.attachments)}}let Le=(()=>{class p{constructor(c,P,H,Ue,Ie,rt,Oe,ot,at,fe,lt,st,dt,ct,Pe,ut){this.route=c,this.cdr=P,this.router=H,this.fb=Ue,this.rolesServie=Ie,this.agreementService=rt,this.attachmentTypeService=Oe,this.baseRateService=ot,this.billingFrequencyService=at,this.billingMethodService=fe,this.billingcurrencyService=lt,this.hourlyBillingService=st,this.payorTypeService=dt,this.sicCodeService=ct,this.jwtService=Pe,this._location=ut,this.isEditAccess=!1,this.isLoading=!1,this.isLoadingAttachment=!1,this.agreementData={},this.clientDetailsEdit=!1,this.route.params.subscribe(he=>{""!==he.agreementId&&null!=he.agreementId&&(this.agreementId=he.agreementId,this.getAggrement(this.agreementId))}),this.route.data.subscribe(he=>{this.searchType=he?.search})}ngOnInit(){this.isEditAccess=this.jwtService.checkAccess("agreements")}accessFileURL(c){this.agreementService.getFileURL({key:c}).subscribe(H=>{window.open(H.file,"_blank")})}getAggrement(c){this.isLoading=!0,this.agreementService.getAgreementById(c).subscribe(P=>{this.agreementData=P,this.feeArrangementType(this.agreementData.feeArrangementType),this.isLoading=!1,this.cdr.detectChanges()},P=>{this.isLoading=!1,alert("Record Not Found"),this.router.navigate(["/dashboard/search"])})}editClientDetails(){this.clientDetailsEdit=!this.clientDetailsEdit}goBack(){this._location.back()}editAgreement(){this.router.navigate(["/agreements/edit-agreement/"+this.agreementId])}feeArrangementType(c){return"Hourly Billed"==c?(this.isFeeArrangmentHourlyBilled=!0,this.isFeeArrangmentFixedFee=!1,this.isFeeArrangmentCappedFee=!1,this.isFeeArrangmentFullContingency=!1,this.isFeeArrangmentPartialContingency=!1,this.isFeeArrangmentFeeCollar=!1,this.discountTypeOther=!1):"Fixed Fee"==c?(this.isFeeArrangmentFixedFee=!0,this.isFeeArrangmentHourlyBilled=!1,this.isFeeArrangmentCappedFee=!1,this.isFeeArrangmentFullContingency=!1,this.isFeeArrangmentPartialContingency=!1,this.isFeeArrangmentFeeCollar=!1,this.isRateAdjustmentDuringTerm=!1,this.isRateAdjustmentDuringTermReminder=!1):"Capped Fee"==c?(this.isFeeArrangmentCappedFee=!0,this.isFeeArrangmentHourlyBilled=!1,this.isFeeArrangmentFixedFee=!1,this.isFeeArrangmentFullContingency=!1,this.isFeeArrangmentPartialContingency=!1,this.isFeeArrangmentFeeCollar=!1,this.discountTypeOther=!1):"Full Contingency"==c?(this.isFeeArrangmentFullContingency=!0,this.isFeeArrangmentHourlyBilled=!1,this.isFeeArrangmentFixedFee=!1,this.isFeeArrangmentCappedFee=!1,this.isFeeArrangmentPartialContingency=!1,this.isFeeArrangmentFeeCollar=!1,this.isRateAdjustmentDuringTerm=!1,this.isRateAdjustmentDuringTermReminder=!1):"Partial Contingency"==c?(this.isFeeArrangmentPartialContingency=!0,this.isFeeArrangmentHourlyBilled=!1,this.isFeeArrangmentFixedFee=!1,this.isFeeArrangmentCappedFee=!1,this.isFeeArrangmentFullContingency=!1,this.isFeeArrangmentFeeCollar=!1,this.isRateAdjustmentDuringTerm=!1,this.isRateAdjustmentDuringTermReminder=!1):"Fee Collar"==c&&(this.isFeeArrangmentFeeCollar=!0,this.isFeeArrangmentHourlyBilled=!1,this.isFeeArrangmentFixedFee=!1,this.isFeeArrangmentCappedFee=!1,this.isFeeArrangmentFullContingency=!1,this.isFeeArrangmentPartialContingency=!1,this.discountTypeOther=!1),!0}viewHistory(){this.router.navigate(["/agreements/history/",this.agreementId])}getUrl(c){return encodeURIComponent(c)}}return p.\u0275fac=function(c){return new(c||p)(i.Y36(T.gz),i.Y36(i.sBO),i.Y36(T.F0),i.Y36(f.qu),i.Y36(E.N),i.Y36(u.f),i.Y36(x.n),i.Y36(m.M),i.Y36(e.w),i.Y36(W.p),i.Y36(ae.O),i.Y36(A.H),i.Y36(le.W),i.Y36(I.S),i.Y36(ce.Tj),i.Y36(q.Ye))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-view-agreement"]],viewQuery:function(c,P){if(1&c&&i.Gf(R,5),2&c){let H;i.iGM(H=i.CRH())&&(P.input=H.first)}},decls:19,vars:7,consts:[[3,"heading","previousLink","previousHeading",4,"ngIf"],[3,"heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-header","py-2","d-flex","flex-wrap","justify-content-between","align-items-center"],[1,"buttons"],[1,"trow"],[1,"m5"],["class","btn btn-info btn-block",3,"click",4,"ngIf"],[1,""],[1,"btn","btn-secondary","btn-block","nowrap",3,"click"],[1,"card-body"],[4,"ngIf"],["class","row",4,"ngIf"],[3,"heading","previousLink","previousHeading"],[1,"btn","btn-info","btn-block",3,"click"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"row"],[1,"header"],[1,"heading"],["class","form-group col-md-6 col-sm-12",4,"ngIf"],[1,"form-group","col-md-6","col-sm-12"],[1,"field_name"],[1,"field-data"],[1,"flex-container"],[4,"ngFor","ngForOf"],[1,"cursor",3,"click"],["src","assets/images/document-icon.png",1,"text-center"]],template:function(c,P){1&c&&(i.TgZ(0,"div"),i.YNc(1,Z,1,3,"app-page-header",0),i._UZ(2,"app-page-header",1),i.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"span"),i._uU(7,"Agreement Details"),i.qZA(),i.TgZ(8,"div",5)(9,"div",6)(10,"div",7),i.YNc(11,pe,2,0,"button",8),i.qZA(),i.TgZ(12,"div",9)(13,"button",10),i.NdJ("click",function(){return P.viewHistory()}),i._uU(14,"History"),i.qZA()()()()(),i.TgZ(15,"div",11)(16,"div"),i.YNc(17,Ke,5,0,"div",12),i.YNc(18,it,88,47,"div",13),i.qZA()()()()()),2&c&&(i.Q6J("@routerTransition",void 0),i.xp6(1),i.Q6J("ngIf",!P.searchType),i.xp6(1),i.Q6J("heading","Search Detail"),i.xp6(1),i.Q6J("@routerTransition",void 0),i.xp6(8),i.Q6J("ngIf",P.isEditAccess),i.xp6(6),i.Q6J("ngIf",P.isLoading),i.xp6(1),i.Q6J("ngIf",!P.isLoading))},dependencies:[q.sg,q.O5,ge.q,q.H9,q.uU],styles:["form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{text-align:left}.form-group[_ngcontent-%COMP%]{margin-bottom:8px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-left:8px;margin-bottom:16px}.header[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:20px;font-weight:600;padding:5px;margin-bottom:0;color:#773784}.header[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]{height:20px;width:auto;margin:5px;cursor:pointer}label[_ngcontent-%COMP%]{margin:2px;font-size:16px;font-weight:400}h4[_ngcontent-%COMP%]{font-weight:500}.card-body[_ngcontent-%COMP%]{padding:20px}[_ngcontent-%COMP%]::-moz-placeholder{color:#535252;opacity:1}[_ngcontent-%COMP%]::placeholder{color:#535252;opacity:1}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#535252}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#535252}span.input-group-text[_ngcontent-%COMP%]{padding:.7rem 1rem}.display-flex[_ngcontent-%COMP%]{display:flex}.display-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:3rem;position:relative;top:20px}.review-item[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.review-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500!important}.modal-body[_ngcontent-%COMP%]{height:400px;overflow:auto}.flex-container[_ngcontent-%COMP%]{display:flex}.flex-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#f6f6f6;margin:10px;padding:10px;font-size:12px;border-radius:10px}.cross-icon[_ngcontent-%COMP%]{text-align:right;cursor:pointer}.field_name[_ngcontent-%COMP%]{font-weight:600;margin-bottom:3px!important;font-size:14px}.field-data[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px!important}.form-group[_ngcontent-%COMP%]{margin-bottom:4px!important}.trow[_ngcontent-%COMP%]{display:inline-block}.trow[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block}.m5[_ngcontent-%COMP%]{margin:5px}.cursor[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[(0,v.Z9)()]}}),p})()},3516:(N,h,_)=>{"use strict";_.d(h,{f:()=>E});var v=_(2340),i=_(4650),T=_(529),f=_(2487);let E=(()=>{class u{constructor(m,e){this.http=m,this.apiService=e,this.url=v.N.backendUrl}getAgreements(m,e){return this.apiService.post(""==m.searchTerm?`/agreements/filter?&sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}`:`/agreements/filter?&sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`,e)}getAgreementsForExcel(m,e){return this.apiService.postBlob(""==m.searchTerm?`/agreements/download-excel?&sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}`:`/agreements/download-excel?&sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`,e)}getAgreementById(m){return this.apiService.get(`/agreements/${m}`)}filtersData(){return this.apiService.post("/agreements/filter/options")}filtersDataOption(m){return this.apiService.post("/agreements/filter/options",m)}getClientGroup(m){return this.apiService.get(""==m.searchTerm?`/client-group?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}`:`/client-group?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`)}getClients(m){return this.apiService.get(""==m.searchTerm?`/clients?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}`:`/clients?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`)}getClientByGroup(m,e){return this.apiService.get(""==m.searchTerm?`/clients/clientGroup-id/${e}`:`/clients/clientGroup-id/${e}?&search=${m.searchTerm}`)}getMatters(m,e){return this.apiService.get(""==m.searchTerm?`/matters?clientId=${e}&sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}`:m.searchTerm&&e?`/matters?clientId=${e}&sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`:`/matters?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`)}getTimeKeepers(m){return this.apiService.get(`/timekeepers/timekeeper-id/${m}`)}saveAttachment(m){return this.apiService.post("/app/file-upload",m)}getFileURL(m){return this.apiService.post("/app/access-file",m)}addNewAgreement(m){return this.apiService.post("/agreements",m)}updateAgreement(m,e){return this.apiService.patch(`/agreements/${m}`,e)}logs(m,e){return this.apiService.get(""==m.searchTerm?`/agreements/logs/${e}?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}`:`/agreements/logs/${e}?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`)}getAreaOfLaw(m){return this.apiService.get(""==m.searchTerm?`/area-of-law?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}`:`/area-of-law?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`)}getPracticeGroup(m){return this.apiService.get(""==m.searchTerm?`/practice-group?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}`:`/practice-group?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`)}getPracticeGroupById(m,e){return this.apiService.get(""==m.searchTerm?`/practice-group/${e}`:`/practice-group/${e}?search=${m.searchTerm}`)}}return u.\u0275fac=function(m){return new(m||u)(i.LFG(T.eN),i.LFG(f.s))},u.\u0275prov=i.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},1959:(N,h,_)=>{"use strict";_.d(h,{n:()=>T});var v=_(4650),i=_(2487);let T=(()=>{class f{constructor(u){this.apiService=u}getAttachmentTypes(u){return this.apiService.get(""==u.searchTerm?`/attachment-type?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}`:`/attachment-type?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}&search=${u.searchTerm}`)}addAttachmentType(u){return this.apiService.post("/attachment-type",u)}getAttachmentTypeById(u){return this.apiService.get(`/attachment-type/${u}`)}deleteAttachmentType(u){return this.apiService.delete(`/attachment-type/${u}`)}updateAttachmentType(u,x){return this.apiService.patch(`/attachment-type/${u}`,x)}}return f.\u0275fac=function(u){return new(u||f)(v.LFG(i.s))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},9581:(N,h,_)=>{"use strict";_.d(h,{M:()=>T});var v=_(4650),i=_(2487);let T=(()=>{class f{constructor(u){this.apiService=u}getBaseRates(u){return this.apiService.get(""==u.searchTerm?`/base-rates?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}`:`/base-rates?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}&search=${u.searchTerm}`)}addBaseRates(u){return this.apiService.post("/base-rates",u)}getBaseRateById(u){return this.apiService.get(`/base-rates/${u}`)}deleteBaseRate(u){return this.apiService.delete(`/base-rates/${u}`)}updateBaseRate(u,x){return this.apiService.patch(`/base-rates/${u}`,x)}}return f.\u0275fac=function(u){return new(u||f)(v.LFG(i.s))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},6124:(N,h,_)=>{"use strict";_.d(h,{w:()=>T});var v=_(4650),i=_(2487);let T=(()=>{class f{constructor(u){this.apiService=u}getBillingFrequencies(u){return this.apiService.get(""==u.searchTerm?`/billing-frequency?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}`:`/billing-frequency?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}&search=${u.searchTerm}`)}addBillingFrequency(u){return this.apiService.post("/billing-frequency",u)}getBillingFrequencyById(u){return this.apiService.get(`/billing-frequency/${u}`)}deleteBillingFrequency(u){return this.apiService.delete(`/billing-frequency/${u}`)}updateBillingFrequency(u,x){return this.apiService.patch(`/billing-frequency/${u}`,x)}}return f.\u0275fac=function(u){return new(u||f)(v.LFG(i.s))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},3476:(N,h,_)=>{"use strict";_.d(h,{p:()=>T});var v=_(4650),i=_(2487);let T=(()=>{class f{constructor(u){this.apiService=u}getBillingMethods(u){return this.apiService.get(""==u.searchTerm?`/billing-method?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}`:`/billing-method?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}&search=${u.searchTerm}`)}addBillingMethod(u){return this.apiService.post("/billing-method",u)}getBillingMethodById(u){return this.apiService.get(`/billing-method/${u}`)}deleteBillingMethod(u){return this.apiService.delete(`/billing-method/${u}`)}updateBillingMethod(u,x){return this.apiService.patch(`/billing-method/${u}`,x)}}return f.\u0275fac=function(u){return new(u||f)(v.LFG(i.s))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},6134:(N,h,_)=>{"use strict";_.d(h,{O:()=>T});var v=_(4650),i=_(2487);let T=(()=>{class f{constructor(u){this.apiService=u}getBillingcurrencys(u){return this.apiService.get(""==u.searchTerm?`/billingcurrency?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}`:`/billingcurrency?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}&search=${u.searchTerm}`)}addBillingcurrencys(u){return this.apiService.post("/billingcurrency",u)}getBillingcurrencyById(u){return this.apiService.get(`/billingcurrency/${u}`)}deleteBillingcurrency(u){return this.apiService.delete(`/billingcurrency/${u}`)}updateBillingcurrency(u,x){return this.apiService.patch(`/billingcurrency/${u}`,x)}}return f.\u0275fac=function(u){return new(u||f)(v.LFG(i.s))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},3196:(N,h,_)=>{"use strict";_.d(h,{y:()=>E});var v=_(2340),i=_(4650),T=_(529),f=_(2487);let E=(()=>{class u{constructor(m,e){this.http=m,this.apiService=e,this.url=v.N.backendUrl}getClients(m){return this.apiService.get(""==m.searchTerm?`/clients?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}`:`/clients?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`)}getClientForExcelDownload(m){return this.apiService.getBlob(""==m.searchTerm?"/clients/download?sortBy="+m.sortColumn+":"+m.sortDirection:`/clients/download?sortBy=${m.sortColumn+":"+m.sortDirection}&search=${m.searchTerm}`)}getDeletedClients(m){return this.apiService.get(""==m.searchTerm?`/clients?isDelete=true&sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}`:`/clients?isDelete=true&sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`)}getClientCSV(){return this.apiService.get("/clients/bulk/csv/data")}getClientById(m){return this.apiService.get(`/clients/${m}`)}addNewClient(m){return this.apiService.post("/clients",m)}updateClient(m,e){return this.apiService.patch(`/clients/${m}`,e)}deleteClient(m){return this.apiService.delete("/clients/"+m)}getClientRoster(m,e){return this.apiService.get(`/clientRosters?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&matterNumber=${e}`)}}return u.\u0275fac=function(m){return new(m||u)(i.LFG(T.eN),i.LFG(f.s))},u.\u0275prov=i.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},5418:(N,h,_)=>{"use strict";_.d(h,{H:()=>T});var v=_(4650),i=_(2487);let T=(()=>{class f{constructor(u){this.apiService=u}getHourlyBillings(u){return this.apiService.get(""==u.searchTerm?`/hourly-billings?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}`:`/hourly-billings?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}&search=${u.searchTerm}`)}addHourlyBillings(u){return this.apiService.post("/hourly-billings",u)}getHourlyBillingById(u){return this.apiService.get(`/hourly-billings/${u}`)}deleteHourlyBilling(u){return this.apiService.delete(`/hourly-billings/${u}`)}updateHourlyBilling(u,x){return this.apiService.patch(`/hourly-billings/${u}`,x)}}return f.\u0275fac=function(u){return new(u||f)(v.LFG(i.s))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},8530:(N,h,_)=>{"use strict";_.d(h,{W:()=>T});var v=_(4650),i=_(2487);let T=(()=>{class f{constructor(u){this.apiService=u}getPayorTypes(u){return this.apiService.get(""==u.searchTerm?`/payor-type?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}`:`/payor-type?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}&search=${u.searchTerm}`)}addPayorType(u){return this.apiService.post("/payor-type",u)}getPayorTypeById(u){return this.apiService.get(`/payor-type/${u}`)}deletePayorType(u){return this.apiService.delete(`/payor-type/${u}`)}updatePayorType(u,x){return this.apiService.patch(`/payor-type/${u}`,x)}}return f.\u0275fac=function(u){return new(u||f)(v.LFG(i.s))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},9867:(N,h,_)=>{"use strict";_.d(h,{S:()=>T});var v=_(4650),i=_(2487);let T=(()=>{class f{constructor(u){this.apiService=u}getSICCodes(u){return this.apiService.get(""==u.searchTerm?`/sic-code?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}`:`/sic-code?sortBy=${u.sortColumn+":"+u.sortDirection}&limit=${u.limit}&page=${u.page}&search=${u.searchTerm}`)}addSICCode(u){return this.apiService.post("/sic-code",u)}getSICCodeById(u){return this.apiService.get(`/sic-code/${u}`)}deleteSICCode(u){return this.apiService.delete(`/sic-code/${u}`)}updateSICCode(u,x){return this.apiService.patch(`/sic-code/${u}`,x)}}return f.\u0275fac=function(u){return new(u||f)(v.LFG(i.s))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},7441:(N,h,_)=>{"use strict";_.d(h,{x:()=>E});var v=_(2340),i=_(4650),T=_(529),f=_(2487);let E=(()=>{class u{constructor(m,e){this.http=m,this.apiService=e,this.url=v.N.backendUrl}getStaffs(m){return this.apiService.get(""==m.searchTerm?`/staffs?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}`:`/staffs?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`)}getSearchStaffs(m,e){return this.apiService.post(""==m.searchTerm?`/staffs/search?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}`:`/staffs/search?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`,{responsibleBillingManagerId:e})}addMember(m){return this.apiService.post("/staffs",m)}updateMember(m,e){return this.apiService.patch(`/staffs/${m}`,e)}getStaffById(m){return this.apiService.get("/staffs/"+m)}deleteUser(m){return this.apiService.delete("/staffs/"+m)}getActivity(m){return this.apiService.get(""==m.searchTerm?`/staffs/activity/all?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}`:`/staffs/activity/all?sortBy=${m.sortColumn+":"+m.sortDirection}&limit=${m.limit}&page=${m.page}&search=${m.searchTerm}`)}}return u.\u0275fac=function(m){return new(m||u)(i.LFG(T.eN),i.LFG(f.s))},u.\u0275prov=i.Yz7({token:u,factory:u.\u0275fac}),u})()},4221:(N,h,_)=>{"use strict";_.d(h,{j:()=>v.j});var v=_(8260)},8260:(N,h,_)=>{"use strict";_.d(h,{j:()=>T});var v=_(4650);const i={asc:"desc",desc:"asc","":"asc"};let T=(()=>{class f{constructor(){this.direction="",this.sort=new v.vpe}ngOnChanges(u){this.sortable!==u?.oldColumn?.currentValue&&u?.oldColumn?.currentValue!==u?.oldColumn?.previousValue&&(this.direction="")}rotate(){this.direction=i[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return f.\u0275fac=function(u){return new(u||f)},f.\u0275dir=v.lG2({type:f,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(u,x){1&u&&v.NdJ("click",function(){return x.rotate()}),2&u&&v.ekj("asc","asc"===x.direction)("desc","desc"===x.direction)},inputs:{sortable:"sortable",oldColumn:"oldColumn",direction:"direction"},outputs:{sort:"sort"},exportAs:["NgbdSortableHeader"],features:[v.TTD]}),f})()},2558:(N,h,_)=>{"use strict";_.d(h,{S:()=>v});const v=(i,T="records")=>{const f=new Blob([i],{type:"application/octet-stream"}),E=window.URL.createObjectURL(f);let u=document.createElement("a");u.href=E,u.download=`${T}.xlsx`,document.body.appendChild(u),u.click(),document.body.removeChild(u)}},7253:(N,h,_)=>{"use strict";_.d(h,{Tj:()=>i.T}),_(6256);var i=_(4891)},8372:(N,h,_)=>{"use strict";_.d(h,{b:()=>f});var v=_(4049),i=_(4482),T=_(5403);function f(E,u=v.z){return(0,i.e)((x,m)=>{let e=null,W=null,ae=null;const A=()=>{if(e){e.unsubscribe(),e=null;const I=W;W=null,m.next(I)}};function le(){const I=ae+E,ce=u.now();if(ce<I)return e=this.schedule(void 0,I-ce),void m.add(e);A()}x.subscribe((0,T.x)(m,I=>{W=I,ae=u.now(),e||(e=u.schedule(le,E),m.add(e))},()=>{A(),m.complete()},void 0,()=>{W=e=null}))})}},8733:(N,h,_)=>{"use strict";_.d(h,{T:()=>u});var v=_(4482),i=_(5797),T=_(8189),f=_(3269),E=_(2076);function u(...x){const m=(0,f.yG)(x),e=(0,f._6)(x,1/0);return x=(0,i.k)(x),(0,v.e)((W,ae)=>{(0,T.J)(e)((0,E.D)([W,...x],m)).subscribe(ae)})}},2454:function(N){N.exports=function(){"use strict";var h={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const v=r=>{const o={};for(const a in r)o[r[a]]="swal2-"+r[a];return o},i=v(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),T=v(["success","warning","info","question","error"]),f="SweetAlert2:",u=r=>r.charAt(0).toUpperCase()+r.slice(1),x=r=>{console.warn(`${f} ${"object"==typeof r?r.join(" "):r}`)},m=r=>{console.error(`${f} ${r}`)},e=[],ae=(r,o)=>{(r=>{e.includes(r)||(e.push(r),x(r))})(`"${r}" is deprecated and will be removed in the next major release. Please use "${o}" instead.`)},A=r=>"function"==typeof r?r():r,le=r=>r&&"function"==typeof r.toPromise,I=r=>le(r)?r.toPromise():Promise.resolve(r),ce=r=>r&&Promise.resolve(r)===r,q=()=>document.body.querySelector(`.${i.container}`),ge=r=>{const o=q();return o?o.querySelector(r):null},R=r=>ge(`.${r}`),Z=()=>R(i.popup),pe=()=>R(i.icon),Ye=()=>R(i.title),ve=()=>R(i["html-container"]),Re=()=>R(i.image),Ze=()=>R(i["progress-steps"]),xe=()=>R(i["validation-message"]),z=()=>ge(`.${i.actions} .${i.confirm}`),se=()=>ge(`.${i.actions} .${i.cancel}`),re=()=>ge(`.${i.actions} .${i.deny}`),ue=()=>ge(`.${i.loader}`),_e=()=>R(i.actions),$e=()=>R(i.footer),ye=()=>R(i["timer-progress-bar"]),j=()=>R(i.close),ee=()=>{const r=Array.from(Z().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((a,n)=>{const l=parseInt(a.getAttribute("tabindex")),t=parseInt(n.getAttribute("tabindex"));return l>t?1:l<t?-1:0}),o=Array.from(Z().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(a=>"-1"!==a.getAttribute("tabindex"));return(r=>{const o=[];for(let a=0;a<r.length;a++)-1===o.indexOf(r[a])&&o.push(r[a]);return o})(r.concat(o)).filter(a=>L(a))},Q=()=>V(document.body,i.shown)&&!V(document.body,i["toast-shown"])&&!V(document.body,i["no-backdrop"]),$=()=>Z()&&V(Z(),i.toast),U={previousBodyPadding:null},k=(r,o)=>{if(r.textContent="",o){const n=(new DOMParser).parseFromString(o,"text/html");Array.from(n.querySelector("head").childNodes).forEach(l=>{r.appendChild(l)}),Array.from(n.querySelector("body").childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?r.appendChild(l.cloneNode(!0)):r.appendChild(l)})}},V=(r,o)=>{if(!o)return!1;const a=o.split(/\s+/);for(let n=0;n<a.length;n++)if(!r.classList.contains(a[n]))return!1;return!0},J=(r,o,a)=>{if(((r,o)=>{Array.from(r.classList).forEach(a=>{!Object.values(i).includes(a)&&!Object.values(T).includes(a)&&!Object.values(o.showClass).includes(a)&&r.classList.remove(a)})})(r,o),o.customClass&&o.customClass[a]){if("string"!=typeof o.customClass[a]&&!o.customClass[a].forEach)return void x(`Invalid type of customClass.${a}! Expected string or iterable object, got "${typeof o.customClass[a]}"`);D(r,o.customClass[a])}},Ce=(r,o)=>{if(!o)return null;switch(o){case"select":case"textarea":case"file":return r.querySelector(`.${i.popup} > .${i[o]}`);case"checkbox":return r.querySelector(`.${i.popup} > .${i.checkbox} input`);case"radio":return r.querySelector(`.${i.popup} > .${i.radio} input:checked`)||r.querySelector(`.${i.popup} > .${i.radio} input:first-child`);case"range":return r.querySelector(`.${i.popup} > .${i.range} input`);default:return r.querySelector(`.${i.popup} > .${i.input}`)}},we=r=>{if(r.focus(),"file"!==r.type){const o=r.value;r.value="",r.value=o}},qe=(r,o,a)=>{!r||!o||("string"==typeof o&&(o=o.split(/\s+/).filter(Boolean)),o.forEach(n=>{Array.isArray(r)?r.forEach(l=>{a?l.classList.add(n):l.classList.remove(n)}):a?r.classList.add(n):r.classList.remove(n)}))},D=(r,o)=>{qe(r,o,!0)},X=(r,o)=>{qe(r,o,!1)},ne=(r,o)=>{const a=Array.from(r.children);for(let n=0;n<a.length;n++){const l=a[n];if(l instanceof HTMLElement&&V(l,o))return l}},me=(r,o,a)=>{a===`${parseInt(a)}`&&(a=parseInt(a)),a||0===parseInt(a)?r.style[o]="number"==typeof a?`${a}px`:a:r.style.removeProperty(o)},O=function(r){r.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},B=r=>{r.style.display="none"},ie=(r,o,a,n)=>{const l=r.querySelector(o);l&&(l.style[a]=n)},Te=function(r,o){o?O(r,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):B(r)},L=r=>!(!r||!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)),ke=r=>r.scrollHeight>r.clientHeight,Je=r=>{const o=window.getComputedStyle(r),a=parseFloat(o.getPropertyValue("animation-duration")||"0"),n=parseFloat(o.getPropertyValue("transition-duration")||"0");return a>0||n>0},Me=function(r){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=ye();L(a)&&(o&&(a.style.transition="none",a.style.width="100%"),setTimeout(()=>{a.style.transition=`width ${r/1e3}s linear`,a.style.width="0%"},10))},F={},it=r=>new Promise(o=>{if(!r)return o();const a=window.scrollX,n=window.scrollY;F.restoreFocusTimeout=setTimeout(()=>{F.previousActiveElement instanceof HTMLElement?(F.previousActiveElement.focus(),F.previousActiveElement=null):document.body&&document.body.focus(),o()},100),window.scrollTo(a,n)}),Le=()=>typeof window>"u"||typeof document>"u",p=`\n <div aria-labelledby="${i.title}" aria-describedby="${i["html-container"]}" class="${i.popup}" tabindex="-1">\n   <button type="button" class="${i.close}"></button>\n   <ul class="${i["progress-steps"]}"></ul>\n   <div class="${i.icon}"></div>\n   <img class="${i.image}" />\n   <h2 class="${i.title}" id="${i.title}"></h2>\n   <div class="${i["html-container"]}" id="${i["html-container"]}"></div>\n   <input class="${i.input}" />\n   <input type="file" class="${i.file}" />\n   <div class="${i.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${i.select}"></select>\n   <div class="${i.radio}"></div>\n   <label for="${i.checkbox}" class="${i.checkbox}">\n     <input type="checkbox" />\n     <span class="${i.label}"></span>\n   </label>\n   <textarea class="${i.textarea}"></textarea>\n   <div class="${i["validation-message"]}" id="${i["validation-message"]}"></div>\n   <div class="${i.actions}">\n     <div class="${i.loader}"></div>\n     <button type="button" class="${i.confirm}"></button>\n     <button type="button" class="${i.deny}"></button>\n     <button type="button" class="${i.cancel}"></button>\n   </div>\n   <div class="${i.footer}"></div>\n   <div class="${i["timer-progress-bar-container"]}">\n     <div class="${i["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),c=()=>{F.currentInstance.resetValidationMessage()},rt=r=>{const o=(()=>{const r=q();return!!r&&(r.remove(),X([document.documentElement,document.body],[i["no-backdrop"],i["toast-shown"],i["has-column"]]),!0)})();if(Le())return void m("SweetAlert2 requires document to initialize");const a=document.createElement("div");a.className=i.container,o&&D(a,i["no-transition"]),k(a,p);const n=(r=>"string"==typeof r?document.querySelector(r):r)(r.target);n.appendChild(a),(r=>{const o=Z();o.setAttribute("role",r.toast?"alert":"dialog"),o.setAttribute("aria-live",r.toast?"polite":"assertive"),r.toast||o.setAttribute("aria-modal","true")})(r),(r=>{"rtl"===window.getComputedStyle(r).direction&&D(q(),i.rtl)})(n),(()=>{const r=Z(),o=ne(r,i.input),a=ne(r,i.file),n=r.querySelector(`.${i.range} input`),l=r.querySelector(`.${i.range} output`),t=ne(r,i.select),s=r.querySelector(`.${i.checkbox} input`),d=ne(r,i.textarea);o.oninput=c,a.onchange=c,t.onchange=c,s.onchange=c,d.oninput=c,n.oninput=()=>{c(),l.value=n.value},n.onchange=()=>{c(),l.value=n.value}})()},Oe=(r,o)=>{r instanceof HTMLElement?o.appendChild(r):"object"==typeof r?ot(r,o):r&&k(o,r)},ot=(r,o)=>{r.jquery?at(o,r):k(o,r.toString())},at=(r,o)=>{if(r.textContent="",0 in o)for(let a=0;a in o;a++)r.appendChild(o[a].cloneNode(!0));else r.appendChild(o.cloneNode(!0))},fe=(()=>{if(Le())return!1;const r=document.createElement("div"),o={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)&&typeof r.style[a]<"u")return o[a];return!1})(),st=(r,o)=>{const a=_e(),n=ue();o.showConfirmButton||o.showDenyButton||o.showCancelButton?O(a):B(a),J(a,o,"actions"),function dt(r,o,a){const n=z(),l=re(),t=se();Pe(n,"confirm",a),Pe(l,"deny",a),Pe(t,"cancel",a),function ct(r,o,a,n){n.buttonsStyling?(D([r,o,a],i.styled),n.confirmButtonColor&&(r.style.backgroundColor=n.confirmButtonColor,D(r,i["default-outline"])),n.denyButtonColor&&(o.style.backgroundColor=n.denyButtonColor,D(o,i["default-outline"])),n.cancelButtonColor&&(a.style.backgroundColor=n.cancelButtonColor,D(a,i["default-outline"]))):X([r,o,a],i.styled)}(n,l,t,a),a.reverseButtons&&(a.toast?(r.insertBefore(t,n),r.insertBefore(l,n)):(r.insertBefore(t,o),r.insertBefore(l,o),r.insertBefore(n,o)))}(a,n,o),k(n,o.loaderHtml),J(n,o,"loader")};function Pe(r,o,a){Te(r,a[`show${u(o)}Button`],"inline-block"),k(r,a[`${o}ButtonText`]),r.setAttribute("aria-label",a[`${o}ButtonAriaLabel`]),r.className=i[o],J(r,a,`${o}Button`),D(r,a[`${o}ButtonClass`])}const he=(r,o)=>{const a=q();!a||(function zt(r,o){"string"==typeof o?r.style.background=o:o||D([document.documentElement,document.body],i["no-backdrop"])}(a,o.backdrop),function Xt(r,o){o in i?D(r,i[o]):(x('The "position" parameter is not valid, defaulting to "center"'),D(r,i.center))}(a,o.position),function en(r,o){if(o&&"string"==typeof o){const a=`grow-${o}`;a in i&&D(r,i[a])}}(a,o.grow),J(a,o,"container"))};const tn=["input","file","range","select","radio","checkbox","textarea"],rn=r=>{if(!G[r.input])return void m(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${r.input}"`);const o=xt(r.input),a=G[r.input](o,r);O(o),r.inputAutoFocus&&setTimeout(()=>{we(a)})},an=(r,o)=>{const a=Ce(Z(),r);if(a){(r=>{for(let o=0;o<r.attributes.length;o++){const a=r.attributes[o].name;["type","value","style"].includes(a)||r.removeAttribute(a)}})(a);for(const n in o)a.setAttribute(n,o[n])}},ln=r=>{const o=xt(r.input);"object"==typeof r.customClass&&D(o,r.customClass.input)},mt=(r,o)=>{(!r.placeholder||o.inputPlaceholder)&&(r.placeholder=o.inputPlaceholder)},Ne=(r,o,a)=>{if(a.inputLabel){r.id=i.input;const n=document.createElement("label"),l=i["input-label"];n.setAttribute("for",r.id),n.className=l,"object"==typeof a.customClass&&D(n,a.customClass.inputLabel),n.innerText=a.inputLabel,o.insertAdjacentElement("beforebegin",n)}},xt=r=>ne(Z(),i[r]||i.input),je=(r,o)=>{["string","number"].includes(typeof o)?r.value=`${o}`:ce(o)||x(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof o}"`)},G={};G.text=G.email=G.password=G.number=G.tel=G.url=(r,o)=>(je(r,o.inputValue),Ne(r,r,o),mt(r,o),r.type=o.input,r),G.file=(r,o)=>(Ne(r,r,o),mt(r,o),r),G.range=(r,o)=>{const a=r.querySelector("input"),n=r.querySelector("output");return je(a,o.inputValue),a.type=o.input,je(n,o.inputValue),Ne(a,r,o),r},G.select=(r,o)=>{if(r.textContent="",o.inputPlaceholder){const a=document.createElement("option");k(a,o.inputPlaceholder),a.value="",a.disabled=!0,a.selected=!0,r.appendChild(a)}return Ne(r,r,o),r},G.radio=r=>(r.textContent="",r),G.checkbox=(r,o)=>{const a=Ce(Z(),"checkbox");a.value="1",a.id=i.checkbox,a.checked=Boolean(o.inputValue);const n=r.querySelector("span");return k(n,o.inputPlaceholder),a},G.textarea=(r,o)=>{je(r,o.inputValue),mt(r,o),Ne(r,r,o);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(Z()).width);new MutationObserver(()=>{const t=r.offsetWidth+(n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight))(r);Z().style.width=t>n?`${t}px`:null}).observe(r,{attributes:!0,attributeFilter:["style"]})}}),r};const sn=(r,o)=>{const a=ve();J(a,o,"htmlContainer"),o.html?(Oe(o.html,a),O(a,"block")):o.text?(a.textContent=o.text,O(a,"block")):B(a),((r,o)=>{const a=Z(),n=h.innerParams.get(r),l=!n||o.input!==n.input;tn.forEach(t=>{const s=ne(a,i[t]);an(t,o.inputAttributes),s.className=i[t],l&&B(s)}),o.input&&(l&&rn(o),ln(o))})(r,o)},yt=(r,o)=>{for(const a in T)o.icon!==a&&X(r,T[a]);D(r,T[o.icon]),pn(r,o),un(),J(r,o,"icon")},un=()=>{const r=Z(),o=window.getComputedStyle(r).getPropertyValue("background-color"),a=r.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<a.length;n++)a[n].style.backgroundColor=o},Ct=(r,o)=>{let n,a=r.innerHTML;o.iconHtml?n=Tt(o.iconHtml):"success"===o.icon?(n='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',a=a.replace(/ style=".*?"/g,"")):n="error"===o.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Tt({question:"?",warning:"!",info:"i"}[o.icon]),a.trim()!==n.trim()&&k(r,n)},pn=(r,o)=>{if(o.iconColor){r.style.color=o.iconColor,r.style.borderColor=o.iconColor;for(const a of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ie(r,a,"backgroundColor",o.iconColor);ie(r,".swal2-success-ring","borderColor",o.iconColor)}},Tt=r=>`<div class="${i["icon-content"]}">${r}</div>`,hn=(r,o)=>{r.className=`${i.popup} ${L(r)?o.showClass.popup:""}`,o.toast?(D([document.documentElement,document.body],i["toast-shown"]),D(r,i.toast)):D(r,i.modal),J(r,o,"popup"),"string"==typeof o.customClass&&D(r,o.customClass),o.icon&&D(r,i[`icon-${o.icon}`])},vn=r=>{const o=document.createElement("li");return D(o,i["progress-step"]),k(o,r),o},xn=r=>{const o=document.createElement("li");return D(o,i["progress-step-line"]),r.progressStepsDistance&&me(o,"width",r.progressStepsDistance),o},bt=(r,o)=>{((r,o)=>{const a=q(),n=Z();o.toast?(me(a,"width",o.width),n.style.width="100%",n.insertBefore(ue(),pe())):me(n,"width",o.width),me(n,"padding",o.padding),o.color&&(n.style.color=o.color),o.background&&(n.style.background=o.background),B(xe()),hn(n,o)})(0,o),he(0,o),((r,o)=>{const a=Ze();o.progressSteps&&0!==o.progressSteps.length?(O(a),a.textContent="",o.currentProgressStep>=o.progressSteps.length&&x("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.progressSteps.forEach((n,l)=>{const t=vn(n);if(a.appendChild(t),l===o.currentProgressStep&&D(t,i["active-progress-step"]),l!==o.progressSteps.length-1){const s=xn(o);a.appendChild(s)}})):B(a)})(0,o),((r,o)=>{const a=h.innerParams.get(r),n=pe();a&&o.icon===a.icon?(Ct(n,o),yt(n,o)):o.icon||o.iconHtml?o.icon&&-1===Object.keys(T).indexOf(o.icon)?(m(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${o.icon}"`),B(n)):(O(n),Ct(n,o),yt(n,o),D(n,o.showClass.icon)):B(n)})(r,o),((r,o)=>{const a=Re();o.imageUrl?(O(a,""),a.setAttribute("src",o.imageUrl),a.setAttribute("alt",o.imageAlt),me(a,"width",o.imageWidth),me(a,"height",o.imageHeight),a.className=i.image,J(a,o,"image")):B(a)})(0,o),((r,o)=>{const a=Ye();Te(a,o.title||o.titleText,"block"),o.title&&Oe(o.title,a),o.titleText&&(a.innerText=o.titleText),J(a,o,"title")})(0,o),((r,o)=>{const a=j();k(a,o.closeButtonHtml),J(a,o,"closeButton"),Te(a,o.showCloseButton),a.setAttribute("aria-label",o.closeButtonAriaLabel)})(0,o),sn(r,o),st(0,o),((r,o)=>{const a=$e();Te(a,o.footer),o.footer&&Oe(o.footer,a),J(a,o,"footer")})(0,o),"function"==typeof o.didRender&&o.didRender(Z())};function Ft(){const r=h.innerParams.get(this);if(!r)return;const o=h.domCache.get(this);B(o.loader),$()?r.icon&&O(pe()):Cn(o),X([o.popup,o.actions],i.loading),o.popup.removeAttribute("aria-busy"),o.popup.removeAttribute("data-loading"),o.confirmButton.disabled=!1,o.denyButton.disabled=!1,o.cancelButton.disabled=!1}const Cn=r=>{const o=r.popup.getElementsByClassName(r.loader.getAttribute("data-button-to-replace"));o.length?O(o[0],"inline-block"):!L(z())&&!L(re())&&!L(se())&&B(r.actions)};const Dt=()=>z()&&z().click(),be=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Et=r=>{r.keydownTarget&&r.keydownHandlerAdded&&(r.keydownTarget.removeEventListener("keydown",r.keydownHandler,{capture:r.keydownListenerCapture}),r.keydownHandlerAdded=!1)},gt=(r,o)=>{const a=ee();if(a.length)return(r+=o)===a.length?r=0:-1===r&&(r=a.length-1),void a[r].focus();Z().focus()},Zt=["ArrowRight","ArrowDown"],Zn=["ArrowLeft","ArrowUp"],wn=(r,o,a)=>{const n=h.innerParams.get(r);!n||o.isComposing||229===o.keyCode||(n.stopKeydownPropagation&&o.stopPropagation(),"Enter"===o.key?qn(r,o,n):"Tab"===o.key?Mn(o):[...Zt,...Zn].includes(o.key)?Un(o.key):"Escape"===o.key&&In(o,n,a))},qn=(r,o,a)=>{if(A(a.allowEnterKey)&&o.target&&r.getInput()&&o.target instanceof HTMLElement&&o.target.outerHTML===r.getInput().outerHTML){if(["textarea","file"].includes(a.input))return;Dt(),o.preventDefault()}},Mn=r=>{const o=r.target,a=ee();let n=-1;for(let l=0;l<a.length;l++)if(o===a[l]){n=l;break}gt(n,r.shiftKey?-1:1),r.stopPropagation(),r.preventDefault()},Un=r=>{const o=z(),a=re(),n=se();if(document.activeElement instanceof HTMLElement&&![o,a,n].includes(document.activeElement))return;const t=Zt.includes(r)?"nextElementSibling":"previousElementSibling";let s=document.activeElement;for(let d=0;d<_e().children.length;d++){if(s=s[t],!s)return;if(s instanceof HTMLButtonElement&&L(s))break}s instanceof HTMLButtonElement&&s.focus()},In=(r,o,a)=>{A(o.allowEscapeKey)&&(r.preventDefault(),a(be.esc))};var Se={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const wt=()=>{Array.from(document.body.children).forEach(o=>{o.hasAttribute("data-previous-aria-hidden")?(o.setAttribute("aria-hidden",o.getAttribute("data-previous-aria-hidden")),o.removeAttribute("data-previous-aria-hidden")):o.removeAttribute("aria-hidden")})},Nn=()=>{const r=navigator.userAgent,o=!!r.match(/iPad/i)||!!r.match(/iPhone/i),a=!!r.match(/WebKit/i);o&&a&&!r.match(/CriOS/i)&&Z().scrollHeight>window.innerHeight-44&&(q().style.paddingBottom="44px")},Sn=()=>{const r=q();let o;r.ontouchstart=a=>{o=Bn(a)},r.ontouchmove=a=>{o&&(a.preventDefault(),a.stopPropagation())}},Bn=r=>{const o=r.target,a=q();return!Yn(r)&&!Rn(r)&&(o===a||!ke(a)&&o instanceof HTMLElement&&"INPUT"!==o.tagName&&"TEXTAREA"!==o.tagName&&!(ke(ve())&&ve().contains(o)))},Yn=r=>r.touches&&r.touches.length&&"stylus"===r.touches[0].touchType,Rn=r=>r.touches&&r.touches.length>1,kn=()=>{null===U.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(U.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${U.previousBodyPadding+(()=>{const r=document.createElement("div");r.className=i["scrollbar-measure"],document.body.appendChild(r);const o=r.getBoundingClientRect().width-r.clientWidth;return document.body.removeChild(r),o})()}px`)};function qt(r,o,a,n){$()?Mt(r,n):(it(a).then(()=>Mt(r,n)),Et(F)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(o.setAttribute("style","display:none !important"),o.removeAttribute("class"),o.innerHTML=""):o.remove(),Q()&&(null!==U.previousBodyPadding&&(document.body.style.paddingRight=`${U.previousBodyPadding}px`,U.previousBodyPadding=null),(()=>{if(V(document.body,i.iosfix)){const r=parseInt(document.body.style.top,10);X(document.body,i.iosfix),document.body.style.top="",document.body.scrollTop=-1*r}})(),wt()),function Ln(){X([document.documentElement,document.body],[i.shown,i["height-auto"],i["no-backdrop"],i["toast-shown"]])}()}function Qe(r){r=Hn(r);const o=Se.swalPromiseResolve.get(this),a=Qn(this);this.isAwaitingPromise()?r.isDismissed||(Be(this),o(r)):a&&o(r)}const Qn=r=>{const o=Z();if(!o)return!1;const a=h.innerParams.get(r);if(!a||V(o,a.hideClass.popup))return!1;X(o,a.showClass.popup),D(o,a.hideClass.popup);const n=q();return X(n,a.showClass.backdrop),D(n,a.hideClass.backdrop),Gn(r,o,a),!0};const Be=r=>{r.isAwaitingPromise()&&(h.awaitingPromise.delete(r),h.innerParams.get(r)||r._destroy())},Hn=r=>typeof r>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},r),Gn=(r,o,a)=>{const n=q(),l=fe&&Je(o);"function"==typeof a.willClose&&a.willClose(o),l?Kn(r,o,n,a.returnFocus,a.didClose):qt(r,n,a.returnFocus,a.didClose)},Kn=(r,o,a,n,l)=>{F.swalCloseEventFinishedCallback=qt.bind(null,r,a,n,l),o.addEventListener(fe,function(t){t.target===o&&(F.swalCloseEventFinishedCallback(),delete F.swalCloseEventFinishedCallback)})},Mt=(r,o)=>{setTimeout(()=>{"function"==typeof o&&o.bind(r.params)(),r._destroy()})};function Ut(r,o,a){const n=h.domCache.get(r);o.forEach(l=>{n[l].disabled=a})}function It(r,o){if(r)if("radio"===r.type){const n=r.parentNode.parentNode.querySelectorAll("input");for(let l=0;l<n.length;l++)n[l].disabled=o}else r.disabled=o}const Fe={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ii=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ri={},oi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ot=r=>Object.prototype.hasOwnProperty.call(Fe,r),Pt=r=>-1!==ii.indexOf(r),pt=r=>ri[r],ai=r=>{Ot(r)||x(`Unknown parameter "${r}"`)},li=r=>{oi.includes(r)&&x(`The parameter "${r}" is incompatible with toasts`)},si=r=>{pt(r)&&ae(r,pt(r))};const ui=r=>{const o={};return Object.keys(r).forEach(a=>{Pt(a)?o[a]=r[a]:x(`Invalid parameter to update: ${a}`)}),o};const gi=r=>{Nt(r),delete r.params,delete F.keydownHandler,delete F.keydownTarget,delete F.currentInstance},Nt=r=>{r.isAwaitingPromise()?(_t(h,r),h.awaitingPromise.set(r,!0)):(_t(Se,r),_t(h,r))},_t=(r,o)=>{for(const a in r)r[a].delete(o)};var St=Object.freeze({__proto__:null,_destroy:function mi(){const r=h.domCache.get(this),o=h.innerParams.get(this);o?(r.popup&&F.swalCloseEventFinishedCallback&&(F.swalCloseEventFinishedCallback(),delete F.swalCloseEventFinishedCallback),"function"==typeof o.didDestroy&&o.didDestroy(),gi(this)):Nt(this)},close:Qe,closeModal:Qe,closePopup:Qe,closeToast:Qe,disableButtons:function zn(){Ut(this,["confirmButton","denyButton","cancelButton"],!0)},disableInput:function ei(){It(this.getInput(),!0)},disableLoading:Ft,enableButtons:function Wn(){Ut(this,["confirmButton","denyButton","cancelButton"],!1)},enableInput:function Xn(){It(this.getInput(),!1)},getInput:function Tn(r){const o=h.innerParams.get(r||this),a=h.domCache.get(r||this);return a?Ce(a.popup,o.input):null},handleAwaitingPromise:Be,hideLoading:Ft,isAwaitingPromise:function jn(){return!!h.awaitingPromise.get(this)},rejectPromise:function Vn(r){const o=Se.swalPromiseReject.get(this);Be(this),o&&o(r)},resetValidationMessage:function ni(){const r=h.domCache.get(this);r.validationMessage&&B(r.validationMessage);const o=this.getInput();o&&(o.removeAttribute("aria-invalid"),o.removeAttribute("aria-describedby"),X(o,i.inputerror))},showValidationMessage:function ti(r){const o=h.domCache.get(this),a=h.innerParams.get(this);k(o.validationMessage,r),o.validationMessage.className=i["validation-message"],a.customClass&&a.customClass.validationMessage&&D(o.validationMessage,a.customClass.validationMessage),O(o.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid",!0),n.setAttribute("aria-describedby",i["validation-message"]),we(n),D(n,i.inputerror))},update:function ci(r){const o=Z(),a=h.innerParams.get(this);if(!o||V(o,a.hideClass.popup))return void x("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const n=ui(r),l=Object.assign({},a,n);bt(this,l),h.innerParams.set(this,l),Object.defineProperties(this,{params:{value:Object.assign({},this.params,r),writable:!1,enumerable:!0}})}});const De=r=>{let o=Z();o||new He,o=Z();const a=ue();$()?B(pe()):pi(o,r),O(a),o.setAttribute("data-loading","true"),o.setAttribute("aria-busy","true"),o.focus()},pi=(r,o)=>{const a=_e(),n=ue();!o&&L(z())&&(o=z()),O(a),o&&(B(o),n.setAttribute("data-button-to-replace",o.className)),n.parentNode.insertBefore(n,o),D([r,a],i.loading)},hi=r=>r.checked?1:0,Ai=r=>r.checked?r.value:null,vi=r=>r.files.length?null!==r.getAttribute("multiple")?r.files:r.files[0]:null,xi=(r,o)=>{const a=Z(),n=l=>{Ci[o.input](a,ft(l),o)};le(o.inputOptions)||ce(o.inputOptions)?(De(z()),I(o.inputOptions).then(l=>{r.hideLoading(),n(l)})):"object"==typeof o.inputOptions?n(o.inputOptions):m("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof o.inputOptions)},yi=(r,o)=>{const a=r.getInput();B(a),I(o.inputValue).then(n=>{a.value="number"===o.input?`${parseFloat(n)||0}`:`${n}`,O(a),a.focus(),r.hideLoading()}).catch(n=>{m(`Error in inputValue promise: ${n}`),a.value="",O(a),a.focus(),r.hideLoading()})},Ci={select:(r,o,a)=>{const n=ne(r,i.select),l=(t,s,d)=>{const g=document.createElement("option");g.value=d,k(g,s),g.selected=Bt(d,a.inputValue),t.appendChild(g)};o.forEach(t=>{const s=t[0],d=t[1];if(Array.isArray(d)){const g=document.createElement("optgroup");g.label=s,g.disabled=!1,n.appendChild(g),d.forEach(C=>l(g,C[1],C[0]))}else l(n,d,s)}),n.focus()},radio:(r,o,a)=>{const n=ne(r,i.radio);o.forEach(t=>{const s=t[0],d=t[1],g=document.createElement("input"),C=document.createElement("label");g.type="radio",g.name=i.radio,g.value=s,Bt(s,a.inputValue)&&(g.checked=!0);const Y=document.createElement("span");k(Y,d),Y.className=i.label,C.appendChild(g),C.appendChild(Y),n.appendChild(C)});const l=n.querySelectorAll("input");l.length&&l[0].focus()}},ft=r=>{const o=[];return typeof Map<"u"&&r instanceof Map?r.forEach((a,n)=>{let l=a;"object"==typeof l&&(l=ft(l)),o.push([n,l])}):Object.keys(r).forEach(a=>{let n=r[a];"object"==typeof n&&(n=ft(n)),o.push([a,n])}),o},Bt=(r,o)=>o&&o.toString()===r.toString(),Yt=(r,o)=>{const a=h.innerParams.get(r);if(!a.input)return void m(`The "input" parameter is needed to be set when using returnInputValueOn${u(o)}`);const n=((r,o)=>{const a=r.getInput();if(!a)return null;switch(o.input){case"checkbox":return hi(a);case"radio":return Ai(a);case"file":return vi(a);default:return o.inputAutoTrim?a.value.trim():a.value}})(r,a);a.inputValidator?Di(r,n,o):r.getInput().checkValidity()?"deny"===o?ht(r,n):At(r,n):(r.enableButtons(),r.showValidationMessage(a.validationMessage))},Di=(r,o,a)=>{const n=h.innerParams.get(r);r.disableInput(),Promise.resolve().then(()=>I(n.inputValidator(o,n.validationMessage))).then(t=>{r.enableButtons(),r.enableInput(),t?r.showValidationMessage(t):"deny"===a?ht(r,o):At(r,o)})},ht=(r,o)=>{const a=h.innerParams.get(r||void 0);a.showLoaderOnDeny&&De(re()),a.preDeny?(h.awaitingPromise.set(r||void 0,!0),Promise.resolve().then(()=>I(a.preDeny(o,a.validationMessage))).then(l=>{!1===l?(r.hideLoading(),Be(r)):r.close({isDenied:!0,value:typeof l>"u"?o:l})}).catch(l=>$t(r||void 0,l))):r.close({isDenied:!0,value:o})},Rt=(r,o)=>{r.close({isConfirmed:!0,value:o})},$t=(r,o)=>{r.rejectPromise(o)},At=(r,o)=>{const a=h.innerParams.get(r||void 0);a.showLoaderOnConfirm&&De(),a.preConfirm?(r.resetValidationMessage(),h.awaitingPromise.set(r||void 0,!0),Promise.resolve().then(()=>I(a.preConfirm(o,a.validationMessage))).then(l=>{L(xe())||!1===l?(r.hideLoading(),Be(r)):Rt(r,typeof l>"u"?o:l)}).catch(l=>$t(r||void 0,l))):Rt(r,o)},Zi=(r,o,a)=>{o.popup.onclick=()=>{const n=h.innerParams.get(r);n&&(wi(n)||n.timer||n.input)||a(be.close)}},wi=r=>r.showConfirmButton||r.showDenyButton||r.showCancelButton||r.showCloseButton;let Ve=!1;const qi=r=>{r.popup.onmousedown=()=>{r.container.onmouseup=function(o){r.container.onmouseup=void 0,o.target===r.container&&(Ve=!0)}}},Mi=r=>{r.container.onmousedown=()=>{r.popup.onmouseup=function(o){r.popup.onmouseup=void 0,(o.target===r.popup||r.popup.contains(o.target))&&(Ve=!0)}}},Ui=(r,o,a)=>{o.container.onclick=n=>{const l=h.innerParams.get(r);Ve?Ve=!1:n.target===o.container&&A(l.allowOutsideClick)&&a(be.backdrop)}},kt=r=>r instanceof Element||(r=>"object"==typeof r&&r.jquery)(r);const Jt=()=>{if(F.timeout)return(()=>{const r=ye(),o=parseInt(window.getComputedStyle(r).width);r.style.removeProperty("transition"),r.style.width="100%";const a=parseInt(window.getComputedStyle(r).width);r.style.width=o/a*100+"%"})(),F.timeout.stop()},Lt=()=>{if(F.timeout){const r=F.timeout.start();return Me(r),r}};let jt=!1;const vt={};const ki=r=>{for(let o=r.target;o&&o!==document;o=o.parentNode)for(const a in vt){const n=o.getAttribute(a);if(n)return void vt[a].fire({template:n})}};var Ji=Object.freeze({__proto__:null,argsToParams:r=>{const o={};return"object"!=typeof r[0]||kt(r[0])?["title","html","icon"].forEach((a,n)=>{const l=r[n];"string"==typeof l||kt(l)?o[a]=l:void 0!==l&&m(`Unexpected type of ${a}! Expected "string" or "Element", got ${typeof l}`)}):Object.assign(o,r[0]),o},bindClickHandler:function $i(){vt[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,jt||(document.body.addEventListener("click",ki),jt=!0)},clickCancel:()=>se()&&se().click(),clickConfirm:Dt,clickDeny:()=>re()&&re().click(),enableLoading:De,fire:function Pi(){const r=this;for(var o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];return new r(...a)},getActions:_e,getCancelButton:se,getCloseButton:j,getConfirmButton:z,getContainer:q,getDenyButton:re,getFocusableElements:ee,getFooter:$e,getHtmlContainer:ve,getIcon:pe,getIconContent:()=>R(i["icon-content"]),getImage:Re,getInputLabel:()=>R(i["input-label"]),getLoader:ue,getPopup:Z,getProgressSteps:Ze,getTimerLeft:()=>F.timeout&&F.timeout.getTimerLeft(),getTimerProgressBar:ye,getTitle:Ye,getValidationMessage:xe,increaseTimer:r=>{if(F.timeout){const o=F.timeout.increase(r);return Me(o,!0),o}},isDeprecatedParameter:pt,isLoading:()=>Z().hasAttribute("data-loading"),isTimerRunning:()=>F.timeout&&F.timeout.isRunning(),isUpdatableParameter:Pt,isValidParameter:Ot,isVisible:()=>L(Z()),mixin:function Ni(r){return class o extends(this){_main(n,l){return super._main(n,Object.assign({},r,l))}}},resumeTimer:Lt,showLoading:De,stopTimer:Jt,toggleTimer:()=>{const r=F.timeout;return r&&(r.running?Jt():Lt())}});class Li{constructor(o,a){this.callback=o,this.remaining=a,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(o){const a=this.running;return a&&this.stop(),this.remaining+=o,a&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Qt=["swal-title","swal-html","swal-footer"],Qi=r=>{const o={};return Array.from(r.querySelectorAll("swal-param")).forEach(n=>{Ae(n,["name","value"]);const l=n.getAttribute("name"),t=n.getAttribute("value");o[l]="boolean"==typeof Fe[l]?"false"!==t:"object"==typeof Fe[l]?JSON.parse(t):t}),o},Vi=r=>{const o={};return Array.from(r.querySelectorAll("swal-function-param")).forEach(n=>{const l=n.getAttribute("name"),t=n.getAttribute("value");o[l]=new Function(`return ${t}`)()}),o},Hi=r=>{const o={};return Array.from(r.querySelectorAll("swal-button")).forEach(n=>{Ae(n,["type","color","aria-label"]);const l=n.getAttribute("type");o[`${l}ButtonText`]=n.innerHTML,o[`show${u(l)}Button`]=!0,n.hasAttribute("color")&&(o[`${l}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(o[`${l}ButtonAriaLabel`]=n.getAttribute("aria-label"))}),o},Gi=r=>{const o={},a=r.querySelector("swal-image");return a&&(Ae(a,["src","width","height","alt"]),a.hasAttribute("src")&&(o.imageUrl=a.getAttribute("src")),a.hasAttribute("width")&&(o.imageWidth=a.getAttribute("width")),a.hasAttribute("height")&&(o.imageHeight=a.getAttribute("height")),a.hasAttribute("alt")&&(o.imageAlt=a.getAttribute("alt"))),o},Ki=r=>{const o={},a=r.querySelector("swal-icon");return a&&(Ae(a,["type","color"]),a.hasAttribute("type")&&(o.icon=a.getAttribute("type")),a.hasAttribute("color")&&(o.iconColor=a.getAttribute("color")),o.iconHtml=a.innerHTML),o},Wi=r=>{const o={},a=r.querySelector("swal-input");a&&(Ae(a,["type","label","placeholder","value"]),o.input=a.getAttribute("type")||"text",a.hasAttribute("label")&&(o.inputLabel=a.getAttribute("label")),a.hasAttribute("placeholder")&&(o.inputPlaceholder=a.getAttribute("placeholder")),a.hasAttribute("value")&&(o.inputValue=a.getAttribute("value")));const n=Array.from(r.querySelectorAll("swal-input-option"));return n.length&&(o.inputOptions={},n.forEach(l=>{Ae(l,["value"]);const t=l.getAttribute("value");o.inputOptions[t]=l.innerHTML})),o},zi=(r,o)=>{const a={};for(const n in o){const l=o[n],t=r.querySelector(l);t&&(Ae(t,[]),a[l.replace(/^swal-/,"")]=t.innerHTML.trim())}return a},Xi=r=>{const o=Qt.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(r.children).forEach(a=>{const n=a.tagName.toLowerCase();o.includes(n)||x(`Unrecognized element <${n}>`)})},Ae=(r,o)=>{Array.from(r.attributes).forEach(a=>{-1===o.indexOf(a.name)&&x([`Unrecognized attribute "${a.name}" on <${r.tagName.toLowerCase()}>.`,o.length?`Allowed attributes are: ${o.join(", ")}`:"To set the value, use HTML within the element."])})},er=r=>{const o=q(),a=Z();"function"==typeof r.willOpen&&r.willOpen(a);const l=window.getComputedStyle(document.body).overflowY;nr(o,a,r),setTimeout(()=>{tr(o,a)},10),Q()&&(Gt(o,r.scrollbarPadding,l),Array.from(document.body.children).forEach(o=>{o===q()||o.contains(q())||(o.hasAttribute("aria-hidden")&&o.setAttribute("data-previous-aria-hidden",o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))})),!$()&&!F.previousActiveElement&&(F.previousActiveElement=document.activeElement),"function"==typeof r.didOpen&&setTimeout(()=>r.didOpen(a)),X(o,i["no-transition"])},Ht=r=>{const o=Z();if(r.target!==o)return;const a=q();o.removeEventListener(fe,Ht),a.style.overflowY="auto"},tr=(r,o)=>{fe&&Je(o)?(r.style.overflowY="hidden",o.addEventListener(fe,Ht)):r.style.overflowY="auto"},Gt=(r,o,a)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!V(document.body,i.iosfix)){const o=document.body.scrollTop;document.body.style.top=-1*o+"px",D(document.body,i.iosfix),Sn(),Nn()}})(),o&&"hidden"!==a&&kn(),setTimeout(()=>{r.scrollTop=0})},nr=(r,o,a)=>{D(r,a.showClass.backdrop),o.style.setProperty("opacity","0","important"),O(o,"grid"),setTimeout(()=>{D(o,a.showClass.popup),o.style.removeProperty("opacity")},10),D([document.documentElement,document.body],i.shown),a.heightAuto&&a.backdrop&&!a.toast&&D([document.documentElement,document.body],i["height-auto"])};var Kt={email:(r,o)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(r)?Promise.resolve():Promise.resolve(o||"Invalid email address"),url:(r,o)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(r)?Promise.resolve():Promise.resolve(o||"Invalid URL")};function or(r){(function ir(r){r.inputValidator||Object.keys(Kt).forEach(o=>{r.input===o&&(r.inputValidator=Kt[o])})})(r),r.showLoaderOnConfirm&&!r.preConfirm&&x("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function rr(r){(!r.target||"string"==typeof r.target&&!document.querySelector(r.target)||"string"!=typeof r.target&&!r.target.appendChild)&&(x('Target parameter is not valid, defaulting to "body"'),r.target="body")}(r),"string"==typeof r.title&&(r.title=r.title.split("\n").join("<br />")),rt(r)}let oe;class Ee{constructor(){if(typeof window>"u")return;oe=this;for(var o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];const l=Object.freeze(this.constructor.argsToParams(a));Object.defineProperties(this,{params:{value:l,writable:!1,enumerable:!0,configurable:!0}});const t=oe._main(oe.params);h.promise.set(this,t)}_main(o){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(r=>{!1===r.backdrop&&r.allowOutsideClick&&x('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const o in r)ai(o),r.toast&&li(o),si(o)})(Object.assign({},a,o)),F.currentInstance&&(F.currentInstance._destroy(),Q()&&wt()),F.currentInstance=oe;const n=lr(o,a);or(n),Object.freeze(n),F.timeout&&(F.timeout.stop(),delete F.timeout),clearTimeout(F.restoreFocusTimeout);const l=sr(oe);return bt(oe,n),h.innerParams.set(oe,n),ar(oe,l,n)}then(o){return h.promise.get(this).then(o)}finally(o){return h.promise.get(this).finally(o)}}const ar=(r,o,a)=>new Promise((n,l)=>{const t=s=>{r.close({isDismissed:!0,dismiss:s})};Se.swalPromiseResolve.set(r,n),Se.swalPromiseReject.set(r,l),o.confirmButton.onclick=()=>{(r=>{const o=h.innerParams.get(r);r.disableButtons(),o.input?Yt(r,"confirm"):At(r,!0)})(r)},o.denyButton.onclick=()=>{(r=>{const o=h.innerParams.get(r);r.disableButtons(),o.returnInputValueOnDeny?Yt(r,"deny"):ht(r,!1)})(r)},o.cancelButton.onclick=()=>{((r,o)=>{r.disableButtons(),o(be.cancel)})(r,t)},o.closeButton.onclick=()=>{t(be.close)},((r,o,a)=>{h.innerParams.get(r).toast?Zi(r,o,a):(qi(o),Mi(o),Ui(r,o,a))})(r,o,t),((r,o,a,n)=>{Et(o),a.toast||(o.keydownHandler=l=>wn(r,l,n),o.keydownTarget=a.keydownListenerCapture?window:Z(),o.keydownListenerCapture=a.keydownListenerCapture,o.keydownTarget.addEventListener("keydown",o.keydownHandler,{capture:o.keydownListenerCapture}),o.keydownHandlerAdded=!0)})(r,F,a,t),((r,o)=>{"select"===o.input||"radio"===o.input?xi(r,o):["text","email","number","tel","textarea"].includes(o.input)&&(le(o.inputValue)||ce(o.inputValue))&&(De(z()),yi(r,o))})(r,a),er(a),dr(F,a,t),cr(o,a),setTimeout(()=>{o.container.scrollTop=0})}),lr=(r,o)=>{const a=(r=>{const o="string"==typeof r.template?document.querySelector(r.template):r.template;if(!o)return{};const a=o.content;return Xi(a),Object.assign(Qi(a),Vi(a),Hi(a),Gi(a),Ki(a),Wi(a),zi(a,Qt))})(r),n=Object.assign({},Fe,o,a,r);return n.showClass=Object.assign({},Fe.showClass,n.showClass),n.hideClass=Object.assign({},Fe.hideClass,n.hideClass),n},sr=r=>{const o={popup:Z(),container:q(),actions:_e(),confirmButton:z(),denyButton:re(),cancelButton:se(),loader:ue(),closeButton:j(),validationMessage:xe(),progressSteps:Ze()};return h.domCache.set(r,o),o},dr=(r,o,a)=>{const n=ye();B(n),o.timer&&(r.timeout=new Li(()=>{a("timer"),delete r.timeout},o.timer),o.timerProgressBar&&(O(n),J(n,o,"timerProgressBar"),setTimeout(()=>{r.timeout&&r.timeout.running&&Me(o.timer)})))},cr=(r,o)=>{if(!o.toast){if(!A(o.allowEnterKey))return void mr();ur(r,o)||gt(-1,1)}},ur=(r,o)=>o.focusDeny&&L(r.denyButton)?(r.denyButton.focus(),!0):o.focusCancel&&L(r.cancelButton)?(r.cancelButton.focus(),!0):!(!o.focusConfirm||!L(r.confirmButton)||(r.confirmButton.focus(),0)),mr=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const r=new Date,o=localStorage.getItem("swal-initiation");o?(r.getTime()-Date.parse(o))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const a=document.createElement("audio");a.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",a.loop=!0,document.body.appendChild(a),setTimeout(()=>{a.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${r}`)}Object.assign(Ee.prototype,St),Object.assign(Ee,Ji),Object.keys(St).forEach(r=>{Ee[r]=function(){if(oe)return oe[r](...arguments)}}),Ee.DismissReason=be,Ee.version="11.7.2";const He=Ee;return He.default=He,He}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2)}}]);