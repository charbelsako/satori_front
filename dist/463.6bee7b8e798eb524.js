"use strict";(self.webpackChunktest_ng7=self.webpackChunktest_ng7||[]).push([[463,161],{9867:(S,_,s)=>{s.d(_,{S:()=>e});var i=s(4650),m=s(2487);let e=(()=>{class a{constructor(c){this.apiService=c}getSICCodes(c){return this.apiService.get(""==c.searchTerm?`/sic-code?sortBy=${c.sortColumn+":"+c.sortDirection}&limit=${c.limit}&page=${c.page}`:`/sic-code?sortBy=${c.sortColumn+":"+c.sortDirection}&limit=${c.limit}&page=${c.page}&search=${c.searchTerm}`)}addSICCode(c){return this.apiService.post("/sic-code",c)}getSICCodeById(c){return this.apiService.get(`/sic-code/${c}`)}deleteSICCode(c){return this.apiService.delete(`/sic-code/${c}`)}updateSICCode(c,p){return this.apiService.patch(`/sic-code/${c}`,p)}}return a.\u0275fac=function(c){return new(c||a)(i.LFG(m.s))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},1463:(S,_,s)=>{s.r(_),s.d(_,{SICCodeModule:()=>te});var i=s(6895),m=s(7750),e=s(4650),a=s(4006),C=s(4903);const c=/^[a-zA-Z0-9_]+([ a-zA-Z0-9_,;]+)*$/,p=/^[a-zA-Z0-9_-]+([a-zA-Z0-9_-]+)*$/,g={alphaNumericError:"only alpha numeric values are allowed"};function u(o){return c.test(o.value)?null:g}function h(o){return p.test(o.value)?null:g}var b=s(6170),A=s.n(b),v=s(9867),x=s(8161);function Z(o,r){1&o&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"span",9),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function M(o,r){1&o&&(e.TgZ(0,"span",22),e._uU(1," *Code No is required. "),e.qZA())}function y(o,r){1&o&&(e.TgZ(0,"span",22),e._uU(1," *Only Apha Numeric is required. "),e.qZA())}function F(o,r){if(1&o&&e.YNc(0,y,2,0,"span",23),2&o){const t=e.oxw(3);e.Q6J("ngIf",null==t.addEditForm.controls.code.errors?null:t.addEditForm.controls.code.errors.alphaNumericError)}}function J(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,M,2,0,"span",20),e.YNc(2,F,1,1,"ng-template",null,21,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==n.addEditForm.controls.code.errors?null:n.addEditForm.controls.code.errors.required)("ngIfElse",t)}}function N(o,r){1&o&&(e.TgZ(0,"span",22),e._uU(1," *Description is required. "),e.qZA())}function U(o,r){1&o&&(e.TgZ(0,"span",22),e._uU(1," *Only Apha Numeric is required. "),e.qZA())}function O(o,r){if(1&o&&e.YNc(0,U,2,0,"span",23),2&o){const t=e.oxw(3);e.Q6J("ngIf",null==t.addEditForm.controls.description.errors?null:t.addEditForm.controls.description.errors.alphaNumericError)}}function L(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,N,2,0,"span",20),e.YNc(2,O,1,1,"ng-template",null,24,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==n.addEditForm.controls.description.errors?null:n.addEditForm.controls.description.errors.required)("ngIfElse",t)}}function Q(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const d=e.oxw(2);return e.KtG(d.onUpdate())}),e._uU(1,"Update SIC Code"),e.qZA()}}function Y(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const d=e.oxw(2);return e.KtG(d.onSubmit())}),e._uU(1,"Add SIC Code"),e.qZA()}}function q(o,r){if(1&o&&(e.TgZ(0,"form",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"label",14),e._uU(5,"Code *"),e.qZA(),e._UZ(6,"input",15),e.YNc(7,J,4,2,"div",5),e.qZA()(),e.TgZ(8,"div",12)(9,"div",13)(10,"label",14),e._uU(11,"Description *"),e.qZA(),e._UZ(12,"input",16),e.YNc(13,L,4,2,"div",5),e.qZA()()(),e.TgZ(14,"div",17),e.YNc(15,Q,2,0,"button",18),e.YNc(16,Y,2,0,"button",18),e.TgZ(17,"button",19),e._uU(18,"Cancel"),e.qZA()()()),2&o){const t=e.oxw();e.Q6J("formGroup",t.addEditForm),e.xp6(7),e.Q6J("ngIf",t.addEditForm.controls.code.errors&&(t.addEditForm.controls.code.dirty||t.addEditForm.controls.code.touched)),e.xp6(6),e.Q6J("ngIf",t.addEditForm.controls.description.errors&&(t.addEditForm.controls.description.dirty||t.addEditForm.controls.description.touched)),e.xp6(2),e.Q6J("ngIf",t.editForm),e.xp6(1),e.Q6J("ngIf",!t.editForm)}}let T=(()=>{class o{constructor(t,n,d,l){this.router=t,this.fb=n,this.route=d,this.sicCodeService=l,this.Editor=A(),this.editForm=!1,this.isLoading=!1,this.options=["Monthly","On Completion","Quarterly","Other"],this.newItemEvent=new e.vpe,this.route.params.subscribe(f=>{""!==f.tempId&&null!=f.tempId&&(this.tempId=f.tempId,this.editForm=!0,this.getSICCode(this.tempId))}),this.addEditForm=n.group({code:["",[a.kI.required,h]],description:["",[a.kI.required,u]]})}ngOnInit(){}getValue(t){return{...t}}getSICCode(t){this.isLoading=!0,this.sicCodeService.getSICCodeById(t).subscribe(n=>{this.addEditForm.patchValue({...this.getValue(n)}),this.isLoading=!1},n=>{this.isLoading=!1,this.router.navigate(["/data-mangement/sic-codes"])})}onSubmit(){this.addEditForm.valid?this.sicCodeService.addSICCode(this.addEditForm.value).subscribe(t=>{t&&(this.addEditForm.reset(),this.router.navigate(["/data-mangement/sic-codes"]))}):this.addEditForm.markAllAsTouched()}cancelEvent(){this.addEditForm.reset(),this.newItemEvent.emit()}onUpdate(){this.addEditForm.valid?this.sicCodeService.updateSICCode(this.tempId,this.addEditForm.value).subscribe(t=>{t&&(this.addEditForm.reset(),this.router.navigate(["/data-mangement/sic-codes"]))}):this.addEditForm.markAllAsTouched()}onReady(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.F0),e.Y36(a.qu),e.Y36(m.gz),e.Y36(v.S))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-edit-sic-code"]],outputs:{newItemEvent:"newItemEvent"},decls:9,vars:7,consts:[[3,"previousHeading","previousLink","heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-header"],[1,"card-body"],[4,"ngIf"],["novalidate","",3,"formGroup",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group","mb-2"],[1,"bmd-label-floating"],["formControlName","code","type","text",1,"form-control"],["formControlName","description","type","text",1,"form-control"],[1,"form-group","mb-2","py-2"],["type","button","class","btn btn-info",3,"click",4,"ngIf"],["type","button","routerLink","/data-mangement/sic-codes",1,"btn","btn-secondary"],["class"," text-danger error",4,"ngIf","ngIfElse"],["alphaNumericErrorCode",""],[1,"text-danger","error"],["class"," text-danger error",4,"ngIf"],["alphaNumericErrorDescription",""],["type","button",1,"btn","btn-info",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3),e._uU(5," SIC Code "),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,Z,5,0,"ng-container",5),e.YNc(8,q,19,5,"form",6),e.qZA()()()()),2&t&&(e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("previousHeading","SIC Codes")("previousLink","sic-codes")("heading","Add | Edit SIC Code"),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(5),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading))},dependencies:[i.O5,m.rH,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,x.q],styles:[".ck.ck-content[_ngcontent-%COMP%]{border:2px solid #707070!important}"],data:{animation:[(0,C.Z9)()]}}),o})();var E=s(4221),w=s(7579),P=s(8372),H=s(1884),D=s(7253),R=s(4304),I=s(6393);function k(o,r){1&o&&(e.TgZ(0,"button",13),e._uU(1,"Add SIC Code"),e.qZA())}function G(o,r){1&o&&(e.ynx(0),e.TgZ(1,"div",14)(2,"div",15)(3,"span",16),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function B(o,r){1&o&&(e.TgZ(0,"div")(1,"p",14),e._uU(2,"No SIC Code found"),e.qZA()())}function K(o,r){1&o&&(e.TgZ(0,"th",28),e._uU(1,"Actions"),e.qZA())}function $(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td")(1,"div",29)(2,"button",30),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.editSICCode(d.id))}),e._UZ(3,"img",31),e.qZA(),e.TgZ(4,"button",30),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.deleteSICCode(d.id))}),e._UZ(5,"img",32),e.qZA()()()}}function z(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.YNc(5,$,6,0,"td",10),e.qZA()),2&o){const t=r.$implicit,n=e.oxw(3);e.xp6(2),e.Oqu(null==t?null:t.code),e.xp6(2),e.Oqu(null==t?null:t.description),e.xp6(1),e.Q6J("ngIf",n.isEditAccess)}}function j(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",22)(1,"table",23)(2,"thead")(3,"tr")(4,"th",24),e.NdJ("sort",function(d){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onSort(d))}),e.TgZ(5,"span"),e._uU(6,"Code"),e.qZA()(),e.TgZ(7,"th",25),e.NdJ("sort",function(d){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onSort(d))}),e.TgZ(8,"span"),e._uU(9,"Description"),e.qZA()(),e.YNc(10,K,2,0,"th",26),e.qZA()(),e.TgZ(11,"tbody"),e.YNc(12,z,6,3,"tr",27),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(10),e.Q6J("ngIf",t.isEditAccess),e.xp6(2),e.Q6J("ngForOf",t.sicCodes)}}function V(o,r){if(1&o){const t=e.EpF();e.YNc(0,j,13,2,"div",17),e.TgZ(1,"div",18)(2,"ngb-pagination",19),e.NdJ("pageChange",function(d){e.CHM(t);const l=e.oxw();return e.KtG(l._state.page=d)})("pageChange",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.refresh())}),e.qZA(),e.TgZ(3,"select",20),e.NdJ("ngModelChange",function(d){e.CHM(t);const l=e.oxw();return e.KtG(l._state.limit=d)})("ngModelChange",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.refresh())}),e.TgZ(4,"option",21),e._uU(5,"10 items per page"),e.qZA(),e.TgZ(6,"option",21),e._uU(7,"20 items per page"),e.qZA(),e.TgZ(8,"option",21),e._uU(9,"30 items per page"),e.qZA()()()}if(2&o){const t=e.oxw();e.Q6J("ngIf",!t.isLoading),e.xp6(2),e.Q6J("collectionSize",t._state.totalResults)("page",t._state.page)("pageSize",t._state.limit)("rotate",!0)("maxSize",5)("boundaryLinks",!0),e.xp6(1),e.Q6J("ngModel",t._state.limit),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",20),e.xp6(2),e.Q6J("ngValue",30)}}const W=[{path:"",component:(()=>{class o{constructor(t,n,d,l,f){this.router=t,this.sicCodeService=n,this.cdr=d,this.jwtService=l,this.confirmationDialogService=f,this.searchTerm="",this.searchTermUpdate=new w.x,this.sicCodes=[],this.isSICCodes=!0,this.isLoading=!1,this.isEditAccess=!1,this._state={page:1,limit:10,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"asc"},this.searchTermUpdate.pipe((0,P.b)(200),(0,H.x)()).subscribe(oe=>{this._state.searchTerm=oe,this.getSICCodes(this._state)})}ngOnInit(){this.isLoading=!0,this.isEditAccess=this.jwtService.checkAccess("data-mangement"),this.getSICCodes(this._state)}getSICCodes(t){this.isLoading=!0,this.sicCodeService.getSICCodes(t).subscribe(n=>{this.sicCodes=n.results,this.setState(n),this.isSICCodes=0!=this.sicCodes.length,this.isLoading=!1},n=>{this.isLoading=!1})}reload(){window.scrollTo(0,400),this.getSICCodes(this._state)}editSICCode(t){this.router.navigate(["/data-mangement/sic-codes/edit-sic-code/"+t])}deleteSICCode(t){this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete this SIC Code ?").then(n=>{n&&this.sicCodeService.deleteSICCode(t).subscribe(d=>{this.getSICCodes(this._state)})})}onSort({column:t,direction:n}){alert(t),this.sortedColumn=t,this.sortedDirection=n,this._state.sortColumn=t,this._state.sortDirection=n,this.getSICCodes(this._state)}refresh(){this.getSICCodes(this._state)}setState(t){this._state.page=t.page,this._state.limit=t.limit,this._state.totalPages=t.totalPages,this._state.totalResults=t.totalResults}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.F0),e.Y36(v.S),e.Y36(e.sBO),e.Y36(D.Tj),e.Y36(R.O))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-sic-code"]],viewQuery:function(t,n){if(1&t&&e.Gf(E.j,5),2&t){let d;e.iGM(d=e.CRH())&&(n.headers=d)}},decls:15,vars:8,consts:[[3,"heading"],[1,"container-fluid","mt-2"],[1,"card","card-2","bg-transparent","mt-3"],[1,"card-body"],[1,"row","mb-2","search-header"],[1,"col-md-9","text-left","mb-1","mb-sm-0"],[1,"form-group","mb-1"],["type","text","type","text","name","searchTerm","placeholder","Search here...",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-3","text-center"],["type","button","routerLink","/data-mangement/sic-codes/add-sic-code","class","btn btn-primary btn-block",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["table",""],["type","button","routerLink","/data-mangement/sic-codes/add-sic-code",1,"btn","btn-primary","btn-block"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["class","table-responsive",4,"ngIf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","rotate","maxSize","boundaryLinks","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"table-responsive"],[1,"table","table-hover"],["scope","col","sortable","code",3,"sort"],["scope","col","sortable","description",3,"sort"],["scope","col","width","100",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","col","width","100"],[1,"action-buttons"],[3,"click"],["src","assets/images/pencil.svg","alt",""],["src","assets/images/icons8-trash-can.svg","alt",""]],template:function(t,n){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"input",7),e.NdJ("ngModelChange",function(l){return n._state.searchTerm=l})("ngModelChange",function(l){return n.searchTermUpdate.next(l)}),e.qZA()()(),e.TgZ(9,"div",8),e.YNc(10,k,2,0,"button",9),e.qZA()(),e.YNc(11,G,5,0,"ng-container",10),e.YNc(12,B,3,0,"div",11),e.YNc(13,V,10,11,"ng-template",null,12,e.W1O),e.qZA()()()()),2&t){const d=e.MAs(14);e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("heading","SIC Codes"),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(6),e.Q6J("ngModel",n._state.searchTerm),e.xp6(2),e.Q6J("ngIf",n.isEditAccess),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isSICCodes)("ngIfElse",d)}},dependencies:[i.sg,i.O5,m.rH,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,x.q,a.On,I.N9],data:{animation:[(0,C.Z9)()]}}),o})()},{path:"add-sic-code",component:T},{path:"edit-sic-code/:tempId",component:T}];let X=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(W),m.Bz]}),o})();var ee=s(4336);let te=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[E.j,v.S],imports:[i.ez,X,a.UX,ee.$n,a.u5,I.ZS,I.jF]}),o})()},8161:(S,_,s)=>{s.d(_,{q:()=>c});var i=s(4650),m=s(6895),e=s(7750);const a=function(p){return["/",p]};function C(p,g){if(1&p&&(i.TgZ(0,"li",6)(1,"a",7),i._uU(2),i.qZA()()),2&p){const u=i.oxw();i.xp6(1),i.Q6J("routerLink",i.VKq(2,a,u.previousLink)),i.xp6(1),i.Oqu(u.previousHeading)}}let c=(()=>{class p{constructor(){this.previousLink=decodeURIComponent(this.previousLink)}ngOnInit(){}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-page-header"]],inputs:{previousHeading:"previousHeading",previousLink:"previousLink",heading:"heading",previoudIcon:"previoudIcon",icon:"icon"},decls:9,vars:6,consts:[[1,"row"],[1,"col-xl-12"],[1,"page-header"],[1,"breadcrumb"],["class","breadcrumb-item",4,"ngIf"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"],["href","Javascript:void(0)",3,"routerLink"]],template:function(u,h){1&u&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),i._uU(3),i.qZA(),i.TgZ(4,"ol",3),i.YNc(5,C,3,4,"li",4),i.TgZ(6,"li",5),i._UZ(7,"i"),i._uU(8),i.qZA()()()()),2&u&&(i.xp6(3),i.hij(" ",h.heading," "),i.xp6(2),i.Q6J("ngIf",h.previousHeading),i.xp6(2),i.Gre("fa ",h.icon,""),i.xp6(1),i.hij(" ",h.heading,""))},dependencies:[m.O5,e.yS],styles:[".breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-bottom:0;list-style:none;padding:7px 0 0 22px}.breadcrumb-item[_ngcontent-%COMP%]{color:#773784}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;color:#773784}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#773784}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]:first-child   i[_ngcontent-%COMP%]{margin-right:1rem}@media (max-width: 768px){.breadcrumb-item.active[_ngcontent-%COMP%]{color:#773784}}"]}),p})()}}]);