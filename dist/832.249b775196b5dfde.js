"use strict";(self.webpackChunktest_ng7=self.webpackChunktest_ng7||[]).push([[832],{2832:(yo,et,d)=>{d.r(et),d.d(et,{TemplateModule:()=>To});var x=d(6895),U=d(5861),t=d(4650);function it(n,i=new Set){const e=[n],o=new Set;let r=0;for(;e.length>r;){const s=e[r++];if(!o.has(s)&&Pt(s)&&!i.has(s))if(o.add(s),Symbol.iterator in s)try{for(const a of s)e.push(a)}catch{}else for(const a in s)"defaultValue"!==a&&e.push(s[a])}return o}function Pt(n){const i=Object.prototype.toString.call(n),e=typeof n;return!("number"===e||"boolean"===e||"string"===e||"symbol"===e||"function"===e||"[object Date]"===i||"[object RegExp]"===i||"[object Module]"===i||null==n||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}Symbol("MainQueueId");var w=d(1999),I=d(5946);const L=function(){return I.Z.Date.now()};var Qt=/\s/;var Yt=/^\s+/;const kt=function Kt(n){return n&&n.slice(0,function Wt(n){for(var i=n.length;i--&&Qt.test(n.charAt(i)););return i}(n)+1).replace(Yt,"")};var R=d(7079),F=d(214);var Vt=/^[-+]0x[0-9a-f]+$/i,$t=/^0b[01]+$/i,zt=/^0o[0-7]+$/i,Xt=parseInt;const rt=function te(n){if("number"==typeof n)return n;if(function Gt(n){return"symbol"==typeof n||(0,F.Z)(n)&&"[object Symbol]"==(0,R.Z)(n)}(n))return NaN;if((0,w.Z)(n)){var i="function"==typeof n.valueOf?n.valueOf():n;n=(0,w.Z)(i)?i+"":i}if("string"!=typeof n)return 0===n?n:+n;n=kt(n);var e=$t.test(n);return e||zt.test(n)?Xt(n.slice(2),e?2:8):Vt.test(n)?NaN:+n};var ne=Math.max,ie=Math.min;const ce=function ae(n,i,e){var o=!0,r=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return(0,w.Z)(e)&&(o="leading"in e?!!e.leading:o,r="trailing"in e?!!e.trailing:r),function oe(n,i,e){var o,r,s,a,c,l,u=0,p=!1,_=!1,y=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function A(g){var C=o,N=r;return o=r=void 0,u=g,a=n.apply(N,C)}function X(g){return u=g,c=setTimeout(T,i),p?A(g):a}function b(g){var C=g-l;return void 0===l||C>=i||C<0||_&&g-u>=s}function T(){var g=L();if(b(g))return jt(g);c=setTimeout(T,function J(g){var Mt=i-(g-l);return _?ie(Mt,s-(g-u)):Mt}(g))}function jt(g){return c=void 0,y&&o?A(g):(o=r=void 0,a)}function tt(){var g=L(),C=b(g);if(o=arguments,r=this,l=g,C){if(void 0===c)return X(l);if(_)return clearTimeout(c),c=setTimeout(T,i),A(l)}return void 0===c&&(c=setTimeout(T,i)),a}return i=rt(i)||0,(0,w.Z)(e)&&(p=!!e.leading,s=(_="maxWait"in e)?ne(rt(e.maxWait)||0,i):s,y="trailing"in e?!!e.trailing:y),tt.cancel=function bo(){void 0!==c&&clearTimeout(c),u=0,o=l=r=c=void 0},tt.flush=function vo(){return void 0===c?a:jt(L())},tt}(n,i,{leading:o,maxWait:i,trailing:r})};var de=d(2031);const st=function le(n){return(0,F.Z)(n)&&1===n.nodeType&&!(0,de.Z)(n)};var ue=d(1740);var ge=d(6198),O=d(3276),pe=d(3487),fe=d(1986);const be=(0,d(5820).Z)(Object.keys,Object);var ye=Object.prototype.hasOwnProperty;var xe=d(8706);const Q=function Ze(n){return(0,xe.Z)(n)?(0,pe.Z)(n):function Ce(n){if(!(0,fe.Z)(n))return be(n);var i=[];for(var e in Object(n))ye.call(n,e)&&"constructor"!=e&&i.push(e);return i}(n)};var W=d(571);var Ne=d(634),Fe=d(8297);const at=function Me(){return[]};var Pe=Object.prototype.propertyIsEnumerable,ct=Object.getOwnPropertySymbols;const B=ct?function(n){return null==n?[]:(n=Object(n),function Oe(n,i){for(var e=-1,o=null==n?0:n.length,r=0,s=[];++e<o;){var a=n[e];i(a,e,n)&&(s[r++]=a)}return s}(ct(n),function(i){return Pe.call(n,i)}))}:at,dt=function Re(n,i){for(var e=-1,o=i.length,r=n.length;++e<o;)n[r+e]=i[e];return n};var Qe=d(5650);const lt=Object.getOwnPropertySymbols?function(n){for(var i=[];n;)dt(i,B(n)),n=(0,Qe.Z)(n);return i}:at;var ut=d(4177);const ht=function ke(n,i,e){var o=i(n);return(0,ut.Z)(n)?o:dt(o,e(n))},Ge=function qe(n){return ht(n,Q,B)},Ve=function He(n){return ht(n,W.Z,lt)};var j=d(3858);const Y=(0,j.Z)(I.Z,"DataView");var K=d(9329);const k=(0,j.Z)(I.Z,"Promise"),q=(0,j.Z)(I.Z,"Set"),G=(0,j.Z)(I.Z,"WeakMap");var Z=d(4407),mt="[object Map]",gt="[object Promise]",pt="[object Set]",ft="[object WeakMap]",_t="[object DataView]",nn=(0,Z.Z)(Y),on=(0,Z.Z)(K.Z),rn=(0,Z.Z)(k),sn=(0,Z.Z)(q),an=(0,Z.Z)(G),E=R.Z;(Y&&E(new Y(new ArrayBuffer(1)))!=_t||K.Z&&E(new K.Z)!=mt||k&&E(k.resolve())!=gt||q&&E(new q)!=pt||G&&E(new G)!=ft)&&(E=function(n){var i=(0,R.Z)(n),e="[object Object]"==i?n.constructor:void 0,o=e?(0,Z.Z)(e):"";if(o)switch(o){case nn:return _t;case on:return mt;case rn:return gt;case sn:return pt;case an:return ft}return i});const H=E;var dn=Object.prototype.hasOwnProperty;var Tt=d(3164);var gn=/\w*$/;var bt=d(8492),vt=bt.Z?bt.Z.prototype:void 0,yt=vt?vt.valueOf:void 0;var bn=d(9376);const Rn=function Ln(n,i,e){var o=n.constructor;switch(i){case"[object ArrayBuffer]":return(0,Tt.Z)(n);case"[object Boolean]":case"[object Date]":return new o(+n);case"[object DataView]":return function hn(n,i){var e=i?(0,Tt.Z)(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}(n,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,bn.Z)(n,e);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(n);case"[object RegExp]":return function pn(n){var i=new n.constructor(n.source,gn.exec(n));return i.lastIndex=n.lastIndex,i}(n);case"[object Symbol]":return function _n(n){return yt?Object(yt.call(n)):{}}(n)}};var Qn=d(3121),Wn=d(5202);var Ct=d(6932),M=d(6594),Et=M.Z&&M.Z.isMap;const qn=Et?(0,Ct.Z)(Et):function Yn(n){return(0,F.Z)(n)&&"[object Map]"==H(n)};var xt=M.Z&&M.Z.isSet;const zn=xt?(0,Ct.Z)(xt):function Hn(n){return(0,F.Z)(n)&&"[object Set]"==H(n)};var Zt="[object Arguments]",At="[object Function]",St="[object Object]",h={};h[Zt]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object DataView]"]=h["[object Boolean]"]=h["[object Date]"]=h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Map]"]=h["[object Number]"]=h[St]=h["[object RegExp]"]=h["[object Set]"]=h["[object String]"]=h["[object Symbol]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h["[object Error]"]=h[At]=h["[object WeakMap]"]=!1;const Zi=function D(n,i,e,o,r,s){var a,c=1&i,l=2&i,u=4&i;if(e&&(a=r?e(n,o,r,s):e(n)),void 0!==a)return a;if(!(0,w.Z)(n))return n;var p=(0,ut.Z)(n);if(p){if(a=function ln(n){var i=n.length,e=new n.constructor(i);return i&&"string"==typeof n[0]&&dn.call(n,"index")&&(e.index=n.index,e.input=n.input),e}(n),!c)return(0,Fe.Z)(n,a)}else{var _=H(n),y=_==At||"[object GeneratorFunction]"==_;if((0,Wn.Z)(n))return(0,Ne.Z)(n,c);if(_==St||_==Zt||y&&!r){if(a=l||y?{}:(0,Qn.Z)(n),!c)return l?function Ye(n,i){return(0,O.Z)(n,lt(n),i)}(n,function we(n,i){return n&&(0,O.Z)(i,(0,W.Z)(i),n)}(a,n)):function Ue(n,i){return(0,O.Z)(n,B(n),i)}(n,function Ae(n,i){return n&&(0,O.Z)(i,Q(i),n)}(a,n))}else{if(!h[_])return r?n:{};a=Rn(n,_,c)}}s||(s=new ue.Z);var A=s.get(n);if(A)return A;s.set(n,a),zn(n)?n.forEach(function(b){a.add(D(b,i,e,b,n,s))}):qn(n)&&n.forEach(function(b,T){a.set(T,D(b,i,e,T,n,s))});var J=p?void 0:(u?l?Ve:Ge:l?W.Z:Q)(n);return function he(n,i){for(var e=-1,o=null==n?0:n.length;++e<o&&!1!==i(n[e],e,n););}(J||n,function(b,T){J&&(b=n[T=b]),(0,ge.Z)(a,T,D(b,i,e,T,n,s))}),a};class Ni extends class Lt{constructor(i){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit="number"==typeof i.crashNumberLimit?i.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof i.minimumNonErrorTimePeriod?i.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const o="error"in e?e.error:e.reason;o instanceof Error&&this._handleError(o,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(i,e){this._listeners[i]||(this._listeners[i]=[]),this._listeners[i].push(e)}off(i,e){this._listeners[i]=this._listeners[i].filter(o=>o!==e)}_fire(i,...e){const o=this._listeners[i]||[];for(const r of o)r.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(i,e){if(this._shouldReactToError(i)){this.crashes.push({message:i.message,stack:i.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:i,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(i){return i.is&&i.is("CKEditorError")&&null!=i.context&&"ready"===this.state&&this._isErrorComingFromThisItem(i)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(i,e={}){super(e),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=ce(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),i&&(this._creator=(o,r)=>i.create(o,r)),this._destructor=o=>o.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(i){this._creator=i}setDestructor(i){this._destructor=i}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(i=>{console.error("An error happened during the editor destroying.",i)}).then(()=>{const i={},e=[],o=this._config.rootsAttributes||{},r={};for(const[a,c]of Object.entries(this._data.roots))c.isLoaded?(i[a]="",r[a]=o[a]||{}):e.push(a);const s={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:e,rootsAttributes:r,_watchdogInitialData:this._data};return delete s.initialData,s.extraPlugins.push(Fi),this._initUsingData?this.create(i,s,s.context):st(this._elementOrData)?this.create(this._elementOrData,s,s.context):this.create(this._editables,s,s.context)}).then(()=>{this._fire("restart")})}create(i=this._elementOrData,e=this._config,o){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=i,this._initUsingData="string"==typeof i||Object.keys(i).length>0&&"string"==typeof Object.values(i)[0],this._config=this._cloneEditorConfiguration(e)||{},this._config.context=o,this._creator(i,this._config))).then(r=>{this._editor=r,r.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=r.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const i=this._editor;return this._editor=null,i.model.document.off("change:data",this._throttledSave),this._destructor(i)})}_save(){const i=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=i}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(i){this._excludedProps=i}_getData(){const i=this._editor,e=i.model.document.roots.filter(c=>c.isAttached()&&"$graveyard"!=c.rootName),{plugins:o}=i,r=o.has("CommentsRepository")&&o.get("CommentsRepository"),s=o.has("TrackChanges")&&o.get("TrackChanges"),a={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};e.forEach(c=>{a.roots[c.rootName]={content:JSON.stringify(Array.from(c.getChildren())),attributes:JSON.stringify(Array.from(c.getAttributes())),isLoaded:c._isLoaded}});for(const c of i.model.markers)!c._affectsData||(a.markers[c.name]={rangeJSON:c.getRange().toJSON(),usingOperation:c._managedUsingOperations,affectsData:c._affectsData});return r&&(a.commentThreads=JSON.stringify(r.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),s&&(a.suggestions=JSON.stringify(s.getSuggestions({toJSON:!0,skipNotAttached:!0}))),a}_getEditables(){const i={};for(const e of this.editor.model.document.getRootNames()){const o=this.editor.ui.getEditableElement(e);o&&(i[e]=o)}return i}_isErrorComingFromThisItem(i){return function Jt(n,i,e=new Set){if(n===i&&function Ut(n){return"object"==typeof n&&null!==n}(n))return!0;const o=it(n,e),r=it(i,e);for(const s of o)if(r.has(s))return!0;return!1}(this._editor,i.context,this._excludedProps)}_cloneEditorConfiguration(i){return function wi(n,i){return Zi(n,5,i="function"==typeof i?i:void 0)}(i,(e,o)=>{if(st(e)||"context"===o)return e})}}class Fi{constructor(i){this.editor=i,this._data=i.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",i=>{i.stop(),this.editor.model.enqueueChange({isUndoable:!1},e=>{this._restoreCollaborationData(),this._restoreEditorData(e)}),this.editor.data.fire("ready")},{priority:999})}_createNode(i,e){if("name"in e){const o=i.createElement(e.name,e.attributes);if(e.children)for(const r of e.children)o._appendChild(this._createNode(i,r));return o}return i.createText(e.data,e.attributes)}_restoreEditorData(i){const e=this.editor;Object.entries(this._data.roots).forEach(([o,{content:r,attributes:s}])=>{const a=JSON.parse(r),c=JSON.parse(s),l=e.model.document.getRoot(o);for(const[u,p]of c)i.setAttribute(u,p,l);for(const u of a){const p=this._createNode(i,u);i.insert(p,l,"end")}}),Object.entries(this._data.markers).forEach(([o,r])=>{const{document:s}=e.model,{rangeJSON:{start:a,end:c},...l}=r,u=s.getRoot(a.root),p=i.createPositionFromPath(u,a.path,a.stickiness),_=i.createPositionFromPath(u,c.path,c.stickiness),y=i.createRange(p,_);i.addMarker(o,{range:y,...l})})}_restoreCollaborationData(){const i=JSON.parse(this._data.commentThreads),e=JSON.parse(this._data.suggestions);i.forEach(o=>{const r=this.editor.config.get("collaboration.channelId"),s=this.editor.plugins.get("CommentsRepository");s.hasCommentThread(o.threadId)&&s.getCommentThread(o.threadId).remove(),s.addCommentThread({channelId:r,...o})}),e.forEach(o=>{const r=this.editor.plugins.get("TrackChangesEditing");r.hasSuggestion(o.id)?r.getSuggestion(o.id).attributes=o.attributes:r.addSuggestionData(o)})}}var Oi=d(590),m=d(4006);function ji(n,i){}const f=new Array(256).fill(0).map((n,i)=>("0"+i.toString(16)).slice(-2)),V="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let Di=(()=>{class n{constructor(e,o){this.config={},this.data="",this.tagName="div",this.disableTwoWayDataBinding=!1,this.ready=new t.vpe,this.change=new t.vpe,this.blur=new t.vpe,this.focus=new t.vpe,this.error=new t.vpe,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function Mi(){const n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0;return"e"+f[n>>0&255]+f[n>>8&255]+f[n>>16&255]+f[n>>24&255]+f[i>>0&255]+f[i>>8&255]+f[i>>16&255]+f[i>>24&255]+f[e>>0&255]+f[e>>8&255]+f[e>>16&255]+f[e>>24&255]+f[o>>0&255]+f[o>>8&255]+f[o>>16&255]+f[o>>24&255]}(),this.ngZone=o,this.elementRef=e;const{CKEDITOR_VERSION:r}=window;if(r){const[s]=r.split(".").map(Number);s<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(e){this.setDisabledState(e)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let e=this.editorWatchdog;return this.watchdog&&(e=this.watchdog._watchdogs.get(this.id)),e?e.editor:null}getId(){return this.id}ngOnChanges(e){Object.prototype.hasOwnProperty.call(e,"data")&&e.data&&!e.data.isFirstChange()&&this.writeValue(e.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){var e=this;return(0,U.Z)(function*(){e.watchdog?yield e.watchdog.remove(e.id):e.editorWatchdog&&e.editorWatchdog.editor&&(yield e.editorWatchdog.destroy(),e.editorWatchdog=void 0)})()}writeValue(e){null===e&&(e=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.data.set(e),this.isEditorSettingData=!1):(this.data=e,this.ready.pipe((0,Oi.P)()).subscribe(o=>{o.data.set(this.data)}))}registerOnChange(e){this.cvaOnChange=e}registerOnTouched(e){this.cvaOnTouched=e}setDisabledState(e){this.editorInstance&&(e?this.editorInstance.enableReadOnlyMode(V):this.editorInstance.disableReadOnlyMode(V)),this.initiallyDisabled=e}attachToWatchdog(){var e=this;const o=(l,u)=>this.ngZone.runOutsideAngular((0,U.Z)(function*(){e.elementRef.nativeElement.appendChild(l);const p=yield e.editor.create(l,u);return e.initiallyDisabled&&p.enableReadOnlyMode(V),e.ngZone.run(()=>{e.ready.emit(p)}),e.setUpEditorEvents(p),p})),r=function(){var l=(0,U.Z)(function*(u){yield u.destroy(),e.elementRef.nativeElement.removeChild(e.editorElement)});return function(p){return l.apply(this,arguments)}}(),s=l=>{(function Pi(n){return n.observed||n.observers.length>0})(this.error)&&this.ngZone.run(()=>this.error.emit(l))},a=document.createElement(this.tagName),c=this.getConfig();if(this.editorElement=a,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:o,destructor:r,sourceElementOrData:a,config:c}).catch(l=>{s(l)}),this.watchdog.on("itemError",(l,{itemId:u})=>{u===this.id&&s()});else{const l=new Ni(this.editor,this.editorWatchdogConfig);l.setCreator(o),l.setDestructor(r),l.on("error",s),this.editorWatchdog=l,this.ngZone.runOutsideAngular(()=>{l.create(a,c).catch(u=>{s(u)})})}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const e={...this.config},o=this.config.initialData||this.data;return o&&(e.initialData=o),e}setUpEditorEvents(e){const r=e.editing.view.document;e.model.document.on("change:data",s=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){const a=e.data.get();this.cvaOnChange(a)}this.change.emit({event:s,editor:e})}})}),r.on("focus",s=>{this.ngZone.run(()=>{this.focus.emit({event:s,editor:e})})}),r.on("blur",s=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:s,editor:e})})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",editorWatchdogConfig:"editorWatchdogConfig",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[t._Bn([{provide:m.JU,useExisting:(0,t.Gpc)(()=>n),multi:!0}]),t.TTD],decls:1,vars:0,template:function(e,o){1&e&&t.YNc(0,ji,0,0,"ng-template")},encapsulation:2}),n})(),Ji=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[m.u5,x.ez]]}),n})();var v=d(7750),$=d(4903),wt=d(6170),Ui=d.n(wt),Li=d(2487);let P=(()=>{class n{constructor(e){this.apiService=e}getTemplates(e){return this.apiService.get(""==e.searchTerm?`/templates?sortBy=${e.sortColumn+":"+e.sortDirection}&limit=${e.limit}&page=${e.page}`:`/templates?sortBy=${e.sortColumn+":"+e.sortDirection}&limit=${e.limit}&page=${e.page}&search=${e.searchTerm}`)}addTemplates(e){return this.apiService.post("/templates",e)}getTemplateById(e){return this.apiService.get(`/templates/${e}`)}deleteTemplate(e){return this.apiService.delete(`/templates/${e}`)}updateTemplate(e,o){return this.apiService.patch(`/templates/${e}`,o)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Li.s))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ri(n,i){1&n&&(t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"span",8),t._uU(4,"Loading..."),t.qZA()()(),t.BQk())}function Qi(n,i){1&n&&(t.TgZ(0,"span",25),t._uU(1," * Title is required. "),t.qZA())}function Wi(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Qi,2,0,"span",24),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.addEditForm.controls.title.errors?null:e.addEditForm.controls.title.errors.required)}}function Bi(n,i){1&n&&(t.TgZ(0,"span",25),t._uU(1," * Template Id is required. "),t.qZA())}function Yi(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Bi,2,0,"span",24),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.addEditForm.controls.templateId.errors?null:e.addEditForm.controls.templateId.errors.required)}}function Ki(n,i){1&n&&(t.TgZ(0,"span",25),t._uU(1," * Subject is required. "),t.qZA())}function ki(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Ki,2,0,"span",24),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.addEditForm.controls.subject.errors?null:e.addEditForm.controls.subject.errors.required)}}function qi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onUpdate())}),t._uU(1,"Update Notification"),t.qZA()}}function Gi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onSubmit())}),t._uU(1,"Add Notification"),t.qZA()}}function Hi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"form",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"label",13),t._uU(5,"Title *"),t.qZA(),t._UZ(6,"input",14),t.YNc(7,Wi,2,1,"div",4),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10,"Template Id *"),t.qZA(),t._UZ(11,"input",15),t.YNc(12,Yi,2,1,"div",4),t.qZA(),t.TgZ(13,"div",12)(14,"label",13),t._uU(15,"CC "),t.qZA(),t._UZ(16,"input",16),t.qZA()(),t.TgZ(17,"div",11)(18,"div",12)(19,"label",13),t._uU(20,"Subject *"),t.qZA(),t._UZ(21,"input",17),t.YNc(22,ki,2,1,"div",4),t.qZA(),t.TgZ(23,"div",12)(24,"label",13),t._uU(25,"BCC "),t.qZA(),t._UZ(26,"input",18),t.qZA()(),t.TgZ(27,"div",19)(28,"ckeditor",20),t.NdJ("ready",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.onReady(r))}),t.qZA()()(),t.TgZ(29,"div",21),t.YNc(30,qi,2,0,"button",22),t.YNc(31,Gi,2,0,"button",22),t.TgZ(32,"button",23),t._uU(33,"Cancel"),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.addEditForm),t.xp6(7),t.Q6J("ngIf",e.addEditForm.controls.title.errors&&(e.addEditForm.controls.title.dirty||e.addEditForm.controls.title.touched)),t.xp6(5),t.Q6J("ngIf",e.addEditForm.controls.templateId.errors&&(e.addEditForm.controls.templateId.dirty||e.addEditForm.controls.templateId.touched)),t.xp6(10),t.Q6J("ngIf",e.addEditForm.controls.subject.errors&&(e.addEditForm.controls.subject.dirty||e.addEditForm.controls.subject.touched)),t.xp6(6),t.Q6J("editor",e.Editor),t.xp6(2),t.Q6J("ngIf",e.editForm),t.xp6(1),t.Q6J("ngIf",!e.editForm)}}let It=(()=>{class n{constructor(e,o,r,s){this.router=e,this.fb=o,this.route=r,this.templateService=s,this.Editor=wt,this.editForm=!1,this.isLoading=!1,this.route.params.subscribe(a=>{""!==a.tempId&&null!=a.tempId&&(this.tempId=a.tempId,this.editForm=!0,this.getTemplate(this.tempId))}),this.addEditForm=o.group({title:["",[m.kI.required]],subject:["",[m.kI.required]],template:["",[m.kI.required]],templateId:[null,[m.kI.required]],cc:[null,[]],bcc:[null,[]]})}ngOnInit(){}getTemplate(e){this.isLoading=!0,this.templateService.getTemplateById(e).subscribe(o=>{this.addEditForm.patchValue(o),this.isLoading=!1},o=>{this.isLoading=!1,this.router.navigate(["/notifications"])})}onSubmit(){this.templateService.addTemplates(this.addEditForm.value).subscribe(e=>{e&&(this.addEditForm.reset(),this.router.navigate(["/notifications"]))})}onUpdate(){this.templateService.updateTemplate(this.tempId,this.addEditForm.value).subscribe(e=>{e&&(this.addEditForm.reset(),this.router.navigate(["/notifications"]))})}onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.F0),t.Y36(m.qu),t.Y36(v.gz),t.Y36(P))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-edit-template"]],decls:8,vars:4,consts:[[1,"container-fluid","mt-2"],[1,"card"],[1,"card-header"],[1,"card-body"],[4,"ngIf"],["novalidate","",3,"formGroup",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group","mb-2"],[1,"bmd-label-floating"],["formControlName","title","type","text",1,"form-control"],["formControlName","templateId","type","text",1,"form-control"],["formControlName","cc","type","text",1,"form-control"],["formControlName","subject","type","text",1,"form-control"],["formControlName","bcc","type","text",1,"form-control"],[1,"col-md-12","mb-2"],["formControlName","template",3,"editor","ready"],[1,"form-group","mb-2","py-2","text-right"],["type","button","class","btn btn-info",3,"click",4,"ngIf"],["type","button","routerLink","/notifications",1,"btn","btn-secondary"],["class"," text-danger error",4,"ngIf"],[1,"text-danger","error"],["type","button",1,"btn","btn-info",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),t._uU(4," Notification "),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,Ri,5,0,"ng-container",4),t.YNc(7,Hi,34,7,"form",5),t.qZA()()()()),2&e&&(t.Q6J("@routerTransition",void 0),t.xp6(1),t.Q6J("@routerTransition",void 0),t.xp6(5),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",!o.isLoading))},dependencies:[x.O5,v.rH,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,Di],styles:[".ck.ck-content[_ngcontent-%COMP%]{border:2px solid #707070!important}"],data:{animation:[(0,$.Z9)()]}}),n})();var Nt=d(4221),Vi=d(7579),$i=d(8372),zi=d(1884),Xi=d(4304),Ft=d(7253),Ot=d(8161),z=d(6393);function to(n,i){1&n&&(t.TgZ(0,"button",13),t._uU(1,"Add Notification"),t.qZA())}function eo(n,i){1&n&&(t.ynx(0),t.TgZ(1,"div",14)(2,"div",15)(3,"span",16),t._uU(4,"Loading..."),t.qZA()()(),t.BQk())}function no(n,i){1&n&&(t.TgZ(0,"div")(1,"p",14),t._uU(2,"No Templates found"),t.qZA()())}function io(n,i){1&n&&(t.TgZ(0,"th",27),t._uU(1,"Edit"),t.qZA())}function oo(n,i){1&n&&(t.TgZ(0,"th",27),t._uU(1,"Delete"),t.qZA())}function ro(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td")(1,"div",29)(2,"button",30),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.editTemplate(r.id))}),t._UZ(3,"img",31),t.qZA()()()}}function so(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td")(1,"div",29)(2,"button",30),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.deleteTemplate(r.id))}),t._UZ(3,"img",32),t.qZA()()()}}const ao=function(n){return["view-notification",n]};function co(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td")(2,"a",28),t._uU(3),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.YNc(6,ro,4,0,"td",10),t.YNc(7,so,4,0,"td",10),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(2),t.Q6J("routerLink",t.VKq(5,ao,e.id)),t.xp6(1),t.hij(" ",null==e?null:e.title," "),t.xp6(2),t.Oqu(null==e?null:e.subject),t.xp6(1),t.Q6J("ngIf",o.isEditAccess),t.xp6(1),t.Q6J("ngIf",o.isEditAccess)}}function lo(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",17)(2,"table",18)(3,"thead")(4,"tr")(5,"th",19),t.NdJ("sort",function(r){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onSort(r))}),t._uU(6,"Title"),t.qZA(),t.TgZ(7,"th",20),t.NdJ("sort",function(r){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onSort(r))}),t._uU(8,"Subject"),t.qZA(),t.YNc(9,io,2,0,"th",21),t.YNc(10,oo,2,0,"th",21),t.qZA()(),t.TgZ(11,"tbody"),t.YNc(12,co,8,7,"tr",22),t.qZA()()(),t.TgZ(13,"div",23)(14,"ngb-pagination",24),t.NdJ("pageChange",function(r){t.CHM(e);const s=t.oxw(2);return t.KtG(s._state.page=r)})("pageChange",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.refresh())}),t.qZA(),t.TgZ(15,"select",25),t.NdJ("ngModelChange",function(r){t.CHM(e);const s=t.oxw(2);return t.KtG(s._state.limit=r)})("ngModelChange",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.refresh())}),t.TgZ(16,"option",26),t._uU(17,"10 items per page"),t.qZA(),t.TgZ(18,"option",26),t._uU(19,"20 items per page"),t.qZA(),t.TgZ(20,"option",26),t._uU(21,"30 items per page"),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(9),t.Q6J("ngIf",e.isEditAccess),t.xp6(1),t.Q6J("ngIf",e.isEditAccess),t.xp6(2),t.Q6J("ngForOf",e.templates),t.xp6(2),t.Q6J("collectionSize",e._state.totalResults)("page",e._state.page)("pageSize",e._state.limit)("rotate",!0)("maxSize",5)("boundaryLinks",!0),t.xp6(1),t.Q6J("ngModel",e._state.limit),t.xp6(1),t.Q6J("ngValue",10),t.xp6(2),t.Q6J("ngValue",20),t.xp6(2),t.Q6J("ngValue",30)}}function uo(n,i){if(1&n&&t.YNc(0,lo,22,13,"div",10),2&n){const e=t.oxw();t.Q6J("ngIf",!e.isLoading)}}function mo(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.editTemplate(r.templateData.id))}),t._uU(1,"Edit"),t.qZA()}}function go(n,i){1&n&&(t.ynx(0),t.TgZ(1,"div",10)(2,"div",11)(3,"span",12),t._uU(4,"Loading..."),t.qZA()()(),t.BQk())}const po=[{path:"",component:(()=>{class n{constructor(e,o,r,s,a){this.router=e,this.templateService=o,this.cdr=r,this.confirmationDialogService=s,this.jwtService=a,this.searchTerm="",this.searchTermUpdate=new Vi.x,this.templates=[],this.isTemplates=!0,this.isLoading=!1,this._state={page:1,limit:20,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"desc"},this.isEditAccess=!1,this.searchTermUpdate.pipe((0,$i.b)(200),(0,zi.x)()).subscribe(c=>{this._state.searchTerm=c,this.getTemplates(this._state)})}ngOnInit(){this.isLoading=!0,this.isEditAccess=this.jwtService.checkAccess("templates"),this.getTemplates(this._state)}getTemplates(e){this.isLoading=!0,this.templateService.getTemplates(e).subscribe(o=>{this.templates=o.results,this.setState(o),this.isTemplates=0!=this.templates.length,this.isLoading=!1},o=>{this.isLoading=!1})}editTemplate(e){this.router.navigate(["/notifications/edit-notification/"+e])}deleteTemplate(e){this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete this template ?").then(o=>{o&&this.templateService.deleteTemplate(e).subscribe(r=>{this.getTemplates(this._state)})})}onSort({column:e,direction:o}){alert(e),this.sortedColumn=e,this.sortedDirection=o,this._state.sortColumn=e,this._state.sortDirection=o,this.getTemplates(this._state)}refresh(){this.getTemplates(this._state)}setState(e){this._state.page=e.page,this._state.limit=e.limit,this._state.totalPages=e.totalPages,this._state.totalResults=e.totalResults}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.F0),t.Y36(P),t.Y36(t.sBO),t.Y36(Xi.O),t.Y36(Ft.Tj))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-template"]],viewQuery:function(e,o){if(1&e&&t.Gf(Nt.j,5),2&e){let r;t.iGM(r=t.CRH())&&(o.headers=r)}},decls:15,vars:8,consts:[[3,"heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-body"],[1,"row","mb-2","search-header"],[1,"col-sm-9","col-lg-10","text-left","mb-1","mb-md-0"],[1,"form-group","mb-1"],["type","text","type","text","name","searchTerm","placeholder","Search here...",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-3","col-lg-2","text-center"],["type","button","routerLink","/notifications/add-notification","class","btn btn-primary btn-block",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["table",""],["type","button","routerLink","/notifications/add-notification",1,"btn","btn-primary","btn-block"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col","sortable","title",3,"sort"],["scope","col","sortable","subject",3,"sort"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","rotate","maxSize","boundaryLinks","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","col"],[3,"routerLink"],[1,"action-buttons"],[3,"click"],["src","assets/images/pencil.svg","alt",""],["src","assets/images/icons8-trash-can.svg","alt",""]],template:function(e,o){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-page-header",0),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"input",7),t.NdJ("ngModelChange",function(s){return o._state.searchTerm=s})("ngModelChange",function(s){return o.searchTermUpdate.next(s)}),t.qZA()()(),t.TgZ(9,"div",8),t.YNc(10,to,2,0,"button",9),t.qZA()(),t.YNc(11,eo,5,0,"ng-container",10),t.YNc(12,no,3,0,"div",11),t.YNc(13,uo,1,1,"ng-template",null,12,t.W1O),t.qZA()()()()),2&e){const r=t.MAs(14);t.Q6J("@routerTransition",void 0),t.xp6(1),t.Q6J("heading","Notifications"),t.xp6(1),t.Q6J("@routerTransition",void 0),t.xp6(6),t.Q6J("ngModel",o._state.searchTerm),t.xp6(2),t.Q6J("ngIf",o.isEditAccess),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",!o.isTemplates)("ngIfElse",r)}},dependencies:[x.sg,x.O5,v.rH,v.yS,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,Ot.q,m.On,z.N9],data:{animation:[(0,$.Z9)()]}}),n})()},{path:"add-notification",component:It},{path:"edit-notification/:tempId",component:It},{path:"view-notification/:tempId",component:(()=>{class n{constructor(e,o,r,s,a){this.router=e,this.fb=o,this.route=r,this.templateService=s,this.jwtService=a,this.Editor=Ui(),this.editForm=!1,this.isLoading=!1,this.templateData=[],this.route.params.subscribe(c=>{""!==c.tempId&&null!=c.tempId&&(this.tempId=c.tempId,this.editForm=!0,this.getTemplate(this.tempId))})}ngOnInit(){this.isEditAccess=this.jwtService.checkAccess("templates")}getTemplate(e){this.isLoading=!0,this.templateService.getTemplateById(e).subscribe(o=>{this.templateData=o,console.log(this.templateData),this.isLoading=!1},o=>{this.isLoading=!1,this.router.navigate(["/templates"])})}onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}editTemplate(e){this.router.navigate(["/notifications/edit-notification/"+e])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.F0),t.Y36(m.qu),t.Y36(v.gz),t.Y36(P),t.Y36(Ft.Tj))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-template"]],decls:23,vars:12,consts:[[3,"previousHeading","previousLink","heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-header"],["style","float: right;","class","btn btn-info",3,"click",4,"ngIf"],[1,"card-body"],[4,"ngIf"],[1,"form-group"],[1,"container",3,"innerHTML"],[1,"btn","btn-info",2,"float","right",3,"click"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,o){1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-page-header",0),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3),t._uU(5," Notification "),t.YNc(6,mo,2,0,"button",4),t.qZA(),t.TgZ(7,"div",5),t.YNc(8,go,5,0,"ng-container",6),t.ynx(9),t.TgZ(10,"div",7)(11,"label"),t._uU(12),t.qZA()(),t.TgZ(13,"div",7)(14,"label"),t._uU(15),t.qZA()(),t.TgZ(16,"div",7)(17,"label"),t._uU(18),t.qZA()(),t.TgZ(19,"div",7)(20,"label"),t._uU(21),t.qZA()(),t._UZ(22,"div",8),t.BQk(),t.qZA()()()()),2&e&&(t.Q6J("@routerTransition",void 0),t.xp6(1),t.Q6J("previousHeading","Notification")("previousLink","notifications")("heading","View Notification"),t.xp6(1),t.Q6J("@routerTransition",void 0),t.xp6(4),t.Q6J("ngIf",o.isEditAccess),t.xp6(2),t.Q6J("ngIf",o.isLoading),t.xp6(4),t.hij("Title: ",o.templateData.title,""),t.xp6(3),t.hij("Subject: ",o.templateData.subject,""),t.xp6(3),t.hij("CC: ",o.templateData.cc,""),t.xp6(3),t.hij("BCC: ",o.templateData.bcc,""),t.xp6(1),t.Q6J("innerHTML",o.templateData.template,t.oJD))},dependencies:[x.O5,Ot.q],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:10px!important}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px;font-weight:400;margin:10px}.container[_ngcontent-%COMP%]{padding:10px;border:2px solid #f2f2f2}"],data:{animation:[(0,$.Z9)()]}}),n})()}];let fo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[v.Bz.forChild(po),v.Bz]}),n})();var _o=d(4336);let To=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Nt.j,P],imports:[x.ez,fo,m.UX,_o.$n,m.u5,z.ZS,z.jF,Ji]}),n})()}}]);