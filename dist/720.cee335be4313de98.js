"use strict";(self.webpackChunktest_ng7=self.webpackChunktest_ng7||[]).push([[720,161],{1959:(C,g,r)=>{r.d(g,{n:()=>h});var o=r(4650),u=r(2487);let h=(()=>{class s{constructor(t){this.apiService=t}getAttachmentTypes(t){return this.apiService.get(""==t.searchTerm?`/attachment-type?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}`:`/attachment-type?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}&search=${t.searchTerm}`)}addAttachmentType(t){return this.apiService.post("/attachment-type",t)}getAttachmentTypeById(t){return this.apiService.get(`/attachment-type/${t}`)}deleteAttachmentType(t){return this.apiService.delete(`/attachment-type/${t}`)}updateAttachmentType(t,p){return this.apiService.patch(`/attachment-type/${t}`,p)}}return s.\u0275fac=function(t){return new(t||s)(o.LFG(u.s))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},9581:(C,g,r)=>{r.d(g,{M:()=>h});var o=r(4650),u=r(2487);let h=(()=>{class s{constructor(t){this.apiService=t}getBaseRates(t){return this.apiService.get(""==t.searchTerm?`/base-rates?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}`:`/base-rates?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}&search=${t.searchTerm}`)}addBaseRates(t){return this.apiService.post("/base-rates",t)}getBaseRateById(t){return this.apiService.get(`/base-rates/${t}`)}deleteBaseRate(t){return this.apiService.delete(`/base-rates/${t}`)}updateBaseRate(t,p){return this.apiService.patch(`/base-rates/${t}`,p)}}return s.\u0275fac=function(t){return new(t||s)(o.LFG(u.s))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},6124:(C,g,r)=>{r.d(g,{w:()=>h});var o=r(4650),u=r(2487);let h=(()=>{class s{constructor(t){this.apiService=t}getBillingFrequencies(t){return this.apiService.get(""==t.searchTerm?`/billing-frequency?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}`:`/billing-frequency?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}&search=${t.searchTerm}`)}addBillingFrequency(t){return this.apiService.post("/billing-frequency",t)}getBillingFrequencyById(t){return this.apiService.get(`/billing-frequency/${t}`)}deleteBillingFrequency(t){return this.apiService.delete(`/billing-frequency/${t}`)}updateBillingFrequency(t,p){return this.apiService.patch(`/billing-frequency/${t}`,p)}}return s.\u0275fac=function(t){return new(t||s)(o.LFG(u.s))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},3476:(C,g,r)=>{r.d(g,{p:()=>h});var o=r(4650),u=r(2487);let h=(()=>{class s{constructor(t){this.apiService=t}getBillingMethods(t){return this.apiService.get(""==t.searchTerm?`/billing-method?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}`:`/billing-method?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}&search=${t.searchTerm}`)}addBillingMethod(t){return this.apiService.post("/billing-method",t)}getBillingMethodById(t){return this.apiService.get(`/billing-method/${t}`)}deleteBillingMethod(t){return this.apiService.delete(`/billing-method/${t}`)}updateBillingMethod(t,p){return this.apiService.patch(`/billing-method/${t}`,p)}}return s.\u0275fac=function(t){return new(t||s)(o.LFG(u.s))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},6134:(C,g,r)=>{r.d(g,{O:()=>h});var o=r(4650),u=r(2487);let h=(()=>{class s{constructor(t){this.apiService=t}getBillingcurrencys(t){return this.apiService.get(""==t.searchTerm?`/billingcurrency?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}`:`/billingcurrency?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}&search=${t.searchTerm}`)}addBillingcurrencys(t){return this.apiService.post("/billingcurrency",t)}getBillingcurrencyById(t){return this.apiService.get(`/billingcurrency/${t}`)}deleteBillingcurrency(t){return this.apiService.delete(`/billingcurrency/${t}`)}updateBillingcurrency(t,p){return this.apiService.patch(`/billingcurrency/${t}`,p)}}return s.\u0275fac=function(t){return new(t||s)(o.LFG(u.s))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},720:(C,g,r)=>{r.r(g),r.d(g,{ClientModule:()=>X});var o=r(6895),u=r(7750),h=r(4221),s=r(4903),d=r(2558),t=r(7579),p=r(8372),n=r(1884),e=r(4650),f=r(3196),T=r(4304),v=r(4006),S=r(8161),y=r(6393);const Z={asc:"desc",desc:"asc","":"asc"};let x=(()=>{class l{constructor(){this.direction="",this.sort=new e.vpe}ngOnChanges(i){this.sortable!==i?.oldColumn?.currentValue&&i?.oldColumn?.currentValue!==i?.oldColumn?.previousValue&&(this.direction="")}rotate(){this.direction=Z[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return l.\u0275fac=function(i){return new(i||l)},l.\u0275dir=e.lG2({type:l,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(i,c){1&i&&e.NdJ("click",function(){return c.rotate()}),2&i&&e.ekj("asc","asc"===c.direction)("desc","desc"===c.direction)},inputs:{sortable:"sortable",oldColumn:"oldColumn",direction:"direction"},outputs:{sort:"sort"},exportAs:["NgbdSortableHeader"],features:[e.TTD]}),l})();function b(l,m){if(1&l){const i=e.EpF();e.TgZ(0,"div",12)(1,"button",13),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.downloadFileExcel())}),e._uU(2,"Download"),e.qZA()()}}function M(l,m){1&l&&(e.ynx(0),e.TgZ(1,"div",14)(2,"div",15)(3,"span",16),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function A(l,m){1&l&&(e.TgZ(0,"div")(1,"p",14),e._uU(2,"No clients found"),e.qZA()())}function B(l,m){if(1&l&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"a",31),e._uU(7),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"date"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"date"),e.qZA()()),2&l){const i=m.$implicit;e.xp6(2),e.Oqu(null==i?null:i.clientGroup),e.xp6(2),e.hij(" ",(null==i.clientGroupDetails?null:i.clientGroupDetails.name)||i.name," "),e.xp6(2),e.MGl("routerLink","/matters/client-id/",null==i?null:i.clientId,""),e.xp6(1),e.AsE(" ",null==i?null:i.name," (",null==i?null:i.clientNumber,") "),e.xp6(2),e.Oqu(null==i?null:i.rspTkprName),e.xp6(2),e.Oqu(null==i?null:i.status),e.xp6(2),e.Oqu(e.xi3(14,10,null==i?null:i.openDate,"mediumDate")),e.xp6(3),e.Oqu(e.xi3(17,13,null==i?null:i.closeDate,"mediumDate")),e.xp6(3),e.Oqu(e.xi3(20,16,null==i?null:i.lastInvoiceDate,"mediumDate"))}}const D=function(){return{standalone:!0}};function O(l,m){if(1&l){const i=e.EpF();e.TgZ(0,"div")(1,"div",17)(2,"table",18)(3,"thead")(4,"tr")(5,"th",19),e.NdJ("sort",function(a){e.CHM(i);const _=e.oxw(2);return e.KtG(_.onSort(a))}),e._uU(6,"Client Group "),e._UZ(7,"span"),e.qZA(),e.TgZ(8,"th",20),e.NdJ("sort",function(a){e.CHM(i);const _=e.oxw(2);return e.KtG(_.onSort(a))}),e._uU(9,"Group Name "),e._UZ(10,"span"),e.qZA(),e.TgZ(11,"th",20),e.NdJ("sort",function(a){e.CHM(i);const _=e.oxw(2);return e.KtG(_.onSort(a))}),e._uU(12,"Client "),e._UZ(13,"span"),e.qZA(),e.TgZ(14,"th",21),e.NdJ("sort",function(a){e.CHM(i);const _=e.oxw(2);return e.KtG(_.onSort(a))}),e._uU(15,"Client Responsible "),e._UZ(16,"span"),e.qZA(),e.TgZ(17,"th",22),e.NdJ("sort",function(a){e.CHM(i);const _=e.oxw(2);return e.KtG(_.onSort(a))}),e._uU(18,"Status "),e._UZ(19,"span"),e.qZA(),e.TgZ(20,"th",23),e.NdJ("sort",function(a){e.CHM(i);const _=e.oxw(2);return e.KtG(_.onSort(a))}),e._uU(21,"Open Date "),e._UZ(22,"span"),e.qZA(),e.TgZ(23,"th",24),e.NdJ("sort",function(a){e.CHM(i);const _=e.oxw(2);return e.KtG(_.onSort(a))}),e._uU(24,"Close Date "),e._UZ(25,"span"),e.qZA(),e.TgZ(26,"th",25),e.NdJ("sort",function(a){e.CHM(i);const _=e.oxw(2);return e.KtG(_.onSort(a))}),e._uU(27,"Last Bill Date "),e._UZ(28,"span"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,B,21,19,"tr",26),e.qZA()(),e.TgZ(31,"div",27)(32,"ngb-pagination",28),e.NdJ("pageChange",function(a){e.CHM(i);const _=e.oxw(2);return e.KtG(_._state.page=a)})("pageChange",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.refreshClients())}),e.qZA(),e.TgZ(33,"select",29),e.NdJ("ngModelChange",function(a){e.CHM(i);const _=e.oxw(2);return e.KtG(_._state.limit=a)})("ngModelChange",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.refreshClients())}),e.TgZ(34,"option",30),e._uU(35,"10 items per page"),e.qZA(),e.TgZ(36,"option",30),e._uU(37,"20 items per page"),e.qZA(),e.TgZ(38,"option",30),e._uU(39,"30 items per page"),e.qZA()()()()()}if(2&l){const i=e.oxw(2);e.xp6(5),e.Q6J("oldColumn",i._state.sortColumn),e.xp6(3),e.Q6J("oldColumn",i._state.sortColumn),e.xp6(3),e.Q6J("oldColumn",i._state.sortColumn),e.xp6(3),e.Q6J("oldColumn",i._state.sortColumn),e.xp6(3),e.Q6J("oldColumn",i._state.sortColumn),e.xp6(3),e.Q6J("oldColumn",i._state.sortColumn),e.xp6(3),e.Q6J("oldColumn",i._state.sortColumn),e.xp6(3),e.Q6J("oldColumn",i._state.sortColumn),e.xp6(4),e.Q6J("ngForOf",i.clients),e.xp6(2),e.Q6J("collectionSize",i._state.totalResults)("page",i._state.page)("pageSize",i._state.limit)("rotate",!0)("maxSize",5)("boundaryLinks",!0),e.xp6(1),e.Q6J("ngModel",i._state.limit)("ngModelOptions",e.DdM(20,D)),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",20),e.xp6(2),e.Q6J("ngValue",30)}}function $(l,m){if(1&l&&e.YNc(0,O,40,21,"div",9),2&l){const i=e.oxw();e.Q6J("ngIf",!i.isLoading)}}function E(l,m){1&l&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"span",9),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function P(l,m){1&l&&(e.TgZ(0,"div")(1,"p",7),e._uU(2,"No clients found"),e.qZA()())}function R(l,m){1&l&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",16)(3,"div",7)(4,"div",8)(5,"span",9),e._uU(6,"Loading..."),e.qZA()()()()()())}function L(l,m){if(1&l&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.qZA(),e.TgZ(29,"td"),e._uU(30),e.qZA()()),2&l){const i=m.$implicit;e.xp6(2),e.Oqu(i.number),e.xp6(2),e.Oqu(i.name),e.xp6(2),e.Oqu(i.active),e.xp6(2),e.Oqu(i.classYear),e.xp6(2),e.Oqu(i.office),e.xp6(2),e.Oqu(i.officeName),e.xp6(2),e.Oqu(i.rankCode),e.xp6(2),e.Oqu(i.rankName),e.xp6(2),e.Oqu(i.effectiveDate),e.xp6(2),e.Oqu(i.Currency),e.xp6(2),e.Oqu(i.matterNumber),e.xp6(2),e.Oqu(i.matterName),e.xp6(2),e.Oqu(i.billRate),e.xp6(2),e.Oqu(i.standardRate),e.xp6(2),e.Oqu(i.diff)}}function I(l,m){if(1&l&&(e.TgZ(0,"tbody"),e.YNc(1,L,31,15,"tr",17),e.qZA()),2&l){const i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",i.clients)}}const N=function(){return{standalone:!0}};function J(l,m){if(1&l){const i=e.EpF();e.TgZ(0,"div")(1,"div",10)(2,"table",11)(3,"thead")(4,"tr")(5,"th"),e._uU(6,"Number"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Name"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Active"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Class Year"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Office"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Office Name"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Rank Code"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Rank Name"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Effective Date"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Currency"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Matter Number"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Matter Name"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Bill Rate"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Standard Rate"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Diff"),e.qZA()()(),e.YNc(35,R,7,0,"tbody",4),e.YNc(36,I,2,1,"tbody",4),e.qZA(),e.TgZ(37,"div",12)(38,"ngb-pagination",13),e.NdJ("pageChange",function(a){e.CHM(i);const _=e.oxw(2);return e.KtG(_._state.page=a)})("pageChange",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.refreshMatters())}),e.qZA(),e.TgZ(39,"select",14),e.NdJ("ngModelChange",function(a){e.CHM(i);const _=e.oxw(2);return e.KtG(_._state.limit=a)})("ngModelChange",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.refreshMatters())}),e.TgZ(40,"option",15),e._uU(41,"10 items per page"),e.qZA(),e.TgZ(42,"option",15),e._uU(43,"20 items per page"),e.qZA(),e.TgZ(44,"option",15),e._uU(45,"30 items per page"),e.qZA()()()()()}if(2&l){const i=e.oxw(2);e.xp6(35),e.Q6J("ngIf",i.isPaginationLoading),e.xp6(1),e.Q6J("ngIf",!i.isPaginationLoading),e.xp6(2),e.Q6J("collectionSize",i._state.totalResults)("page",i._state.page)("pageSize",i._state.limit)("rotate",!0)("maxSize",5)("boundaryLinks",!0),e.xp6(1),e.Q6J("ngModel",i._state.limit)("ngModelOptions",e.DdM(13,N)),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",20),e.xp6(2),e.Q6J("ngValue",30)}}function H(l,m){if(1&l&&e.YNc(0,J,46,14,"div",4),2&l){const i=e.oxw();e.Q6J("ngIf",!i.isLoading)}}const q=[{path:"",component:(()=>{class l{constructor(i,c,a,_){this.router=i,this.clientService=c,this.cdr=a,this.confirmationDialogService=_,this.clients=[],this.searchTerm="",this.searchTermUpdate=new t.x,this.isLoading=!1,this.isClients=!0,this._state={page:1,limit:20,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"desc"},this.searchTermUpdate.pipe((0,p.b)(200),(0,n.x)()).subscribe(ee=>{this._state.searchTerm=ee,this.getAllClients(this._state)})}ngOnInit(){this.isLoading=!0,this.getAllClients(this._state)}onSort({column:i,direction:c}){this.sortedColumn=i,this.sortedDirection=c,this._state.sortColumn=i,this._state.sortDirection=c,this.getAllClients(this._state)}getAllClients(i){this.clientService.getClients(i).subscribe(c=>{this.clients=c.results,this.isClients=0!=this.clients.length,this.setState(c),this.isLoading=!1},c=>{this.isLoading=!1})}downloadFileExcel(){return this.clientService.getClientForExcelDownload(this._state).subscribe(i=>{(0,d.S)(i,"client")},i=>{})}refreshClients(){this.getAllClients(this._state)}setState(i){this._state.page=i.page,this._state.limit=i.limit,this._state.totalPages=i.totalPages,this._state.totalResults=i.totalResults}editClient(i){this.router.navigate(["/clients/edit-client/"+i])}updateStatus(i,c){this.clientService.updateClient(i,{isActive:!c}).subscribe(_=>{_&&this.refreshClients()})}updateFavorite(i,c){this.clientService.updateClient(i,{isFavorite:!c}).subscribe(_=>{_&&this.refreshClients()})}deleteClient(i){this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete this client ?").then(c=>{c&&this.clientService.deleteClient(i).subscribe(a=>{this.getAllClients(this._state)})})}}return l.\u0275fac=function(i){return new(i||l)(e.Y36(u.F0),e.Y36(f.y),e.Y36(e.sBO),e.Y36(T.O))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-client"]],viewQuery:function(i,c){if(1&i&&e.Gf(h.j,5),2&i){let a;e.iGM(a=e.CRH())&&(c.headers=a)}},decls:15,vars:8,consts:[[3,"heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-body"],[1,"row","mb-2","search-header"],[1,"col-md-10","text-left","mb-1","mb-md-0"],[1,"form-group","mb-1"],["type","text","type","text","name","searchTerm","id","clientstaffs","placeholder","Search here...",1,"form-control",3,"ngModel","ngModelChange"],["class","col-md-2 text-center",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["table",""],[1,"col-md-2","text-center"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col","sortable","clientGroup",3,"oldColumn","sort"],["scope","col","sortable","name",3,"oldColumn","sort"],["scope","col","sortable","rspTkprName",3,"oldColumn","sort"],["scope","col","sortable","status",3,"oldColumn","sort"],["scope","col","sortable","openDate",3,"oldColumn","sort"],["scope","col","sortable","closeDate",3,"oldColumn","sort"],["scope","col","sortable","lastInvoiceDate",3,"oldColumn","sort"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","rotate","maxSize","boundaryLinks","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngValue"],["role","link",3,"routerLink"]],template:function(i,c){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"form")(6,"div",4)(7,"div",5)(8,"div",6)(9,"input",7),e.NdJ("ngModelChange",function(_){return c._state.searchTerm=_})("ngModelChange",function(_){return c.searchTermUpdate.next(_)}),e.qZA()()(),e.YNc(10,b,3,0,"div",8),e.qZA(),e.YNc(11,M,5,0,"ng-container",9),e.YNc(12,A,3,0,"div",10),e.YNc(13,$,1,1,"ng-template",null,11,e.W1O),e.qZA()()()()()),2&i){const a=e.MAs(14);e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("heading","Clients"),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(7),e.Q6J("ngModel",c._state.searchTerm),e.xp6(1),e.Q6J("ngIf",!c.isLoading&&c._state.totalResults>0),e.xp6(1),e.Q6J("ngIf",c.isLoading),e.xp6(1),e.Q6J("ngIf",!c.isClients)("ngIfElse",a)}},dependencies:[o.sg,o.O5,u.yS,v._Y,v.YN,v.Kr,v.Fj,v.EJ,v.JJ,v.JL,S.q,v.On,v.F,y.N9,x,o.uU],styles:[".black-text-link[_ngcontent-%COMP%]{color:#000;text-decoration:none}"],data:{animation:[(0,s.Z9)()]}}),l})()},{path:"roster/:keyword",component:(()=>{class l{constructor(i,c,a,_){this.router=i,this.clientService=c,this.cdr=a,this.route=_,this.clients=[],this.searchTerm="",this.searchTermUpdate=new t.x,this.isLoading=!1,this.isClients=!0,this._state={page:1,limit:20,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"desc"}}ngOnInit(){this.route.params.subscribe(i=>{""!==i.keyword&&null!=i.keyword&&(this.keyword=i.keyword,this.getAllClients(this._state))})}onSort({column:i,direction:c}){this.sortedColumn=i,this.sortedDirection=c,this._state.sortColumn=i,this._state.sortDirection=c,this.getAllClients(this._state)}getAllClients(i){this.clientService.getClientRoster(i,this.keyword).subscribe(c=>{this.clients=c.results,this.isClients=0!=this.clients.length,this.setState(c),this.isLoading=!1},c=>{this.isLoading=!1})}setState(i){this._state.page=i.page,this._state.limit=i.limit,this._state.totalPages=i.totalPages,this._state.totalResults=i.totalResults}}return l.\u0275fac=function(i){return new(i||l)(e.Y36(u.F0),e.Y36(f.y),e.Y36(e.sBO),e.Y36(u.gz))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-client-roster"]],viewQuery:function(i,c){if(1&i&&e.Gf(h.j,5),2&i){let a;e.iGM(a=e.CRH())&&(c.headers=a)}},decls:9,vars:8,consts:[[3,"heading","previousHeading","previousLink"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-body"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["table",""],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"table-responsive"],[1,"table","table-striped"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","rotate","maxSize","boundaryLinks","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngValue"],["colspan","6"],[4,"ngFor","ngForOf"]],template:function(i,c){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3),e.YNc(5,E,5,0,"ng-container",4),e.YNc(6,P,3,0,"div",5),e.YNc(7,H,1,1,"ng-template",null,6,e.W1O),e.qZA()()()()),2&i){const a=e.MAs(8);e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("heading","Client Roster")("previousHeading","Clients")("previousLink","clients"),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(3),e.Q6J("ngIf",c.isLoading),e.xp6(1),e.Q6J("ngIf",!c.isClients)("ngIfElse",a)}},dependencies:[o.sg,o.O5,v.YN,v.Kr,v.EJ,v.JJ,S.q,v.On,y.N9],data:{animation:[(0,s.Z9)()]}}),l})()}];let F=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[u.Bz.forChild(q),u.Bz]}),l})();var K=r(4336),Q=r(1959),w=r(9581),G=r(6124),Y=r(3476),W=r(6134),z=r(5418),k=r(8530),j=r(1094),V=r(7441);let X=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[f.y,Q.n,w.M,G.w,Y.p,W.O,z.H,k.W,V.x],imports:[o.ez,F,v.UX,K.$n,v.u5,y.ZS,y.jF,j.yI.forRoot()]}),l})()},3196:(C,g,r)=>{r.d(g,{y:()=>d});var o=r(2340),u=r(4650),h=r(529),s=r(2487);let d=(()=>{class t{constructor(n,e){this.http=n,this.apiService=e,this.url=o.N.backendUrl}getClients(n){return this.apiService.get(""==n.searchTerm?`/clients?sortBy=${n.sortColumn+":"+n.sortDirection}&limit=${n.limit}&page=${n.page}`:`/clients?sortBy=${n.sortColumn+":"+n.sortDirection}&limit=${n.limit}&page=${n.page}&search=${n.searchTerm}`)}getClientForExcelDownload(n){return this.apiService.getBlob(""==n.searchTerm?"/clients/download?sortBy="+n.sortColumn+":"+n.sortDirection:`/clients/download?sortBy=${n.sortColumn+":"+n.sortDirection}&search=${n.searchTerm}`)}getDeletedClients(n){return this.apiService.get(""==n.searchTerm?`/clients?isDelete=true&sortBy=${n.sortColumn+":"+n.sortDirection}&limit=${n.limit}&page=${n.page}`:`/clients?isDelete=true&sortBy=${n.sortColumn+":"+n.sortDirection}&limit=${n.limit}&page=${n.page}&search=${n.searchTerm}`)}getClientCSV(){return this.apiService.get("/clients/bulk/csv/data")}getClientById(n){return this.apiService.get(`/clients/${n}`)}addNewClient(n){return this.apiService.post("/clients",n)}updateClient(n,e){return this.apiService.patch(`/clients/${n}`,e)}deleteClient(n){return this.apiService.delete("/clients/"+n)}getClientRoster(n,e){return this.apiService.get(`/clientRosters?sortBy=${n.sortColumn+":"+n.sortDirection}&limit=${n.limit}&page=${n.page}&matterNumber=${e}`)}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(h.eN),u.LFG(s.s))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},5418:(C,g,r)=>{r.d(g,{H:()=>h});var o=r(4650),u=r(2487);let h=(()=>{class s{constructor(t){this.apiService=t}getHourlyBillings(t){return this.apiService.get(""==t.searchTerm?`/hourly-billings?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}`:`/hourly-billings?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}&search=${t.searchTerm}`)}addHourlyBillings(t){return this.apiService.post("/hourly-billings",t)}getHourlyBillingById(t){return this.apiService.get(`/hourly-billings/${t}`)}deleteHourlyBilling(t){return this.apiService.delete(`/hourly-billings/${t}`)}updateHourlyBilling(t,p){return this.apiService.patch(`/hourly-billings/${t}`,p)}}return s.\u0275fac=function(t){return new(t||s)(o.LFG(u.s))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},8530:(C,g,r)=>{r.d(g,{W:()=>h});var o=r(4650),u=r(2487);let h=(()=>{class s{constructor(t){this.apiService=t}getPayorTypes(t){return this.apiService.get(""==t.searchTerm?`/payor-type?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}`:`/payor-type?sortBy=${t.sortColumn+":"+t.sortDirection}&limit=${t.limit}&page=${t.page}&search=${t.searchTerm}`)}addPayorType(t){return this.apiService.post("/payor-type",t)}getPayorTypeById(t){return this.apiService.get(`/payor-type/${t}`)}deletePayorType(t){return this.apiService.delete(`/payor-type/${t}`)}updatePayorType(t,p){return this.apiService.patch(`/payor-type/${t}`,p)}}return s.\u0275fac=function(t){return new(t||s)(o.LFG(u.s))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},7441:(C,g,r)=>{r.d(g,{x:()=>d});var o=r(2340),u=r(4650),h=r(529),s=r(2487);let d=(()=>{class t{constructor(n,e){this.http=n,this.apiService=e,this.url=o.N.backendUrl}getStaffs(n){return this.apiService.get(""==n.searchTerm?`/staffs?sortBy=${n.sortColumn+":"+n.sortDirection}&limit=${n.limit}&page=${n.page}`:`/staffs?sortBy=${n.sortColumn+":"+n.sortDirection}&limit=${n.limit}&page=${n.page}&search=${n.searchTerm}`)}getSearchStaffs(n,e){return this.apiService.post(""==n.searchTerm?`/staffs/search?sortBy=${n.sortColumn+":"+n.sortDirection}&limit=${n.limit}&page=${n.page}`:`/staffs/search?sortBy=${n.sortColumn+":"+n.sortDirection}&limit=${n.limit}&page=${n.page}&search=${n.searchTerm}`,{responsibleBillingManagerId:e})}addMember(n){return this.apiService.post("/staffs",n)}updateMember(n,e){return this.apiService.patch(`/staffs/${n}`,e)}getStaffById(n){return this.apiService.get("/staffs/"+n)}deleteUser(n){return this.apiService.delete("/staffs/"+n)}getActivity(n){return this.apiService.get(""==n.searchTerm?`/staffs/activity/all?sortBy=${n.sortColumn+":"+n.sortDirection}&limit=${n.limit}&page=${n.page}`:`/staffs/activity/all?sortBy=${n.sortColumn+":"+n.sortDirection}&limit=${n.limit}&page=${n.page}&search=${n.searchTerm}`)}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(h.eN),u.LFG(s.s))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})()},4221:(C,g,r)=>{r.d(g,{j:()=>o.j});var o=r(8260)},8260:(C,g,r)=>{r.d(g,{j:()=>h});var o=r(4650);const u={asc:"desc",desc:"asc","":"asc"};let h=(()=>{class s{constructor(){this.direction="",this.sort=new o.vpe}ngOnChanges(t){this.sortable!==t?.oldColumn?.currentValue&&t?.oldColumn?.currentValue!==t?.oldColumn?.previousValue&&(this.direction="")}rotate(){this.direction=u[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275dir=o.lG2({type:s,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(t,p){1&t&&o.NdJ("click",function(){return p.rotate()}),2&t&&o.ekj("asc","asc"===p.direction)("desc","desc"===p.direction)},inputs:{sortable:"sortable",oldColumn:"oldColumn",direction:"direction"},outputs:{sort:"sort"},exportAs:["NgbdSortableHeader"],features:[o.TTD]}),s})()},2558:(C,g,r)=>{r.d(g,{S:()=>o});const o=(u,h="records")=>{const s=new Blob([u],{type:"application/octet-stream"}),d=window.URL.createObjectURL(s);let t=document.createElement("a");t.href=d,t.download=`${h}.xlsx`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}},8161:(C,g,r)=>{r.d(g,{q:()=>t});var o=r(4650),u=r(6895),h=r(7750);const s=function(p){return["/",p]};function d(p,n){if(1&p&&(o.TgZ(0,"li",6)(1,"a",7),o._uU(2),o.qZA()()),2&p){const e=o.oxw();o.xp6(1),o.Q6J("routerLink",o.VKq(2,s,e.previousLink)),o.xp6(1),o.Oqu(e.previousHeading)}}let t=(()=>{class p{constructor(){this.previousLink=decodeURIComponent(this.previousLink)}ngOnInit(){}}return p.\u0275fac=function(e){return new(e||p)},p.\u0275cmp=o.Xpm({type:p,selectors:[["app-page-header"]],inputs:{previousHeading:"previousHeading",previousLink:"previousLink",heading:"heading",previoudIcon:"previoudIcon",icon:"icon"},decls:9,vars:6,consts:[[1,"row"],[1,"col-xl-12"],[1,"page-header"],[1,"breadcrumb"],["class","breadcrumb-item",4,"ngIf"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"],["href","Javascript:void(0)",3,"routerLink"]],template:function(e,f){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),o._uU(3),o.qZA(),o.TgZ(4,"ol",3),o.YNc(5,d,3,4,"li",4),o.TgZ(6,"li",5),o._UZ(7,"i"),o._uU(8),o.qZA()()()()),2&e&&(o.xp6(3),o.hij(" ",f.heading," "),o.xp6(2),o.Q6J("ngIf",f.previousHeading),o.xp6(2),o.Gre("fa ",f.icon,""),o.xp6(1),o.hij(" ",f.heading,""))},dependencies:[u.O5,h.yS],styles:[".breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-bottom:0;list-style:none;padding:7px 0 0 22px}.breadcrumb-item[_ngcontent-%COMP%]{color:#773784}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;color:#773784}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#773784}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]:first-child   i[_ngcontent-%COMP%]{margin-right:1rem}@media (max-width: 768px){.breadcrumb-item.active[_ngcontent-%COMP%]{color:#773784}}"]}),p})()},8372:(C,g,r)=>{r.d(g,{b:()=>s});var o=r(4049),u=r(4482),h=r(5403);function s(d,t=o.z){return(0,u.e)((p,n)=>{let e=null,f=null,T=null;const v=()=>{if(e){e.unsubscribe(),e=null;const y=f;f=null,n.next(y)}};function S(){const y=T+d,Z=t.now();if(Z<y)return e=this.schedule(void 0,y-Z),void n.add(e);v()}p.subscribe((0,h.x)(n,y=>{f=y,T=t.now(),e||(e=t.schedule(S,d),n.add(e))},()=>{v(),n.complete()},void 0,()=>{f=e=null}))})}}}]);