"use strict";(self.webpackChunktest_ng7=self.webpackChunktest_ng7||[]).push([[257,161],{3257:(y,_,o)=>{o.r(_),o.d(_,{HourlyBillingModule:()=>q});var i=o(6895),c=o(7750),t=o(4650),s=o(4006),g=o(4903),r=o(5418),u=o(8161);function f(n,a){1&n&&(t.ynx(0),t.TgZ(1,"div",8)(2,"div",9)(3,"span",10),t._uU(4,"Loading..."),t.qZA()()(),t.BQk())}function m(n,a){1&n&&(t.TgZ(0,"span",22),t._uU(1," * Name is required. "),t.qZA())}function h(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,m,2,0,"span",21),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.addEditForm.controls.name.errors?null:e.addEditForm.controls.name.errors.required)}}function B(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const d=t.oxw(3);return t.KtG(d.onUpdate())}),t._uU(1,"Update Fee Agreement Type"),t.qZA()}}function b(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const d=t.oxw(3);return t.KtG(d.onSubmit())}),t._uU(1,"Add Fee Agreement Type"),t.qZA()}}function H(n,a){if(1&n&&(t.TgZ(0,"form",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"label",15),t._uU(5,"Title *"),t.qZA(),t._UZ(6,"input",16),t.YNc(7,h,2,1,"div",0),t.qZA()(),t._UZ(8,"div",17),t.qZA(),t.TgZ(9,"div",18),t.YNc(10,B,2,0,"button",19),t.YNc(11,b,2,0,"button",19),t.TgZ(12,"button",20),t._uU(13,"Cancel"),t.qZA()()()),2&n){const e=t.oxw(2);t.Q6J("formGroup",e.addEditForm),t.xp6(7),t.Q6J("ngIf",e.addEditForm.controls.name.errors&&(e.addEditForm.controls.name.dirty||e.addEditForm.controls.name.touched)),t.xp6(3),t.Q6J("ngIf",e.editForm),t.xp6(1),t.Q6J("ngIf",!e.editForm)}}function v(n,a){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-page-header",2),t.TgZ(2,"div",3)(3,"div",4)(4,"div",5),t._uU(5," Fee Agreement Type "),t.qZA(),t.TgZ(6,"div",6),t.YNc(7,f,5,0,"ng-container",0),t.YNc(8,H,14,4,"form",7),t.qZA()()()()),2&n){const e=t.oxw();t.Q6J("@routerTransition",void 0),t.xp6(1),t.Q6J("heading","Add | Edit Fee Agreement Type"),t.xp6(1),t.Q6J("@routerTransition",void 0),t.xp6(5),t.Q6J("ngIf",e.isLoading),t.xp6(1),t.Q6J("ngIf",!e.isLoading)}}function E(n,a){1&n&&(t.ynx(0),t.TgZ(1,"div",8)(2,"div",9)(3,"span",10),t._uU(4,"Loading..."),t.qZA()()(),t.BQk())}function Z(n,a){1&n&&(t.TgZ(0,"span",22),t._uU(1," * Fee Agreement Type is required. "),t.qZA())}function I(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Z,2,0,"span",21),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.addEditForm.controls.name.errors?null:e.addEditForm.controls.name.errors.required)}}function M(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const d=t.oxw(3);return t.KtG(d.onUpdate())}),t._uU(1,"Update Fee Agreement Type"),t.qZA()}}function F(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const d=t.oxw(3);return t.KtG(d.onSubmit())}),t._uU(1,"Add Fee Agreement Type"),t.qZA()}}function O(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"form",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"label",15),t._uU(5,"Title *"),t.qZA(),t._UZ(6,"input",16),t.YNc(7,I,2,1,"div",0),t.qZA()(),t._UZ(8,"div",17),t.qZA(),t.TgZ(9,"div",18),t.YNc(10,M,2,0,"button",19),t.YNc(11,F,2,0,"button",19),t.TgZ(12,"button",24),t.NdJ("click",function(){t.CHM(e);const d=t.oxw(2);return t.KtG(d.cancelEvent())}),t._uU(13,"Cancel"),t.qZA()()()}if(2&n){const e=t.oxw(2);t.Q6J("formGroup",e.addEditForm),t.xp6(7),t.Q6J("ngIf",e.addEditForm.controls.name.errors&&(e.addEditForm.controls.name.dirty||e.addEditForm.controls.name.touched)),t.xp6(3),t.Q6J("ngIf",e.editForm),t.xp6(1),t.Q6J("ngIf",!e.editForm)}}function U(n,a){if(1&n&&(t.TgZ(0,"div",4)(1,"div",5),t._uU(2," Fee Agreement Type "),t.qZA(),t.TgZ(3,"div",6),t.YNc(4,E,5,0,"ng-container",0),t.YNc(5,O,14,4,"form",7),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.isLoading),t.xp6(1),t.Q6J("ngIf",!e.isLoading)}}let C=(()=>{class n{constructor(e,l,d,p){this.router=e,this.fb=l,this.route=d,this.hourlyBillingService=p,this.editForm=!1,this.isLoading=!1,this.newItemEvent=new t.vpe,this.route.params.subscribe(T=>{""!==T.tempId&&null!=T.tempId&&(this.tempId=T.tempId,this.editForm=!0,this.getHourlyBilling(this.tempId))}),this.addEditForm=l.group({name:["",[s.kI.required]]})}ngOnInit(){}cancelEvent(){this.addEditForm.reset(),this.newItemEvent.emit()}getHourlyBilling(e){this.isLoading=!0,this.hourlyBillingService.getHourlyBillingById(e).subscribe(l=>{this.addEditForm.patchValue(l),this.isLoading=!1},l=>{this.isLoading=!1,this.router.navigate(["data-mangement/hourly-billings"])})}onSubmit(){this.hourlyBillingService.addHourlyBillings(this.addEditForm.value).subscribe(e=>{e&&(this.addEditForm.reset(),this.newItemEvent.emit())})}onUpdate(){this.hourlyBillingService.updateHourlyBilling(this.tempId,this.addEditForm.value).subscribe(e=>{e&&(this.addEditForm.reset(),this.router.navigate(["data-mangement/hourly-billings"]))})}onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.F0),t.Y36(s.qu),t.Y36(c.gz),t.Y36(r.H))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-edit-hourly-billing"]],outputs:{newItemEvent:"newItemEvent"},decls:2,vars:2,consts:[[4,"ngIf"],["class","card",4,"ngIf"],[3,"heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-header"],[1,"card-body"],["novalidate","",3,"formGroup",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group","mb-2"],[1,"bmd-label-floating","mb-2"],["formControlName","name","type","text",1,"form-control"],[1,"col-md-6"],[1,"form-group","mb-2","py-2"],["type","button","class","btn btn-info",3,"click",4,"ngIf"],["type","button","routerLink","/data-mangement/hourly-billings",1,"btn","btn-outline-secondary"],["class"," text-danger error",4,"ngIf"],[1,"text-danger","error"],["type","button",1,"btn","btn-info",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(e,l){1&e&&(t.YNc(0,v,9,5,"div",0),t.YNc(1,U,6,2,"div",1)),2&e&&(t.Q6J("ngIf",l.editForm),t.xp6(1),t.Q6J("ngIf",!l.editForm))},dependencies:[i.O5,c.rH,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,u.q],styles:[".ck.ck-content[_ngcontent-%COMP%]{border:2px solid #707070!important}"],data:{animation:[(0,g.Z9)()]}}),n})();var x=o(4221),P=o(7579),J=o(8372),L=o(1884),N=o(7253),S=o(4304);function Y(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-add-edit-hourly-billing",12),t.NdJ("newItemEvent",function(){t.CHM(e);const d=t.oxw();return t.KtG(d.reload())}),t.qZA()}}function D(n,a){1&n&&(t.ynx(0),t.TgZ(1,"div",13)(2,"div",14)(3,"span",15),t._uU(4,"Loading..."),t.qZA()()(),t.BQk())}function w(n,a){1&n&&(t.TgZ(0,"div")(1,"p",13),t._uU(2,"No Fee Agreement Type found"),t.qZA()())}function Q(n,a){1&n&&(t.TgZ(0,"th",20),t._uU(1,"Actions"),t.qZA())}function K(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td")(1,"div",21)(2,"button",22),t.NdJ("click",function(){t.CHM(e);const d=t.oxw().$implicit,p=t.oxw(3);return t.KtG(p.editHourlyBilling(d.id))}),t._UZ(3,"img",23),t.qZA(),t.TgZ(4,"button",22),t.NdJ("click",function(){t.CHM(e);const d=t.oxw().$implicit,p=t.oxw(3);return t.KtG(p.deleteHourlyBilling(d.id))}),t._UZ(5,"img",24),t.qZA()()()}}function R(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.YNc(3,K,6,0,"td",9),t.qZA()),2&n){const e=a.$implicit,l=t.oxw(3);t.xp6(2),t.Oqu(null==e?null:e.name),t.xp6(1),t.Q6J("ngIf",l.isEditAccess)}}function j(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"table",16)(2,"thead")(3,"tr")(4,"th",17),t.NdJ("sort",function(d){t.CHM(e);const p=t.oxw(2);return t.KtG(p.onSort(d))}),t.TgZ(5,"span"),t._uU(6,"Name"),t.qZA()(),t.YNc(7,Q,2,0,"th",18),t.qZA()(),t.TgZ(8,"tbody"),t.YNc(9,R,4,2,"tr",19),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(7),t.Q6J("ngIf",e.isEditAccess),t.xp6(2),t.Q6J("ngForOf",e.hourlyBillings)}}function G(n,a){if(1&n&&t.YNc(0,j,10,2,"div",9),2&n){const e=t.oxw();t.Q6J("ngIf",!e.isLoading)}}const W=[{path:"",component:(()=>{class n{constructor(e,l,d,p,T){this.router=e,this.hourlyBillingService=l,this.cdr=d,this.jwtService=p,this.confirmationDialogService=T,this.searchTerm="",this.searchTermUpdate=new P.x,this.hourlyBillings=[],this.isHourlyBillings=!0,this.isLoading=!1,this.isEditAccess=!1,this._state={page:1,limit:10,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"asc"},this.searchTermUpdate.pipe((0,J.b)(200),(0,L.x)()).subscribe(X=>{this._state.searchTerm=X,this.getHourlyBillings(this._state)})}ngOnInit(){this.isLoading=!0,this.isEditAccess=this.jwtService.checkAccess("data-mangement"),this.getHourlyBillings(this._state)}reload(){window.scrollTo(0,400),this.getHourlyBillings(this._state)}getHourlyBillings(e){this.isLoading=!0,this.hourlyBillingService.getHourlyBillings(e).subscribe(l=>{this.hourlyBillings=l.results,this.setState(l),this.isHourlyBillings=0!=this.hourlyBillings.length,this.isLoading=!1},l=>{this.isLoading=!1})}editHourlyBilling(e){this.router.navigate(["/data-mangement/hourly-billings/edit-hourly-billing/"+e])}deleteHourlyBilling(e){this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete this hourly billing ?").then(l=>{l&&this.hourlyBillingService.deleteHourlyBilling(e).subscribe(d=>{this.getHourlyBillings(this._state)})})}onSort({column:e,direction:l}){alert(e),this.sortedColumn=e,this.sortedDirection=l,this._state.sortColumn=e,this._state.sortDirection=l,this.getHourlyBillings(this._state)}refresh(){this.getHourlyBillings(this._state)}setState(e){this._state.page=e.page,this._state.limit=e.limit,this._state.totalPages=e.totalPages,this._state.totalResults=e.totalResults}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.F0),t.Y36(r.H),t.Y36(t.sBO),t.Y36(N.Tj),t.Y36(S.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-hourly-billing"]],viewQuery:function(e,l){if(1&e&&t.Gf(x.j,5),2&e){let d;t.iGM(d=t.CRH())&&(l.headers=d)}},decls:14,vars:8,consts:[[3,"heading"],[1,"container-fluid","mt-2"],[3,"newItemEvent",4,"ngIf"],[1,"card","card-2","bg-transparent","mt-3"],[1,"card-body"],[1,"row","mb-2","search-header"],[1,"col-md-12","text-left"],[1,"form-group","mb-1"],["type","text","type","text","name","searchTerm","placeholder","Search here...",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["table",""],[3,"newItemEvent"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"table","table-hover"],["scope","col","sortable","name",3,"sort"],["scope","col","width","100",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","col","width","100"],[1,"action-buttons"],[3,"click"],["src","assets/images/pencil.svg","alt",""],["src","assets/images/icons8-trash-can.svg","alt",""]],template:function(e,l){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-page-header",0),t.TgZ(2,"div",1),t.YNc(3,Y,1,0,"app-add-edit-hourly-billing",2),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"input",8),t.NdJ("ngModelChange",function(p){return l._state.searchTerm=p})("ngModelChange",function(p){return l.searchTermUpdate.next(p)}),t.qZA()()()(),t.YNc(10,D,5,0,"ng-container",9),t.YNc(11,w,3,0,"div",10),t.YNc(12,G,1,1,"ng-template",null,11,t.W1O),t.qZA()()()()),2&e){const d=t.MAs(13);t.Q6J("@routerTransition",void 0),t.xp6(1),t.Q6J("heading","Fee Agreement Type"),t.xp6(1),t.Q6J("@routerTransition",void 0),t.xp6(1),t.Q6J("ngIf",l.isEditAccess),t.xp6(6),t.Q6J("ngModel",l._state.searchTerm),t.xp6(1),t.Q6J("ngIf",l.isLoading),t.xp6(1),t.Q6J("ngIf",!l.isHourlyBillings)("ngIfElse",d)}},dependencies:[i.sg,i.O5,s.Fj,s.JJ,u.q,s.On,C],data:{animation:[(0,g.Z9)()]}}),n})()},{path:"add-hourly-billing",component:C},{path:"edit-hourly-billing/:tempId",component:C}];let $=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(W),c.Bz]}),n})();var k=o(486),A=o(6393);let q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[x.j,r.H],imports:[i.ez,$,s.UX,k.$n,s.u5,A.ZS,A.jF]}),n})()},5418:(y,_,o)=>{o.d(_,{H:()=>t});var i=o(4650),c=o(2487);let t=(()=>{class s{constructor(r){this.apiService=r}getHourlyBillings(r){return this.apiService.get(""==r.searchTerm?`/hourly-billings?sortBy=${r.sortColumn+":"+r.sortDirection}&limit=${r.limit}&page=${r.page}`:`/hourly-billings?sortBy=${r.sortColumn+":"+r.sortDirection}&limit=${r.limit}&page=${r.page}&search=${r.searchTerm}`)}addHourlyBillings(r){return this.apiService.post("/hourly-billings",r)}getHourlyBillingById(r){return this.apiService.get(`/hourly-billings/${r}`)}deleteHourlyBilling(r){return this.apiService.delete(`/hourly-billings/${r}`)}updateHourlyBilling(r,u){return this.apiService.patch(`/hourly-billings/${r}`,u)}}return s.\u0275fac=function(r){return new(r||s)(i.LFG(c.s))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},4903:(y,_,o)=>{o.d(_,{Z9:()=>c});var i=o(7340);function c(){return function t(){return(0,i.X$)("routerTransition",[])}()}},4221:(y,_,o)=>{o.d(_,{j:()=>i.j});var i=o(8260)},8260:(y,_,o)=>{o.d(_,{j:()=>t});var i=o(4650);const c={asc:"desc",desc:"asc","":"asc"};let t=(()=>{class s{constructor(){this.direction="",this.sort=new i.vpe}ngOnChanges(r){this.sortable!==r?.oldColumn?.currentValue&&r?.oldColumn?.currentValue!==r?.oldColumn?.previousValue&&(this.direction="")}rotate(){this.direction=c[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=i.lG2({type:s,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(r,u){1&r&&i.NdJ("click",function(){return u.rotate()}),2&r&&i.ekj("asc","asc"===u.direction)("desc","desc"===u.direction)},inputs:{sortable:"sortable",oldColumn:"oldColumn",direction:"direction"},outputs:{sort:"sort"},exportAs:["NgbdSortableHeader"],features:[i.TTD]}),s})()},486:(y,_,o)=>{o.d(_,{$n:()=>i.$});var i=o(2956);o(1880)},8161:(y,_,o)=>{o.d(_,{q:()=>r});var i=o(4650),c=o(6895),t=o(7750);const s=function(u){return["/",u]};function g(u,f){if(1&u&&(i.TgZ(0,"li",6)(1,"a",7),i._uU(2),i.qZA()()),2&u){const m=i.oxw();i.xp6(1),i.Q6J("routerLink",i.VKq(2,s,m.previousLink)),i.xp6(1),i.Oqu(m.previousHeading)}}let r=(()=>{class u{constructor(){this.previousLink=decodeURIComponent(this.previousLink)}ngOnInit(){}}return u.\u0275fac=function(m){return new(m||u)},u.\u0275cmp=i.Xpm({type:u,selectors:[["app-page-header"]],inputs:{previousHeading:"previousHeading",previousLink:"previousLink",heading:"heading",previoudIcon:"previoudIcon",icon:"icon"},decls:9,vars:6,consts:[[1,"row"],[1,"col-xl-12"],[1,"page-header"],[1,"breadcrumb"],["class","breadcrumb-item",4,"ngIf"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"],["href","Javascript:void(0)",3,"routerLink"]],template:function(m,h){1&m&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),i._uU(3),i.qZA(),i.TgZ(4,"ol",3),i.YNc(5,g,3,4,"li",4),i.TgZ(6,"li",5),i._UZ(7,"i"),i._uU(8),i.qZA()()()()),2&m&&(i.xp6(3),i.hij(" ",h.heading," "),i.xp6(2),i.Q6J("ngIf",h.previousHeading),i.xp6(2),i.Gre("fa ",h.icon,""),i.xp6(1),i.hij(" ",h.heading,""))},dependencies:[c.O5,t.yS],styles:[".breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-bottom:0;list-style:none;padding:7px 0 0 22px}.breadcrumb-item[_ngcontent-%COMP%]{color:#773784}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;color:#773784}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#773784}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]:first-child   i[_ngcontent-%COMP%]{margin-right:1rem}@media (max-width: 768px){.breadcrumb-item.active[_ngcontent-%COMP%]{color:#773784}}"]}),u})()},2956:(y,_,o)=>{o.d(_,{$:()=>s});var i=o(6895),c=o(7750),t=o(4650);let s=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[i.ez,c.Bz]}),g})()},7253:(y,_,o)=>{o.d(_,{Tj:()=>c.T}),o(6256);var c=o(4891)},8372:(y,_,o)=>{o.d(_,{b:()=>s});var i=o(4049),c=o(4482),t=o(5403);function s(g,r=i.z){return(0,c.e)((u,f)=>{let m=null,h=null,B=null;const b=()=>{if(m){m.unsubscribe(),m=null;const v=h;h=null,f.next(v)}};function H(){const v=B+g,E=r.now();if(E<v)return m=this.schedule(void 0,v-E),void f.add(m);b()}u.subscribe((0,t.x)(f,v=>{h=v,B=r.now(),m||(m=r.schedule(H,g),f.add(m))},()=>{b(),f.complete()},void 0,()=>{h=m=null}))})}}}]);