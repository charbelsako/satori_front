"use strict";(self.webpackChunktest_ng7=self.webpackChunktest_ng7||[]).push([[946,161],{1644:(x,m,s)=>{s.r(m),s.d(m,{RoleModule:()=>ce});var i=s(6895),c=s(7750),d=s(4006),u=s(4903),e=s(4650),_=s(6316),p=s(4891),h=s(8161);function g(n,a){1&n&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"span",9),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function T(n,a){1&n&&(e.TgZ(0,"th"),e._uU(1,"RateMiner"),e.qZA())}function C(n,a){1&n&&(e.TgZ(0,"th"),e._uU(1,"DealMapper"),e.qZA())}function A(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"span")(2,"label",22)(3,"input",23),e.NdJ("change",function(r){e.CHM(t);const l=e.oxw().index,f=e.oxw(2);return e.KtG(f.updateProfilePermissionSet(l,"rateMiner",r.target.checked))}),e.qZA(),e._UZ(4,"span",24),e.qZA()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("checked",t.rateMiner)}}function b(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"span")(2,"label",22)(3,"input",23),e.NdJ("change",function(r){e.CHM(t);const l=e.oxw().index,f=e.oxw(2);return e.KtG(f.updateProfilePermissionSet(l,"dealMapper",r.target.checked))}),e.qZA(),e._UZ(4,"span",24),e.qZA()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("checked",t.dealMapper)}}function Z(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",7)(2,"td"),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e.YNc(5,A,5,1,"td",5),e.YNc(6,b,5,1,"td",5),e.TgZ(7,"td")(8,"span")(9,"label",22)(10,"input",23),e.NdJ("change",function(r){const f=e.CHM(t).index,v=e.oxw(2);return e.KtG(v.updatePermissionSet(f,"read",r.target.checked))}),e.qZA(),e._UZ(11,"span",24),e.qZA()()(),e.TgZ(12,"td")(13,"span")(14,"label",22)(15,"input",23),e.NdJ("change",function(r){const f=e.CHM(t).index,v=e.oxw(2);return e.KtG(v.updatePermissionSet(f,"write",r.target.checked))}),e.qZA(),e._UZ(16,"span",24),e.qZA()()()(),e.BQk()}if(2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,5,t.name)),e.xp6(2),e.Q6J("ngIf",o.isSuperAdmin),e.xp6(1),e.Q6J("ngIf",o.isSuperAdmin),e.xp6(4),e.Q6J("checked",t.read),e.xp6(5),e.Q6J("checked",t.write)}}function M(n,a){if(1&n&&(e.TgZ(0,"option",27),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.name),e.xp6(1),e.Oqu(e.lcZ(2,2,t.name))}}function y(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"label",13),e._uU(3,"Welcome Screen"),e.qZA(),e.TgZ(4,"select",25),e.NdJ("ngModelChange",function(r){e.CHM(t);const l=e.oxw(2);return e.KtG(l.welcomeScreen=r)}),e.YNc(5,M,3,4,"option",26),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.welcomeScreen),e.xp6(1),e.Q6J("ngForOf",t.permissionsStatus)}}function E(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"input",14),e.NdJ("ngModelChange",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.roleName=r)}),e.qZA()()(),e.TgZ(6,"form",15),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onSubmit())}),e.TgZ(7,"table",16)(8,"thead")(9,"tr",7)(10,"th"),e._uU(11,"Module Items"),e.qZA(),e.YNc(12,T,2,0,"th",5),e.YNc(13,C,2,0,"th",5),e.TgZ(14,"th"),e._uU(15,"Read"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Read-Write"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,Z,17,7,"ng-container",17),e.qZA()(),e.YNc(20,y,6,2,"div",18),e.TgZ(21,"div",19)(22,"button",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkSubmit())}),e._uU(23,"Submit"),e.qZA(),e.TgZ(24,"button",21),e._uU(25,"Cancel"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.roleName),e.xp6(7),e.Q6J("ngIf",t.isSuperAdmin),e.xp6(1),e.Q6J("ngIf",t.isSuperAdmin),e.xp6(6),e.Q6J("ngForOf",t.permissionsStatus),e.xp6(1),e.Q6J("ngIf",t.permissionsStatus.length>0)}}let S=(()=>{class n{constructor(t,o,r,l,f){this.fb=t,this.rolesService=o,this.router=r,this.route=l,this.jwtService=f,this.roleId="",this.editForm=!1,this.isLoading=!1,this.modulesPermissions=new d.Oe([]),this.webModules=[],this.welcomeScreen="Dashboard",this.route.params.subscribe(v=>{""!==v.roleId&&null!=v.roleId&&(this.roleId=v.roleId,this.editForm=!0)})}ngOnInit(){this.user=this.jwtService.getUser(),this.isSuperAdmin=this.user.isSuperAdmin,this.permissionsStatus=[],this.webModules=this.jwtService.getPermissions(),this.editForm&&this.roleId?this.getRole(this.roleId):this.createNewForm()}createNewForm(){this.isLoading=!0,this.webModules.map(t=>{this.permissionsStatus.push({name:t.name,key:t.key,read:!0,write:!0,rateMiner:!1,dealMapper:!1})}),this.isLoading=!1,console.log(this.permissionsStatus)}getRole(t){this.isLoading=!0,this.rolesService.getRoleById(t).subscribe(o=>{this.permissionsStatus=o.permission,this.roleName=o.name,this.welcomeScreen=o.welcomeScreen,this.isLoading=!1},o=>{this.isLoading=!1,this.router.navigate(["/roles"])})}onUpdate(){this.rolesService.updateRole(this.roleId,{name:this.roleName,permission:this.permissionsStatus,welcomeScreen:this.welcomeScreen}).subscribe(o=>{this.router.navigate(["/roles"])})}onSubmit(){this.rolesService.addNewRole({name:this.roleName,permission:this.permissionsStatus,welcomeScreen:this.welcomeScreen}).subscribe(o=>{this.router.navigate(["/roles"])})}checkSubmit(){this.editForm?this.onUpdate():this.onSubmit()}updatePermissionSet(t,o,r){const l=this.permissionsStatus[t];l[o]=r,"write"===o&&r&&(l.read=!0),"read"===o&&!r&&(l.write=!1)}updateProfilePermissionSet(t,o,r){const l=this.permissionsStatus[t];l[o]=r,"rateMiner"===o&&(r?(l.rateMiner=!0,this.updatePermissionSet(t,"read",!0)):(l.rateMiner=!1,this.updatePermissionSet(t,"read",!1))),"dealMapper"===o&&(r?(l.dealMapper=!0,this.updatePermissionSet(t,"read",!0)):(l.dealMapper=!1,this.updatePermissionSet(t,"read",!1)))}getObjectKeys(t){return Object.keys(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.qu),e.Y36(_.N),e.Y36(c.F0),e.Y36(c.gz),e.Y36(p.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-edit-role"]],decls:9,vars:7,consts:[[3,"previousHeading","previousLink","heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-header"],[1,"card-body"],[4,"ngIf"],["class","tab-inn",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"tab-inn"],[1,"table-responsive","table-desi"],[1,"form-group",2,"margin","10px 10px"],[1,"bmd-label-floating"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["role","form","novalidate","",1,"form-group",3,"ngSubmit"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["class","table-responsive table-desi",4,"ngIf"],[1,"form-group","mb-2","py-2","text-right"],["type","button",1,"btn","btn-info",3,"click"],["type","button","routerLink","/roles",1,"btn","btn-secondary"],[1,"switch"],["type","checkbox",3,"checked","change"],[1,"slider","round"],["name","welcomeScreen",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3),e._uU(5," Add | Edit Role "),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,g,5,0,"ng-container",5),e.YNc(8,E,26,5,"div",6),e.qZA()()()()),2&t&&(e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("previousHeading","Roles and Permissions")("previousLink","roles")("heading","Add-Edit Role"),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(5),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},dependencies:[i.sg,i.O5,c.rH,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,h.q,d.On,d.F,i.rS],styles:[".form-check-input[_ngcontent-%COMP%]{font-size:20px}"],data:{animation:[(0,u.Z9)()]}}),n})();var J=s(4221),w=s(7579),I=s(8372),P=s(1884),N=s(7253),O=s(4304),R=s(6393);function U(n,a){1&n&&(e.TgZ(0,"button",13),e._uU(1,"Add New Role"),e.qZA())}function L(n,a){1&n&&(e.ynx(0),e.TgZ(1,"div",14)(2,"div",15)(3,"span",16),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function Q(n,a){1&n&&(e.TgZ(0,"div")(1,"p",14),e._uU(2,"No users found"),e.qZA()())}function Y(n,a){1&n&&(e.TgZ(0,"th",26),e._uU(1,"Edit"),e.qZA())}function F(n,a){1&n&&(e.TgZ(0,"th",26),e._uU(1,"Delete"),e.qZA())}function q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"div",28)(2,"button",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.editRole(r.id))}),e._UZ(3,"img",30),e.qZA()()()}}function D(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"div",28)(2,"button",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.deleteRole(r.id))}),e._UZ(3,"img",31),e.qZA()()()}}const H=function(n){return["view-role",n]};function K(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"a",27),e._uU(3),e.qZA()(),e.YNc(4,q,4,0,"td",10),e.YNc(5,D,4,0,"td",10),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(3);e.xp6(2),e.Q6J("routerLink",e.VKq(4,H,t.id)),e.xp6(1),e.hij(" ",null==t?null:t.name," "),e.xp6(1),e.Q6J("ngIf",o.isEditAccess),e.xp6(1),e.Q6J("ngIf",o.isEditAccess)}}const j=function(){return{standalone:!0}};function B(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",17)(2,"table",18)(3,"thead")(4,"tr")(5,"th",19),e.NdJ("sort",function(r){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onSort(r))}),e._uU(6,"Title"),e.qZA(),e.YNc(7,Y,2,0,"th",20),e.YNc(8,F,2,0,"th",20),e.qZA()(),e.TgZ(9,"tbody"),e.YNc(10,K,6,6,"tr",21),e.qZA()(),e.TgZ(11,"div",22)(12,"ngb-pagination",23),e.NdJ("pageChange",function(r){e.CHM(t);const l=e.oxw(2);return e.KtG(l._state.page=r)})("pageChange",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.refreshStaff())}),e.qZA(),e.TgZ(13,"select",24),e.NdJ("ngModelChange",function(r){e.CHM(t);const l=e.oxw(2);return e.KtG(l._state.limit=r)})("ngModelChange",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.refreshStaff())}),e.TgZ(14,"option",25),e._uU(15,"10 items per page"),e.qZA(),e.TgZ(16,"option",25),e._uU(17,"20 items per page"),e.qZA(),e.TgZ(18,"option",25),e._uU(19,"30 items per page"),e.qZA()()()()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.isEditAccess),e.xp6(1),e.Q6J("ngIf",t.isEditAccess),e.xp6(2),e.Q6J("ngForOf",t.roles),e.xp6(2),e.Q6J("collectionSize",t._state.totalResults)("page",t._state.page)("pageSize",t._state.limit)("rotate",!0)("maxSize",5)("boundaryLinks",!0),e.xp6(1),e.Q6J("ngModel",t._state.limit)("ngModelOptions",e.DdM(14,j)),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",20),e.xp6(2),e.Q6J("ngValue",30)}}function k(n,a){if(1&n&&e.YNc(0,B,20,15,"div",10),2&n){const t=e.oxw();e.Q6J("ngIf",!t.isLoading)}}function W(n,a){1&n&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"span",9),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function G(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Yes"),e.qZA())}function z(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"No"),e.qZA())}function X(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Yes"),e.qZA())}function $(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"No"),e.qZA())}function ee(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Yes"),e.qZA())}function te(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"No"),e.qZA())}function ne(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Yes"),e.qZA())}function oe(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"No"),e.qZA())}function ie(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td"),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e.TgZ(5,"td"),e.YNc(6,G,2,0,"span",5),e.YNc(7,z,2,0,"span",5),e.qZA(),e.TgZ(8,"td"),e.YNc(9,X,2,0,"span",5),e.YNc(10,$,2,0,"span",5),e.qZA(),e.TgZ(11,"td"),e.YNc(12,ee,2,0,"span",5),e.YNc(13,te,2,0,"span",5),e.qZA(),e.TgZ(14,"td"),e.YNc(15,ne,2,0,"span",5),e.YNc(16,oe,2,0,"span",5),e.qZA()(),e.BQk()),2&n){const t=a.$implicit;e.xp6(3),e.Oqu(e.lcZ(4,9,t.name)),e.xp6(3),e.Q6J("ngIf",t.rateMiner),e.xp6(1),e.Q6J("ngIf",!t.rateMiner),e.xp6(2),e.Q6J("ngIf",t.dealMapper),e.xp6(1),e.Q6J("ngIf",!t.dealMapper),e.xp6(2),e.Q6J("ngIf",t.read),e.xp6(1),e.Q6J("ngIf",!t.read),e.xp6(2),e.Q6J("ngIf",t.write),e.xp6(1),e.Q6J("ngIf",!t.write)}}function se(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"input",14),e.NdJ("ngModelChange",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.roleName=r)}),e.qZA()()(),e.TgZ(6,"table",15)(7,"thead")(8,"tr")(9,"th"),e._uU(10,"Module Items"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Rateminer"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Dealmapper"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Read"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Read-Write"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,ie,17,11,"ng-container",16),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("readOnly",!0)("ngModel",t.roleName),e.xp6(15),e.Q6J("ngForOf",t.permissionsStatus)}}const re=[{path:"",component:(()=>{class n{constructor(t,o,r,l,f){this.router=t,this.rolesService=o,this.cdr=r,this.jwtService=l,this.confirmationDialogService=f,this.searchTerm="",this.searchTermUpdate=new w.x,this.isLoading=!1,this.isRoles=!0,this.roles=[],this._state={page:1,limit:20,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"desc"},this.isEditAccess=!1,this.searchTermUpdate.pipe((0,I.b)(1e3),(0,P.x)()).subscribe(v=>{this._state.searchTerm=v,this.getAllRoles(this._state)})}ngOnInit(){this.isLoading=!0,this.isEditAccess=this.jwtService.checkAccess("roles"),this.getAllRoles(this._state)}onSort({column:t,direction:o}){this.sortedColumn=t,this.sortedDirection=o,this._state.sortColumn=t,this._state.sortDirection=o,this.getAllRoles(this._state)}getAllRoles(t){this.isLoading=!0,this.rolesService.getRoles(t).subscribe(o=>{this.roles=o.results,this.isRoles=0!=this.roles.length,this.setState(o),this.isLoading=!1},o=>{this.isLoading=!1})}refreshRoles(){this.getAllRoles(this._state)}setState(t){this._state.page=t.page,this._state.limit=t.limit,this._state.totalPages=t.totalPages,this._state.totalResults=t.totalResults}editRole(t){this.router.navigate(["/roles/edit-role/"+t])}updateStatus(t,o){this.rolesService.updateRole(t,{isActive:!o}).subscribe(l=>{l&&this.refreshRoles()})}deleteRole(t){this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete this user ?").then(o=>{o&&this.rolesService.deleteRole(t).subscribe(r=>{this.getAllRoles(this._state)})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.F0),e.Y36(_.N),e.Y36(e.sBO),e.Y36(N.Tj),e.Y36(O.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles"]],viewQuery:function(t,o){if(1&t&&e.Gf(J.j,5),2&t){let r;e.iGM(r=e.CRH())&&(o.headers=r)}},decls:16,vars:8,consts:[[3,"heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-body"],[1,"row","mb-2","search-header"],[1,"col-md-10","text-left","mb-1","mb-md-0"],[1,"form-group","mb-1"],["type","text","type","text","name","searchTerm","id","userstaffs","placeholder","Search here...",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-2","text-center"],["type","button","routerLink","/roles/add-role","class","btn btn-primary btn-block",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["table",""],["type","button","routerLink","/roles/add-role",1,"btn","btn-primary","btn-block"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col","sortable","name",3,"sort"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","rotate","maxSize","boundaryLinks","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngValue"],["scope","col"],[3,"routerLink"],[1,"action-buttons"],[3,"click"],["src","assets/images/pencil.svg","alt",""],["src","assets/images/icons8-trash-can.svg","alt",""]],template:function(t,o){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"form")(6,"div",4)(7,"div",5)(8,"div",6)(9,"input",7),e.NdJ("ngModelChange",function(l){return o._state.searchTerm=l})("ngModelChange",function(l){return o.searchTermUpdate.next(l)}),e.qZA()()(),e.TgZ(10,"div",8),e.YNc(11,U,2,0,"button",9),e.qZA()(),e.YNc(12,L,5,0,"ng-container",10),e.YNc(13,Q,3,0,"div",11),e.YNc(14,k,1,1,"ng-template",null,12,e.W1O),e.qZA()()()()()),2&t){const r=e.MAs(15);e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("heading","Roles and Permissions"),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(7),e.Q6J("ngModel",o._state.searchTerm),e.xp6(2),e.Q6J("ngIf",o.isEditAccess),e.xp6(1),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isRoles)("ngIfElse",r)}},dependencies:[i.sg,i.O5,c.rH,c.yS,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,h.q,d.On,d.F,R.N9],data:{animation:[(0,u.Z9)()]}}),n})()},{path:"add-role",component:S},{path:"edit-role/:roleId",component:S},{path:"view-role/:roleId",component:(()=>{class n{constructor(t,o,r,l,f){this.fb=t,this.rolesService=o,this.router=r,this.route=l,this.jwtService=f,this.roleId="",this.editForm=!1,this.isLoading=!1,this.modulesPermissions=new d.Oe([]),this.webModules=[],this.route.params.subscribe(v=>{""!==v.roleId&&null!=v.roleId&&(this.roleId=v.roleId,this.editForm=!0)})}ngOnInit(){this.getRole(this.roleId)}getRole(t){this.isLoading=!0,this.rolesService.getRoleById(t).subscribe(o=>{this.permissionsStatus=o.permission,this.roleName=o.name,this.isLoading=!1},o=>{this.isLoading=!1,this.router.navigate(["/roles"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.qu),e.Y36(_.N),e.Y36(c.F0),e.Y36(c.gz),e.Y36(p.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-role"]],decls:9,vars:7,consts:[[3,"previousHeading","previousLink","heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-header"],[1,"card-body"],[4,"ngIf"],["class","tab-inn",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"tab-inn"],[1,"table-responsive","table-desi"],[1,"form-group",2,"margin","10px 10px"],[1,"bmd-label-floating"],["type","text",1,"form-control",3,"readOnly","ngModel","ngModelChange"],[1,"table","table-striped"],[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3),e._uU(5," Role Details "),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,W,5,0,"ng-container",5),e.YNc(8,se,21,3,"div",6),e.qZA()()()()),2&t&&(e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("previousHeading","Roles and Permissions")("previousLink","roles")("heading","Role Details"),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(5),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},dependencies:[i.sg,i.O5,d.Fj,d.JJ,h.q,d.On,i.rS],data:{animation:[(0,u.Z9)()]}}),n})()}];let ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.Bz.forChild(re),c.Bz]}),n})();var le=s(8260),de=s(4336);let ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[le.j,_.N],imports:[i.ez,ae,d.UX,de.$n,d.u5,R.ZS,R.jF]}),n})()},4903:(x,m,s)=>{s.d(m,{Z9:()=>c});var i=s(7340);function c(){return function d(){return(0,i.X$)("routerTransition",[])}()}},4221:(x,m,s)=>{s.d(m,{j:()=>i.j});var i=s(8260)},8260:(x,m,s)=>{s.d(m,{j:()=>d});var i=s(4650);const c={asc:"desc",desc:"asc","":"asc"};let d=(()=>{class u{constructor(){this.direction="",this.sort=new i.vpe}ngOnChanges(_){this.sortable!==_?.oldColumn?.currentValue&&_?.oldColumn?.currentValue!==_?.oldColumn?.previousValue&&(this.direction="")}rotate(){this.direction=c[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275dir=i.lG2({type:u,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(_,p){1&_&&i.NdJ("click",function(){return p.rotate()}),2&_&&i.ekj("asc","asc"===p.direction)("desc","desc"===p.direction)},inputs:{sortable:"sortable",oldColumn:"oldColumn",direction:"direction"},outputs:{sort:"sort"},exportAs:["NgbdSortableHeader"],features:[i.TTD]}),u})()},4336:(x,m,s)=>{s.d(m,{$n:()=>i.$});var i=s(2956);s(110),s(1880)},8161:(x,m,s)=>{s.d(m,{q:()=>_});var i=s(4650),c=s(6895),d=s(7750);const u=function(p){return["/",p]};function e(p,h){if(1&p&&(i.TgZ(0,"li",6)(1,"a",7),i._uU(2),i.qZA()()),2&p){const g=i.oxw();i.xp6(1),i.Q6J("routerLink",i.VKq(2,u,g.previousLink)),i.xp6(1),i.Oqu(g.previousHeading)}}let _=(()=>{class p{constructor(){this.previousLink=decodeURIComponent(this.previousLink)}ngOnInit(){}}return p.\u0275fac=function(g){return new(g||p)},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-page-header"]],inputs:{previousHeading:"previousHeading",previousLink:"previousLink",heading:"heading",previoudIcon:"previoudIcon",icon:"icon"},decls:9,vars:6,consts:[[1,"row"],[1,"col-xl-12"],[1,"page-header"],[1,"breadcrumb"],["class","breadcrumb-item",4,"ngIf"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"],["href","Javascript:void(0)",3,"routerLink"]],template:function(g,T){1&g&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),i._uU(3),i.qZA(),i.TgZ(4,"ol",3),i.YNc(5,e,3,4,"li",4),i.TgZ(6,"li",5),i._UZ(7,"i"),i._uU(8),i.qZA()()()()),2&g&&(i.xp6(3),i.hij(" ",T.heading," "),i.xp6(2),i.Q6J("ngIf",T.previousHeading),i.xp6(2),i.Gre("fa ",T.icon,""),i.xp6(1),i.hij(" ",T.heading,""))},dependencies:[c.O5,d.yS],styles:[".breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-bottom:0;list-style:none;padding:7px 0 0 22px}.breadcrumb-item[_ngcontent-%COMP%]{color:#773784}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;color:#773784}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#773784}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]:first-child   i[_ngcontent-%COMP%]{margin-right:1rem}@media (max-width: 768px){.breadcrumb-item.active[_ngcontent-%COMP%]{color:#773784}}"]}),p})()},2956:(x,m,s)=>{s.d(m,{$:()=>u});var i=s(6895),c=s(7750),d=s(4650);let u=(()=>{class e{}return e.\u0275fac=function(p){return new(p||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[i.ez,c.Bz]}),e})()},110:(x,m,s)=>{s.d(m,{o:()=>d});var i=s(6895),c=s(4650);let d=(()=>{class u{}return u.\u0275fac=function(_){return new(_||u)},u.\u0275mod=c.oAB({type:u}),u.\u0275inj=c.cJS({imports:[i.ez]}),u})()},7253:(x,m,s)=>{s.d(m,{Tj:()=>c.T}),s(6256);var c=s(4891)},8372:(x,m,s)=>{s.d(m,{b:()=>u});var i=s(4049),c=s(4482),d=s(5403);function u(e,_=i.z){return(0,c.e)((p,h)=>{let g=null,T=null,C=null;const A=()=>{if(g){g.unsubscribe(),g=null;const Z=T;T=null,h.next(Z)}};function b(){const Z=C+e,M=_.now();if(M<Z)return g=this.schedule(void 0,Z-M),void h.add(g);A()}p.subscribe((0,d.x)(h,Z=>{T=Z,C=_.now(),g||(g=_.schedule(b,e),h.add(g))},()=>{A(),h.complete()},void 0,()=>{T=g=null}))})}}}]);