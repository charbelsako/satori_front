"use strict";(self.webpackChunktest_ng7=self.webpackChunktest_ng7||[]).push([[946,161],{1644:(x,g,r)=>{r.r(g),r.d(g,{RoleModule:()=>ce});var i=r(6895),c=r(7750),d=r(4006),m=r(4903),e=r(4650),_=r(6316),u=r(4891),f=r(8161);function p(n,a){1&n&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"span",9),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function T(n,a){1&n&&(e.TgZ(0,"th"),e._uU(1,"RateMiner"),e.qZA())}function C(n,a){1&n&&(e.TgZ(0,"th"),e._uU(1,"DealMapper"),e.qZA())}function b(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"span")(2,"label",22)(3,"input",23),e.NdJ("change",function(s){e.CHM(t);const l=e.oxw().index,h=e.oxw(2);return e.KtG(h.updateProfilePermissionSet(l,"rateMiner",s.target.checked))}),e.qZA(),e._UZ(4,"span",24),e.qZA()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("checked",t.rateMiner)}}function R(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"span")(2,"label",22)(3,"input",23),e.NdJ("change",function(s){e.CHM(t);const l=e.oxw().index,h=e.oxw(2);return e.KtG(h.updateProfilePermissionSet(l,"dealMapper",s.target.checked))}),e.qZA(),e._UZ(4,"span",24),e.qZA()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("checked",t.dealMapper)}}function Z(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",7)(2,"td"),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e.YNc(5,b,5,1,"td",5),e.YNc(6,R,5,1,"td",5),e.TgZ(7,"td")(8,"span")(9,"label",22)(10,"input",23),e.NdJ("change",function(s){const h=e.CHM(t).index,v=e.oxw(2);return e.KtG(v.updatePermissionSet(h,"read",s.target.checked))}),e.qZA(),e._UZ(11,"span",24),e.qZA()()(),e.TgZ(12,"td")(13,"span")(14,"label",22)(15,"input",23),e.NdJ("change",function(s){const h=e.CHM(t).index,v=e.oxw(2);return e.KtG(v.updatePermissionSet(h,"write",s.target.checked))}),e.qZA(),e._UZ(16,"span",24),e.qZA()()()(),e.BQk()}if(2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,5,t.name)),e.xp6(2),e.Q6J("ngIf",o.isSuperAdmin),e.xp6(1),e.Q6J("ngIf",o.isSuperAdmin),e.xp6(4),e.Q6J("checked",t.read),e.xp6(5),e.Q6J("checked",t.write)}}function A(n,a){if(1&n&&(e.TgZ(0,"option",27),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.name),e.xp6(1),e.Oqu(e.lcZ(2,2,t.name))}}function y(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"label",13),e._uU(3,"Welcome Screen"),e.qZA(),e.TgZ(4,"select",25),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw(2);return e.KtG(l.welcomeScreen=s)}),e.YNc(5,A,3,4,"option",26),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.welcomeScreen),e.xp6(1),e.Q6J("ngForOf",t.permissionsStatus)}}function E(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"input",14),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.roleName=s)}),e.qZA()()(),e.TgZ(6,"form",15),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit())}),e.TgZ(7,"table",16)(8,"thead")(9,"tr",7)(10,"th"),e._uU(11,"Module Items"),e.qZA(),e.YNc(12,T,2,0,"th",5),e.YNc(13,C,2,0,"th",5),e.TgZ(14,"th"),e._uU(15,"Read"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Read-Write"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,Z,17,7,"ng-container",17),e.qZA()(),e.YNc(20,y,6,2,"div",18),e.TgZ(21,"div",19)(22,"button",20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.checkSubmit())}),e._uU(23,"Submit"),e.qZA(),e.TgZ(24,"button",21),e._uU(25,"Cancel"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.roleName),e.xp6(7),e.Q6J("ngIf",t.isSuperAdmin),e.xp6(1),e.Q6J("ngIf",t.isSuperAdmin),e.xp6(6),e.Q6J("ngForOf",t.permissionsStatus),e.xp6(1),e.Q6J("ngIf",t.permissionsStatus.length>0)}}let S=(()=>{class n{constructor(t,o,s,l,h){this.fb=t,this.rolesService=o,this.router=s,this.route=l,this.jwtService=h,this.roleId="",this.editForm=!1,this.isLoading=!1,this.modulesPermissions=new d.Oe([]),this.webModules=[],this.welcomeScreen="Dashboard",this.route.params.subscribe(v=>{""!==v.roleId&&null!=v.roleId&&(this.roleId=v.roleId,this.editForm=!0)})}ngOnInit(){this.user=this.jwtService.getUser(),this.isSuperAdmin=this.user.isSuperAdmin,this.permissionsStatus=[],this.webModules=this.jwtService.getPermissions(),this.editForm&&this.roleId?this.getRole(this.roleId):this.createNewForm()}createNewForm(){this.isLoading=!0,this.webModules.map(t=>{this.permissionsStatus.push({name:t.name,key:t.key,read:!0,write:!0,rateMiner:!1,dealMapper:!1})}),this.isLoading=!1,console.log(this.permissionsStatus)}getRole(t){this.isLoading=!0,this.rolesService.getRoleById(t).subscribe(o=>{this.permissionsStatus=o.permission,this.roleName=o.name,this.welcomeScreen=o.welcomeScreen,this.isLoading=!1},o=>{this.isLoading=!1,this.router.navigate(["/roles"])})}onUpdate(){this.rolesService.updateRole(this.roleId,{name:this.roleName,permission:this.permissionsStatus,welcomeScreen:this.welcomeScreen}).subscribe(o=>{this.router.navigate(["/roles"])})}onSubmit(){this.rolesService.addNewRole({name:this.roleName,permission:this.permissionsStatus,welcomeScreen:this.welcomeScreen}).subscribe(o=>{this.router.navigate(["/roles"])})}checkSubmit(){this.editForm?this.onUpdate():this.onSubmit()}updatePermissionSet(t,o,s){const l=this.permissionsStatus[t];l[o]=s,"write"===o&&s&&(l.read=!0),"read"===o&&!s&&(l.write=!1)}updateProfilePermissionSet(t,o,s){const l=this.permissionsStatus[t];l[o]=s,"rateMiner"===o&&(s?(l.rateMiner=!0,this.updatePermissionSet(t,"read",!0)):(l.rateMiner=!1,this.updatePermissionSet(t,"read",!1))),"dealMapper"===o&&(s?(l.dealMapper=!0,this.updatePermissionSet(t,"read",!0)):(l.dealMapper=!1,this.updatePermissionSet(t,"read",!1)))}getObjectKeys(t){return Object.keys(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.qu),e.Y36(_.N),e.Y36(c.F0),e.Y36(c.gz),e.Y36(u.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-edit-role"]],decls:9,vars:7,consts:[[3,"previousHeading","previousLink","heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-header"],[1,"card-body"],[4,"ngIf"],["class","tab-inn",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"tab-inn"],[1,"table-responsive","table-desi"],[1,"form-group",2,"margin","10px 10px"],[1,"bmd-label-floating"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["role","form","novalidate","",1,"form-group",3,"ngSubmit"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["class","table-responsive table-desi",4,"ngIf"],[1,"form-group","mb-2","py-2","text-right"],["type","button",1,"btn","btn-info",3,"click"],["type","button","routerLink","/roles",1,"btn","btn-secondary"],[1,"switch"],["type","checkbox",3,"checked","change"],[1,"slider","round"],["name","welcomeScreen",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3),e._uU(5," Add | Edit Role "),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,p,5,0,"ng-container",5),e.YNc(8,E,26,5,"div",6),e.qZA()()()()),2&t&&(e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("previousHeading","Roles and Permissions")("previousLink","roles")("heading","Add-Edit Role"),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(5),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},dependencies:[i.sg,i.O5,c.rH,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,f.q,d.On,d.F,i.rS],styles:[".form-check-input[_ngcontent-%COMP%]{font-size:20px}"],data:{animation:[(0,m.Z9)()]}}),n})();var w=r(4221),J=r(7579),I=r(8372),N=r(1884),U=r(7253),O=r(4304),M=r(6393);function P(n,a){1&n&&(e.TgZ(0,"button",13),e._uU(1,"Add New Role"),e.qZA())}function L(n,a){1&n&&(e.ynx(0),e.TgZ(1,"div",14)(2,"div",15)(3,"span",16),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function Q(n,a){1&n&&(e.TgZ(0,"div")(1,"p",14),e._uU(2,"No users found"),e.qZA()())}function Y(n,a){1&n&&(e.TgZ(0,"th",26),e._uU(1,"Edit"),e.qZA())}function q(n,a){1&n&&(e.TgZ(0,"th",26),e._uU(1,"Delete"),e.qZA())}function F(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"div",28)(2,"button",29),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.editRole(s.id))}),e._UZ(3,"img",30),e.qZA()()()}}function H(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"div",28)(2,"button",29),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.deleteRole(s.id))}),e._UZ(3,"img",31),e.qZA()()()}}const D=function(n){return["view-role",n]};function K(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"a",27),e._uU(3),e.qZA()(),e.YNc(4,F,4,0,"td",10),e.YNc(5,H,4,0,"td",10),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(3);e.xp6(2),e.Q6J("routerLink",e.VKq(4,D,t.id)),e.xp6(1),e.hij(" ",null==t?null:t.name," "),e.xp6(1),e.Q6J("ngIf",o.isEditAccess),e.xp6(1),e.Q6J("ngIf",o.isEditAccess)}}const j=function(){return{standalone:!0}};function k(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",17)(2,"table",18)(3,"thead")(4,"tr")(5,"th",19),e.NdJ("sort",function(s){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onSort(s))}),e._uU(6,"Title"),e.qZA(),e.YNc(7,Y,2,0,"th",20),e.YNc(8,q,2,0,"th",20),e.qZA()(),e.TgZ(9,"tbody"),e.YNc(10,K,6,6,"tr",21),e.qZA()(),e.TgZ(11,"div",22)(12,"ngb-pagination",23),e.NdJ("pageChange",function(s){e.CHM(t);const l=e.oxw(2);return e.KtG(l._state.page=s)})("pageChange",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.refreshStaff())}),e.qZA(),e.TgZ(13,"select",24),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw(2);return e.KtG(l._state.limit=s)})("ngModelChange",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.refreshStaff())}),e.TgZ(14,"option",25),e._uU(15,"10 items per page"),e.qZA(),e.TgZ(16,"option",25),e._uU(17,"20 items per page"),e.qZA(),e.TgZ(18,"option",25),e._uU(19,"30 items per page"),e.qZA()()()()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.isEditAccess),e.xp6(1),e.Q6J("ngIf",t.isEditAccess),e.xp6(2),e.Q6J("ngForOf",t.roles),e.xp6(2),e.Q6J("collectionSize",t._state.totalResults)("page",t._state.page)("pageSize",t._state.limit)("rotate",!0)("maxSize",5)("boundaryLinks",!0),e.xp6(1),e.Q6J("ngModel",t._state.limit)("ngModelOptions",e.DdM(14,j)),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",20),e.xp6(2),e.Q6J("ngValue",30)}}function B(n,a){if(1&n&&e.YNc(0,k,20,15,"div",10),2&n){const t=e.oxw();e.Q6J("ngIf",!t.isLoading)}}function G(n,a){1&n&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"span",9),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function W(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Yes"),e.qZA())}function z(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"No"),e.qZA())}function X(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Yes"),e.qZA())}function $(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"No"),e.qZA())}function ee(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Yes"),e.qZA())}function te(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"No"),e.qZA())}function ne(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Yes"),e.qZA())}function oe(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"No"),e.qZA())}function ie(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td"),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e.TgZ(5,"td"),e.YNc(6,W,2,0,"span",5),e.YNc(7,z,2,0,"span",5),e.qZA(),e.TgZ(8,"td"),e.YNc(9,X,2,0,"span",5),e.YNc(10,$,2,0,"span",5),e.qZA(),e.TgZ(11,"td"),e.YNc(12,ee,2,0,"span",5),e.YNc(13,te,2,0,"span",5),e.qZA(),e.TgZ(14,"td"),e.YNc(15,ne,2,0,"span",5),e.YNc(16,oe,2,0,"span",5),e.qZA()(),e.BQk()),2&n){const t=a.$implicit;e.xp6(3),e.Oqu(e.lcZ(4,9,t.name)),e.xp6(3),e.Q6J("ngIf",t.rateMiner),e.xp6(1),e.Q6J("ngIf",!t.rateMiner),e.xp6(2),e.Q6J("ngIf",t.dealMapper),e.xp6(1),e.Q6J("ngIf",!t.dealMapper),e.xp6(2),e.Q6J("ngIf",t.read),e.xp6(1),e.Q6J("ngIf",!t.read),e.xp6(2),e.Q6J("ngIf",t.write),e.xp6(1),e.Q6J("ngIf",!t.write)}}function se(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"input",14),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.roleName=s)}),e.qZA()()(),e.TgZ(6,"table",15)(7,"thead")(8,"tr")(9,"th"),e._uU(10,"Module Items"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Rateminer"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Dealmapper"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Read"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Read-Write"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,ie,17,11,"ng-container",16),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("readOnly",!0)("ngModel",t.roleName),e.xp6(15),e.Q6J("ngForOf",t.permissionsStatus)}}const re=[{path:"",component:(()=>{class n{constructor(t,o,s,l,h){this.router=t,this.rolesService=o,this.cdr=s,this.jwtService=l,this.confirmationDialogService=h,this.searchTerm="",this.searchTermUpdate=new J.x,this.isLoading=!1,this.isRoles=!0,this.roles=[],this._state={page:1,limit:20,totalPages:1,totalResults:0,searchTerm:"",sortColumn:"createdAt",sortDirection:"desc"},this.isEditAccess=!1,this.searchTermUpdate.pipe((0,I.b)(1e3),(0,N.x)()).subscribe(v=>{this._state.searchTerm=v,this.getAllRoles(this._state)})}ngOnInit(){this.isLoading=!0,this.isEditAccess=this.jwtService.checkAccess("roles"),this.getAllRoles(this._state)}onSort({column:t,direction:o}){this.sortedColumn=t,this.sortedDirection=o,this._state.sortColumn=t,this._state.sortDirection=o,this.getAllRoles(this._state)}getAllRoles(t){this.isLoading=!0,this.rolesService.getRoles(t).subscribe(o=>{this.roles=o.results,this.isRoles=0!=this.roles.length,this.setState(o),this.isLoading=!1},o=>{this.isLoading=!1})}refreshRoles(){this.getAllRoles(this._state)}setState(t){this._state.page=t.page,this._state.limit=t.limit,this._state.totalPages=t.totalPages,this._state.totalResults=t.totalResults}editRole(t){this.router.navigate(["/roles/edit-role/"+t])}updateStatus(t,o){this.rolesService.updateRole(t,{isActive:!o}).subscribe(l=>{l&&this.refreshRoles()})}deleteRole(t){this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete this user ?").then(o=>{o&&this.rolesService.deleteRole(t).subscribe(s=>{this.getAllRoles(this._state)})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.F0),e.Y36(_.N),e.Y36(e.sBO),e.Y36(U.Tj),e.Y36(O.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles"]],viewQuery:function(t,o){if(1&t&&e.Gf(w.j,5),2&t){let s;e.iGM(s=e.CRH())&&(o.headers=s)}},decls:16,vars:8,consts:[[3,"heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-body"],[1,"row","mb-2","search-header"],[1,"col-md-10","text-left","mb-1","mb-md-0"],[1,"form-group","mb-1"],["type","text","type","text","name","searchTerm","id","userstaffs","placeholder","Search here...",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-2","text-center"],["type","button","routerLink","/roles/add-role","class","btn btn-primary btn-block",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["table",""],["type","button","routerLink","/roles/add-role",1,"btn","btn-primary","btn-block"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col","sortable","name",3,"sort"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","rotate","maxSize","boundaryLinks","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngValue"],["scope","col"],[3,"routerLink"],[1,"action-buttons"],[3,"click"],["src","assets/images/pencil.svg","alt",""],["src","assets/images/icons8-trash-can.svg","alt",""]],template:function(t,o){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"form")(6,"div",4)(7,"div",5)(8,"div",6)(9,"input",7),e.NdJ("ngModelChange",function(l){return o._state.searchTerm=l})("ngModelChange",function(l){return o.searchTermUpdate.next(l)}),e.qZA()()(),e.TgZ(10,"div",8),e.YNc(11,P,2,0,"button",9),e.qZA()(),e.YNc(12,L,5,0,"ng-container",10),e.YNc(13,Q,3,0,"div",11),e.YNc(14,B,1,1,"ng-template",null,12,e.W1O),e.qZA()()()()()),2&t){const s=e.MAs(15);e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("heading","Roles and Permissions"),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(7),e.Q6J("ngModel",o._state.searchTerm),e.xp6(2),e.Q6J("ngIf",o.isEditAccess),e.xp6(1),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isRoles)("ngIfElse",s)}},dependencies:[i.sg,i.O5,c.rH,c.yS,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,f.q,d.On,d.F,M.N9],data:{animation:[(0,m.Z9)()]}}),n})()},{path:"add-role",component:S},{path:"edit-role/:roleId",component:S},{path:"view-role/:roleId",component:(()=>{class n{constructor(t,o,s,l,h){this.fb=t,this.rolesService=o,this.router=s,this.route=l,this.jwtService=h,this.roleId="",this.editForm=!1,this.isLoading=!1,this.modulesPermissions=new d.Oe([]),this.webModules=[],this.route.params.subscribe(v=>{""!==v.roleId&&null!=v.roleId&&(this.roleId=v.roleId,this.editForm=!0)})}ngOnInit(){this.getRole(this.roleId)}getRole(t){this.isLoading=!0,this.rolesService.getRoleById(t).subscribe(o=>{this.permissionsStatus=o.permission,this.roleName=o.name,this.isLoading=!1},o=>{this.isLoading=!1,this.router.navigate(["/roles"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.qu),e.Y36(_.N),e.Y36(c.F0),e.Y36(c.gz),e.Y36(u.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-role"]],decls:9,vars:7,consts:[[3,"previousHeading","previousLink","heading"],[1,"container-fluid","mt-2"],[1,"card"],[1,"card-header"],[1,"card-body"],[4,"ngIf"],["class","tab-inn",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"tab-inn"],[1,"table-responsive","table-desi"],[1,"form-group",2,"margin","10px 10px"],[1,"bmd-label-floating"],["type","text",1,"form-control",3,"readOnly","ngModel","ngModelChange"],[1,"table","table-striped"],[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-page-header",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3),e._uU(5," Role Details "),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,G,5,0,"ng-container",5),e.YNc(8,se,21,3,"div",6),e.qZA()()()()),2&t&&(e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("previousHeading","Roles and Permissions")("previousLink","roles")("heading","Role Details"),e.xp6(1),e.Q6J("@routerTransition",void 0),e.xp6(5),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},dependencies:[i.sg,i.O5,d.Fj,d.JJ,f.q,d.On,i.rS],data:{animation:[(0,m.Z9)()]}}),n})()}];let ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.Bz.forChild(re),c.Bz]}),n})();var le=r(8260),de=r(486);let ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[le.j,_.N],imports:[i.ez,ae,d.UX,de.$n,d.u5,M.ZS,M.jF]}),n})()},4903:(x,g,r)=>{r.d(g,{Z9:()=>c});var i=r(7340);function c(){return function d(){return(0,i.X$)("routerTransition",[])}()}},4221:(x,g,r)=>{r.d(g,{j:()=>i.j});var i=r(8260)},8260:(x,g,r)=>{r.d(g,{j:()=>d});var i=r(4650);const c={asc:"desc",desc:"asc","":"asc"};let d=(()=>{class m{constructor(){this.direction="",this.sort=new i.vpe}ngOnChanges(_){this.sortable!==_?.oldColumn?.currentValue&&_?.oldColumn?.currentValue!==_?.oldColumn?.previousValue&&(this.direction="")}rotate(){this.direction=c[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return m.\u0275fac=function(_){return new(_||m)},m.\u0275dir=i.lG2({type:m,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(_,u){1&_&&i.NdJ("click",function(){return u.rotate()}),2&_&&i.ekj("asc","asc"===u.direction)("desc","desc"===u.direction)},inputs:{sortable:"sortable",oldColumn:"oldColumn",direction:"direction"},outputs:{sort:"sort"},exportAs:["NgbdSortableHeader"],features:[i.TTD]}),m})()},486:(x,g,r)=>{r.d(g,{$n:()=>i.$});var i=r(2956);r(1880)},8161:(x,g,r)=>{r.d(g,{q:()=>_});var i=r(4650),c=r(6895),d=r(7750);const m=function(u){return["/",u]};function e(u,f){if(1&u&&(i.TgZ(0,"li",6)(1,"a",7),i._uU(2),i.qZA()()),2&u){const p=i.oxw();i.xp6(1),i.Q6J("routerLink",i.VKq(2,m,p.previousLink)),i.xp6(1),i.Oqu(p.previousHeading)}}let _=(()=>{class u{constructor(){this.previousLink=decodeURIComponent(this.previousLink)}ngOnInit(){}}return u.\u0275fac=function(p){return new(p||u)},u.\u0275cmp=i.Xpm({type:u,selectors:[["app-page-header"]],inputs:{previousHeading:"previousHeading",previousLink:"previousLink",heading:"heading",previoudIcon:"previoudIcon",icon:"icon"},decls:9,vars:6,consts:[[1,"row"],[1,"col-xl-12"],[1,"page-header"],[1,"breadcrumb"],["class","breadcrumb-item",4,"ngIf"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"],["href","Javascript:void(0)",3,"routerLink"]],template:function(p,T){1&p&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),i._uU(3),i.qZA(),i.TgZ(4,"ol",3),i.YNc(5,e,3,4,"li",4),i.TgZ(6,"li",5),i._UZ(7,"i"),i._uU(8),i.qZA()()()()),2&p&&(i.xp6(3),i.hij(" ",T.heading," "),i.xp6(2),i.Q6J("ngIf",T.previousHeading),i.xp6(2),i.Gre("fa ",T.icon,""),i.xp6(1),i.hij(" ",T.heading,""))},dependencies:[c.O5,d.yS],styles:[".breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-bottom:0;list-style:none;padding:7px 0 0 22px}.breadcrumb-item[_ngcontent-%COMP%]{color:#773784}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;color:#773784}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#773784}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]:first-child   i[_ngcontent-%COMP%]{margin-right:1rem}@media (max-width: 768px){.breadcrumb-item.active[_ngcontent-%COMP%]{color:#773784}}"]}),u})()},2956:(x,g,r)=>{r.d(g,{$:()=>m});var i=r(6895),c=r(7750),d=r(4650);let m=(()=>{class e{}return e.\u0275fac=function(u){return new(u||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[i.ez,c.Bz]}),e})()},7253:(x,g,r)=>{r.d(g,{Tj:()=>c.T}),r(6256);var c=r(4891)},8372:(x,g,r)=>{r.d(g,{b:()=>m});var i=r(4049),c=r(4482),d=r(5403);function m(e,_=i.z){return(0,c.e)((u,f)=>{let p=null,T=null,C=null;const b=()=>{if(p){p.unsubscribe(),p=null;const Z=T;T=null,f.next(Z)}};function R(){const Z=C+e,A=_.now();if(A<Z)return p=this.schedule(void 0,Z-A),void f.add(p);b()}u.subscribe((0,d.x)(f,Z=>{T=Z,C=_.now(),p||(p=_.schedule(R,e),f.add(p))},()=>{b(),f.complete()},void 0,()=>{T=p=null}))})}}}]);